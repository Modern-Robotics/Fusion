var _0x5bbf=['mrifusion','raspberry','/usr/Fusion/FusionServer/','http','socket.io','*:*','env','PORT','passport','connect-flash','connect-multiparty','./app/controllers/FileUploadController','morgan','cookie-parser','body-parser','express-session','./config/database.js','NODE_ENV','dev','./app/models/user','log','./config/passport','./config/app','./app/routes.js','listen','The\x20magic\x20happens\x20on\x20port\x20','wlan1','/usr/Fusion/FusionServer/config/','classroom','FusionAP_41cff4'];(function(_0x22deba,_0x430ae0){var _0x36fe2c=function(_0x28c1d4){while(--_0x28c1d4){_0x22deba['push'](_0x22deba['shift']());}};_0x36fe2c(++_0x430ae0);}(_0x5bbf,0x1be));var _0x53f4=function(_0x176839,_0x42a476){_0x176839=_0x176839-0x0;var _0x1c449e=_0x5bbf[_0x176839];return _0x1c449e;};var FusionSettings={'MultiUserAccess':![],'SocketVariables':{'fusion_battery_level':'','fusion_current_SHA':'','fusion_current_version':'','fusion_latest_SHA':'','fusion_latest_version':'','fusion_update_available':![],'fusion_gamepad_available':![],'fusion_diagnostics_running':null,'fusion_internet_access':![],'fusion_wifi_access':![],'fusion_program_running':null},'Storage':{'primaryInterface':_0x53f4('0x0'),'type':'local','address':null,'configLocation':_0x53f4('0x1')},'Cloud':[{'name':'c3','type':_0x53f4('0x2'),'ip':'172.16.0.1','hiddenSSID':_0x53f4('0x3'),'hiddenPass':_0x53f4('0x4'),'ssh_user':'pi','ssh_pass':_0x53f4('0x5'),'configFileName':'.serverConfig','configFilePath':_0x53f4('0x6')+'.serverConfig'}]};var express=require('express');var app=express();var server=require(_0x53f4('0x7'))['Server'](app);var io=require(_0x53f4('0x8'))(server,{'origins':_0x53f4('0x9'),'serveClient':![],'cookie':![]});var port=process[_0x53f4('0xa')][_0x53f4('0xb')]||0x1f90;var mongoose=require('mongoose');var passport=require(_0x53f4('0xc'));var methodOverride=require('method-override');var flash=require(_0x53f4('0xd'));var fusionProgram=require('./app/fusionProgram.js')(io,FusionSettings);var fs=require('fs');var multiparty=require(_0x53f4('0xe'));var FileUploadController=require(_0x53f4('0xf'));var multipartyMiddleware=multiparty();var morgan=require(_0x53f4('0x10'));var cookieParser=require(_0x53f4('0x11'));var bodyParser=require(_0x53f4('0x12'));var session=require(_0x53f4('0x13'));var configDB=require(_0x53f4('0x14'));var env=process[_0x53f4('0xa')][_0x53f4('0x15')]||_0x53f4('0x16');var storage={'type':'local'};var user=require(_0x53f4('0x17'));module['exports']=async function ServerInitialization(){console[_0x53f4('0x18')]('Running\x20in\x20\x22'+env+'\x22\x20mode');await require('./server/utils/logging/');require('./config/database')(mongoose,user);require(_0x53f4('0x19'))(passport);require(_0x53f4('0x1a'))(app,express,__dirname,morgan,cookieParser,bodyParser,methodOverride,session,passport,flash,env,storage,fs);require('./config/socket.js')(io,fusionProgram,FusionSettings);require(_0x53f4('0x1b'))(app,passport,fusionProgram,io,multipartyMiddleware,FileUploadController,env,storage,FusionSettings);server[_0x53f4('0x1c')](port,async function(){console[_0x53f4('0x18')](_0x53f4('0x1d')+port);await require('./server/classroom/');});}();