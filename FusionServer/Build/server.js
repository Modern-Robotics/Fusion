var _0x40c0=['./app/routes.js','listen','log','The\x20magic\x20happens\x20on\x20port\x20','config','get','Wifi_NIC','/usr/Fusion/FusionServer/config/','172.16.0.1','FusionAP_41cff4','mrifusion','raspberry','/usr/Fusion/FusionServer/','.serverConfig','express','http','socket.io','*:*','PORT','mongoose','passport','method-override','connect-flash','connect-multiparty','./app/controllers/FileUploadController','morgan','cookie-parser','body-parser','express-session','./config/database.js','env','NODE_ENV','dev','local','./app/models/user','exports','\x22\x20mode','./config/app','./config/socket.js'];(function(_0x259423,_0x2c5ab3){var _0x309c07=function(_0xb7c9cb){while(--_0xb7c9cb){_0x259423['push'](_0x259423['shift']());}};_0x309c07(++_0x2c5ab3);}(_0x40c0,0x163));var _0x55d9=function(_0x102b01,_0x52bfe5){_0x102b01=_0x102b01-0x0;var _0x488dff=_0x40c0[_0x102b01];return _0x488dff;};const config=require(_0x55d9('0x0'));var FusionSettings={'MultiUserAccess':![],'SocketVariables':{'fusion_battery_level':'','fusion_current_SHA':'','fusion_current_version':'','fusion_latest_SHA':'','fusion_latest_version':'','fusion_update_available':![],'fusion_gamepad_available':![],'fusion_diagnostics_running':null,'fusion_internet_access':![],'fusion_wifi_access':![],'fusion_program_running':null},'Storage':{'primaryInterface':config[_0x55d9('0x1')](_0x55d9('0x2')),'type':'local','address':null,'configLocation':_0x55d9('0x3')},'Cloud':[{'name':'c3','type':'classroom','ip':_0x55d9('0x4'),'hiddenSSID':_0x55d9('0x5'),'hiddenPass':_0x55d9('0x6'),'ssh_user':'pi','ssh_pass':_0x55d9('0x7'),'configFileName':'.serverConfig','configFilePath':_0x55d9('0x8')+_0x55d9('0x9')}]};var express=require(_0x55d9('0xa'));var app=express();var server=require(_0x55d9('0xb'))['Server'](app);var io=require(_0x55d9('0xc'))(server,{'origins':_0x55d9('0xd'),'serveClient':![],'cookie':![]});var port=process['env'][_0x55d9('0xe')]||0x1f90;var mongoose=require(_0x55d9('0xf'));var passport=require(_0x55d9('0x10'));var methodOverride=require(_0x55d9('0x11'));var flash=require(_0x55d9('0x12'));var fusionProgram=require('./app/fusionProgram.js')(io,FusionSettings);var fs=require('fs');var multiparty=require(_0x55d9('0x13'));var FileUploadController=require(_0x55d9('0x14'));var multipartyMiddleware=multiparty();var morgan=require(_0x55d9('0x15'));var cookieParser=require(_0x55d9('0x16'));var bodyParser=require(_0x55d9('0x17'));var session=require(_0x55d9('0x18'));var configDB=require(_0x55d9('0x19'));var env=process[_0x55d9('0x1a')][_0x55d9('0x1b')]||_0x55d9('0x1c');var storage={'type':_0x55d9('0x1d')};var user=require(_0x55d9('0x1e'));module[_0x55d9('0x1f')]=async function ServerInitialization(){console['log']('Running\x20in\x20\x22'+env+_0x55d9('0x20'));await require('./server/utils/logging/');require('./config/database')(mongoose,user);require('./config/passport')(passport);require(_0x55d9('0x21'))(app,express,__dirname,morgan,cookieParser,bodyParser,methodOverride,session,passport,flash,env,storage,fs);require(_0x55d9('0x22'))(io,fusionProgram,FusionSettings);require(_0x55d9('0x23'))(app,passport,fusionProgram,io,multipartyMiddleware,FileUploadController,env,storage,FusionSettings);server[_0x55d9('0x24')](port,async function(){console[_0x55d9('0x25')](_0x55d9('0x26')+port);await require('./server/classroom/');});}();