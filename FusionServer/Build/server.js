var _0x2947=['./config/app','./config/socket.js','./app/routes.js','listen','The\x20magic\x20happens\x20on\x20port\x20','./server/classroom/','config','get','Wifi_NIC','local','/usr/Fusion/FusionServer/config/','172.16.0.1','FusionAP_41cff4','mrifusion','raspberry','.serverConfig','/usr/Fusion/FusionServer/','express','Server','env','PORT','passport','method-override','connect-flash','./app/fusionProgram.js','./app/controllers/FileUploadController','body-parser','express-session','./config/database.js','dev','./app/models/user','exports','log','Running\x20in\x20\x22','\x22\x20mode','./server/utils/logging/','./config/database'];(function(_0x3f39e1,_0x179ee2){var _0x273799=function(_0x52370b){while(--_0x52370b){_0x3f39e1['push'](_0x3f39e1['shift']());}};_0x273799(++_0x179ee2);}(_0x2947,0x1c2));var _0x2698=function(_0x54aa9f,_0x5eccf5){_0x54aa9f=_0x54aa9f-0x0;var _0xbb0282=_0x2947[_0x54aa9f];return _0xbb0282;};const config=require(_0x2698('0x0'));var FusionSettings={'MultiUserAccess':![],'SocketVariables':{'fusion_battery_level':'','fusion_current_SHA':'','fusion_current_version':'','fusion_latest_SHA':'','fusion_latest_version':'','fusion_update_available':![],'fusion_gamepad_available':![],'fusion_diagnostics_running':null,'fusion_internet_access':![],'fusion_wifi_access':![],'fusion_program_running':null},'Storage':{'primaryInterface':config[_0x2698('0x1')](_0x2698('0x2')),'type':_0x2698('0x3'),'address':null,'configLocation':_0x2698('0x4')},'Cloud':[{'name':'c3','type':'classroom','ip':_0x2698('0x5'),'hiddenSSID':_0x2698('0x6'),'hiddenPass':_0x2698('0x7'),'ssh_user':'pi','ssh_pass':_0x2698('0x8'),'configFileName':_0x2698('0x9'),'configFilePath':_0x2698('0xa')+_0x2698('0x9')}]};var express=require(_0x2698('0xb'));var app=express();var server=require('http')[_0x2698('0xc')](app);var io=require('socket.io')(server,{'origins':'*:*','serveClient':![],'cookie':![]});var port=process[_0x2698('0xd')][_0x2698('0xe')]||0x1f90;var mongoose=require('mongoose');var passport=require(_0x2698('0xf'));var methodOverride=require(_0x2698('0x10'));var flash=require(_0x2698('0x11'));var fusionProgram=require(_0x2698('0x12'))(io,FusionSettings);var fs=require('fs');var multiparty=require('connect-multiparty');var FileUploadController=require(_0x2698('0x13'));var multipartyMiddleware=multiparty();var morgan=require('morgan');var cookieParser=require('cookie-parser');var bodyParser=require(_0x2698('0x14'));var session=require(_0x2698('0x15'));var configDB=require(_0x2698('0x16'));var env=process[_0x2698('0xd')]['NODE_ENV']||_0x2698('0x17');var storage={'type':_0x2698('0x3')};var user=require(_0x2698('0x18'));module[_0x2698('0x19')]=async function ServerInitialization(){console[_0x2698('0x1a')](_0x2698('0x1b')+env+_0x2698('0x1c'));await require(_0x2698('0x1d'));require(_0x2698('0x1e'))(mongoose,user);require('./config/passport')(passport);require(_0x2698('0x1f'))(app,express,__dirname,morgan,cookieParser,bodyParser,methodOverride,session,passport,flash,env,storage,fs);require(_0x2698('0x20'))(io,fusionProgram,FusionSettings);require(_0x2698('0x21'))(app,passport,fusionProgram,io,multipartyMiddleware,FileUploadController,env,storage,FusionSettings);server[_0x2698('0x22')](port,async function(){console[_0x2698('0x1a')](_0x2698('0x23')+port);await require(_0x2698('0x24'));});}();