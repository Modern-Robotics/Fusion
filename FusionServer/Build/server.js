var _0x5134=['.serverConfig','socket.io','*:*','env','PORT','passport','method-override','connect-flash','./app/fusionProgram.js','connect-multiparty','./app/controllers/FileUploadController','morgan','cookie-parser','body-parser','NODE_ENV','dev','./app/models/user','log','./config/passport','./config/app','./config/socket.js','./app/routes.js','The\x20magic\x20happens\x20on\x20port\x20','./server/classroom/','config','get','Wifi_NIC','local','/usr/Fusion/FusionServer/config/','172.16.0.1','mrifusion','raspberry','/usr/Fusion/FusionServer/'];(function(_0x4def95,_0x202721){var _0x418b8b=function(_0x5866cf){while(--_0x5866cf){_0x4def95['push'](_0x4def95['shift']());}};_0x418b8b(++_0x202721);}(_0x5134,0x7b));var _0x83e8=function(_0x283239,_0x4f0b90){_0x283239=_0x283239-0x0;var _0x28bc21=_0x5134[_0x283239];return _0x28bc21;};const config=require(_0x83e8('0x0'));var FusionSettings={'MultiUserAccess':![],'SocketVariables':{'fusion_battery_level':'','fusion_current_SHA':'','fusion_current_version':'','fusion_latest_SHA':'','fusion_latest_version':'','fusion_update_available':![],'fusion_gamepad_available':![],'fusion_diagnostics_running':null,'fusion_internet_access':![],'fusion_wifi_access':![],'fusion_program_running':null},'Storage':{'primaryInterface':config[_0x83e8('0x1')](_0x83e8('0x2')),'type':_0x83e8('0x3'),'address':null,'configLocation':_0x83e8('0x4')},'Cloud':[{'name':'c3','type':'classroom','ip':_0x83e8('0x5'),'hiddenSSID':'FusionAP_41cff4','hiddenPass':_0x83e8('0x6'),'ssh_user':'pi','ssh_pass':_0x83e8('0x7'),'configFileName':'.serverConfig','configFilePath':_0x83e8('0x8')+_0x83e8('0x9')}]};var express=require('express');var app=express();var server=require('http')['Server'](app);var io=require(_0x83e8('0xa'))(server,{'origins':_0x83e8('0xb'),'serveClient':![],'cookie':![]});var port=process[_0x83e8('0xc')][_0x83e8('0xd')]||0x1f90;var mongoose=require('mongoose');var passport=require(_0x83e8('0xe'));var methodOverride=require(_0x83e8('0xf'));var flash=require(_0x83e8('0x10'));var fusionProgram=require(_0x83e8('0x11'))(io,FusionSettings);var fs=require('fs');var multiparty=require(_0x83e8('0x12'));var FileUploadController=require(_0x83e8('0x13'));var multipartyMiddleware=multiparty();var morgan=require(_0x83e8('0x14'));var cookieParser=require(_0x83e8('0x15'));var bodyParser=require(_0x83e8('0x16'));var session=require('express-session');var configDB=require('./config/database.js');var env=process[_0x83e8('0xc')][_0x83e8('0x17')]||_0x83e8('0x18');var storage={'type':'local'};var user=require(_0x83e8('0x19'));module['exports']=async function ServerInitialization(){console[_0x83e8('0x1a')]('Running\x20in\x20\x22'+env+'\x22\x20mode');await require('./server/utils/logging/');require('./config/database')(mongoose,user);require(_0x83e8('0x1b'))(passport);require(_0x83e8('0x1c'))(app,express,__dirname,morgan,cookieParser,bodyParser,methodOverride,session,passport,flash,env,storage,fs);require(_0x83e8('0x1d'))(io,fusionProgram,FusionSettings);require(_0x83e8('0x1e'))(app,passport,fusionProgram,io,multipartyMiddleware,FileUploadController,env,storage,FusionSettings);server['listen'](port,async function(){console['log'](_0x83e8('0x1f')+port);await require(_0x83e8('0x20'));});}();