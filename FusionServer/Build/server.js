var _0x78ba=['/usr/Fusion/FusionServer/','express','Server','socket.io','*:*','env','PORT','mongoose','passport','method-override','connect-flash','connect-multiparty','./app/controllers/FileUploadController','cookie-parser','body-parser','express-session','./config/database.js','NODE_ENV','dev','./app/models/user','log','Running\x20in\x20\x22','\x22\x20mode','./config/passport','./config/socket.js','./app/routes.js','listen','The\x20magic\x20happens\x20on\x20port\x20','./server/classroom/','config','NIC:\x20','get','Wifi_NIC',',\x20WAP:\x20','Wifi_WAP','Wire_NET','local','172.16.0.1','FusionAP_41cff4','mrifusion','raspberry','.serverConfig'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(_0x78ba,0x1eb));var _0x5cf9=function(_0xeeac15,_0xf04827){_0xeeac15=_0xeeac15-0x0;var _0x15ce8a=_0x78ba[_0xeeac15];return _0x15ce8a;};const config=require(_0x5cf9('0x0'));console['log'](_0x5cf9('0x1')+config[_0x5cf9('0x2')](_0x5cf9('0x3'))+_0x5cf9('0x4')+config[_0x5cf9('0x2')](_0x5cf9('0x5'))+',\x20NET:\x20'+config[_0x5cf9('0x2')](_0x5cf9('0x6')));var FusionSettings={'MultiUserAccess':![],'SocketVariables':{'fusion_battery_level':'','fusion_current_SHA':'','fusion_current_version':'','fusion_latest_SHA':'','fusion_latest_version':'','fusion_update_available':![],'fusion_gamepad_available':![],'fusion_diagnostics_running':null,'fusion_internet_access':![],'fusion_wifi_access':![],'fusion_program_running':null},'Storage':{'primaryInterface':config['get']('Wifi_NIC'),'type':_0x5cf9('0x7'),'address':null,'configLocation':'/usr/Fusion/FusionServer/config/'},'Cloud':[{'name':'c3','type':'classroom','ip':_0x5cf9('0x8'),'hiddenSSID':_0x5cf9('0x9'),'hiddenPass':_0x5cf9('0xa'),'ssh_user':'pi','ssh_pass':_0x5cf9('0xb'),'configFileName':_0x5cf9('0xc'),'configFilePath':_0x5cf9('0xd')+'.serverConfig'}]};var express=require(_0x5cf9('0xe'));var app=express();var server=require('http')[_0x5cf9('0xf')](app);var io=require(_0x5cf9('0x10'))(server,{'origins':_0x5cf9('0x11'),'serveClient':![],'cookie':![]});var port=process[_0x5cf9('0x12')][_0x5cf9('0x13')]||0x1f90;var mongoose=require(_0x5cf9('0x14'));var passport=require(_0x5cf9('0x15'));var methodOverride=require(_0x5cf9('0x16'));var flash=require(_0x5cf9('0x17'));var fusionProgram=require('./app/fusionProgram.js')(io,FusionSettings);var fs=require('fs');var multiparty=require(_0x5cf9('0x18'));var FileUploadController=require(_0x5cf9('0x19'));var multipartyMiddleware=multiparty();var morgan=require('morgan');var cookieParser=require(_0x5cf9('0x1a'));var bodyParser=require(_0x5cf9('0x1b'));var session=require(_0x5cf9('0x1c'));var configDB=require(_0x5cf9('0x1d'));var env=process[_0x5cf9('0x12')][_0x5cf9('0x1e')]||_0x5cf9('0x1f');var storage={'type':'local'};var user=require(_0x5cf9('0x20'));module['exports']=async function ServerInitialization(){console[_0x5cf9('0x21')](_0x5cf9('0x22')+env+_0x5cf9('0x23'));await require('./server/utils/logging/');require('./config/database')(mongoose,user);require(_0x5cf9('0x24'))(passport);require('./config/app')(app,express,__dirname,morgan,cookieParser,bodyParser,methodOverride,session,passport,flash,env,storage,fs);require(_0x5cf9('0x25'))(io,fusionProgram,FusionSettings);require(_0x5cf9('0x26'))(app,passport,fusionProgram,io,multipartyMiddleware,FileUploadController,env,storage,FusionSettings);server[_0x5cf9('0x27')](port,async function(){console[_0x5cf9('0x21')](_0x5cf9('0x28')+port);await require(_0x5cf9('0x29'));});}();