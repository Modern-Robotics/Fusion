var _0x3464=['fusion_latest_SHA','fusion_gamepad_available','sockets','python','program-running','env','stringify','fusion_battery_level\x20:\x20','status','fusion_latest_version','error','-----------------------------------------------------','battery-level','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','fusion_internet_access','fusion_program_running','GET','join','exec','fusion_current_version','fusion_gamepad_available\x20:\x20','dev','fusion_current_SHA','internet-access','fusion_current_version\x20:\x20','type','internet-available','shelljs','platform','wifi-connection','fusion_wifi_access','Error\x20reading\x20battery\x20:\x20\x0a','Wifi_NIC','emit','SocketVariables','wifi-fusion_storage_type','data','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','log','fusion_diagnostics_running\x20:\x20','global-message','exports','socket','push','fusion_storage_type\x20:\x20','connectedClients','pipe','git\x20fetch','Hello\x20from\x20server','win32','gamepad-available','dirname','child_process','stderr','disconnect','then','request','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','fusion_internet_access\x20:\x20','Client\x20disconnected\x20-\x20','fusion_program_running\x20:\x20','diagnostics_running','fusion_battery_level','trim','version-number','sep','Client\x20connected...','stdout','connection','fusion_update_available','spawn','git\x20describe\x20--tags\x20','Build','pop','fusion_diagnostics_running','update-available','splice','git\x20rev-parse\x20HEAD','http://localhost:8080/api/diagnostics/stop','Storage','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','catch'];(function(_0x20890e,_0x3b9be3){var _0x13924d=function(_0x418ac5){while(--_0x418ac5){_0x20890e['push'](_0x20890e['shift']());}};_0x13924d(++_0x3b9be3);}(_0x3464,0x11d));var _0x2775=function(_0x20890e,_0x3b9be3){_0x20890e=_0x20890e-0x0;var _0x13924d=_0x3464[_0x20890e];return _0x13924d;};var spawn=require(_0x2775('0xd'))[_0x2775('0x1f')];var internetAvailable=require(_0x2775('0x45'));var wpa_cli=require('wireless-tools/wpa_cli');var os=require('os');var shell=require(_0x2775('0x46'));var env=process[_0x2775('0x30')]['NODE_ENV']||_0x2775('0x40');var path=require('path');var request=require(_0x2775('0x11'));const config=require('config');module[_0x2775('0x2')]=function(_0x416a06,_0x504f32,_0x24bc64){_0x24bc64[_0x2775('0x6')]=[];var _0x491d89=path[_0x2775('0xc')](__dirname)['split'](path[_0x2775('0x1a')])[_0x2775('0x22')]();var _0x4b0bb2=0x0;var _0x2cafc1=0xb;_0x416a06['on'](_0x2775('0x1d'),function(_0x6737ed){_0x24bc64['connectedClients'][_0x2775('0x4')](_0x6737ed);console[_0x2775('0x51')](_0x2775('0x1b'));_0x3631ac();_0x6737ed['on'](_0x2775('0x3c'),function(_0x5efb09){console[_0x2775('0x51')](_0x5efb09);_0x6737ed[_0x2775('0x4c')](_0x2775('0x1'),{'message':_0x2775('0x9'),'type':'success'});});_0x6737ed['on'](_0x2775('0xf'),function(_0x4c6633){console['log'](_0x2775('0x14')+_0x4c6633);if(_0x24bc64[_0x2775('0x4d')][_0x2775('0x3a')])if(_0x24bc64[_0x2775('0x4d')]['fusion_program_running']['SocketId']==_0x6737ed['id'])_0x504f32['KillProgram']();if(_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')])if(_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')][_0x2775('0x3')]==_0x6737ed['id']){console[_0x2775('0x51')](_0x2775('0x12'));request({'url':_0x2775('0x27'),'method':_0x2775('0x3b')},function(_0x166e63,_0x2c4a3a,_0x509383){if(_0x166e63)console['log'](_0x2775('0x29')+_0x166e63);else{if(_0x2c4a3a['statusCode']==0xc8){_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')]=null;}}_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x16'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')]);});}var _0x4b5f5c=_0x24bc64[_0x2775('0x6')]['indexOf'](_0x6737ed);_0x24bc64['connectedClients'][_0x2775('0x25')](_0x4b5f5c,0x1);});_0x6737ed['on'](_0x2775('0x35'),function(_0x150616){console[_0x2775('0x51')]('Socket\x20error\x20-\x20'+_0x150616);});});function _0x14e636(){_0x199c48();_0x4c979a();_0x4fbb6c();_0xb64942();_0x3597ac();_0x145745();_0x2abaa0();}function _0x511e50(){if(_0x4b0bb2>=_0x2cafc1){console['log'](_0x2775('0x36'));console['log'](_0x2775('0x32')+_0x24bc64[_0x2775('0x4d')][_0x2775('0x17')]);console[_0x2775('0x51')](_0x2775('0x13')+_0x24bc64['SocketVariables'][_0x2775('0x39')]);console[_0x2775('0x51')](_0x2775('0x43')+_0x24bc64[_0x2775('0x4d')][_0x2775('0x3e')]);console[_0x2775('0x51')]('fusion_update_available\x20:\x20'+_0x24bc64[_0x2775('0x4d')][_0x2775('0x1e')]);console[_0x2775('0x51')](_0x2775('0x3f')+_0x24bc64['SocketVariables'][_0x2775('0x2c')]);console[_0x2775('0x51')](_0x2775('0x0')+JSON[_0x2775('0x31')](_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')]));console[_0x2775('0x51')]('fusion_wifi_access\x20:\x20'+JSON[_0x2775('0x31')](_0x24bc64['SocketVariables']['fusion_wifi_access']));console['log'](_0x2775('0x5')+_0x24bc64[_0x2775('0x28')][_0x2775('0x44')]);console[_0x2775('0x51')](_0x2775('0x15')+JSON[_0x2775('0x31')](_0x24bc64[_0x2775('0x4d')][_0x2775('0x3a')]));console[_0x2775('0x51')](_0x2775('0x36'));_0x416a06['sockets']['emit'](_0x2775('0x37'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x17')]);_0x416a06[_0x2775('0x2d')]['emit'](_0x2775('0x42'),_0x24bc64['SocketVariables']['fusion_internet_access']);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x19'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x3e')]);_0x416a06[_0x2775('0x2d')]['emit'](_0x2775('0x24'),_0x24bc64[_0x2775('0x4d')]['fusion_update_available']);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0xb'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x2c')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x16'),_0x24bc64['SocketVariables'][_0x2775('0x23')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')]('wifi-connection',_0x24bc64['SocketVariables'][_0x2775('0x49')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x4e'),_0x24bc64[_0x2775('0x28')][_0x2775('0x44')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x2f'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x3a')]);_0x4b0bb2=0x0;}else{setTimeout(_0x511e50,0x7d0);}}function _0x3631ac(){_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x37'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x17')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x42'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x39')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x19'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x3e')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x24'),_0x24bc64['SocketVariables'][_0x2775('0x1e')]);_0x416a06['sockets'][_0x2775('0x4c')](_0x2775('0xb'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x2c')]);_0x416a06[_0x2775('0x2d')]['emit'](_0x2775('0x16'),_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x48'),_0x24bc64['SocketVariables'][_0x2775('0x49')]);_0x416a06[_0x2775('0x2d')][_0x2775('0x4c')](_0x2775('0x2f'),_0x24bc64[_0x2775('0x4d')]['fusion_program_running']);}function _0x199c48(){if(os[_0x2775('0x47')]()!=_0x2775('0xa')){var _0x425b10='./scripts/ReadBatt.py';var _0x4b2a94=spawn(_0x2775('0x2e'),[_0x425b10],{'stdio':_0x2775('0x7')});_0x4b2a94[_0x2775('0x1c')]['on'](_0x2775('0x4f'),function(_0x429af9){_0x24bc64[_0x2775('0x4d')][_0x2775('0x17')]=String(_0x429af9)['trim']();_0x4b0bb2++;});_0x4b2a94[_0x2775('0xe')]['on'](_0x2775('0x4f'),function(_0x274288){console[_0x2775('0x51')](_0x2775('0x4a')+String(_0x274288));});}else{_0x4b0bb2++;}}function _0x4c979a(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x2775('0x10')](function(){_0x24bc64['SocketVariables'][_0x2775('0x39')]=!![];_0x4b0bb2++;})[_0x2775('0x2a')](function(){_0x24bc64[_0x2775('0x4d')][_0x2775('0x39')]=![];_0x4b0bb2++;});}function _0x4fbb6c(){shell['exec'](_0x2775('0x26'),{'silent':!![]},function(_0x297ccc,_0x4f38e4,_0x1349d9){(function(_0x4fe390){_0x24bc64[_0x2775('0x4d')][_0x2775('0x41')]=_0x4fe390[_0x2775('0x18')]();_0x4b0bb2++;_0x441b60();}(_0x4f38e4['trim']()));});}function _0x441b60(){shell[_0x2775('0x3d')]('git\x20describe\x20--tags\x20'+_0x24bc64['SocketVariables'][_0x2775('0x41')],{'silent':!![]},function(_0x5e2359,_0x36c023,_0x400d22){(function(_0x1cd73b){_0x24bc64['SocketVariables'][_0x2775('0x3e')]=_0x1cd73b[_0x2775('0x18')]();_0x4b0bb2++;_0x126678();}(_0x36c023[_0x2775('0x18')]()));});}function _0x126678(){if(_0x491d89==_0x2775('0x21')){shell[_0x2775('0x3d')](_0x2775('0x8'),{'silent':!![]},function(_0x4222b7,_0x105cf4,_0x1f1019){(function(_0x1407ca){_0x4b0bb2++;_0x4afdf4();}(_0x105cf4[_0x2775('0x18')]()));});}else{_0x4b0bb2++;_0x4afdf4();}}function _0x4afdf4(){shell[_0x2775('0x3d')]('git\x20rev-list\x20--tags\x20--max-count=1',{'silent':!![]},function(_0x2795e6,_0x42b679,_0x3bb1b6){(function(_0x5c33d5){_0x24bc64[_0x2775('0x4d')][_0x2775('0x2b')]=_0x5c33d5[_0x2775('0x18')]();_0x4b0bb2++;_0x18528a();}(_0x42b679[_0x2775('0x18')]()));});}function _0x18528a(){shell['exec'](_0x2775('0x20')+_0x24bc64['SocketVariables'][_0x2775('0x2b')],{'silent':!![]},function(_0x32b21f,_0x34838b,_0x4034f6){(function(_0x4ebf5e){_0x24bc64[_0x2775('0x4d')][_0x2775('0x34')]=_0x4ebf5e[_0x2775('0x18')]();_0x4b0bb2++;}(_0x34838b[_0x2775('0x18')]()));});}function _0xb64942(){if(_0x24bc64[_0x2775('0x4d')][_0x2775('0x41')]!=_0x24bc64['SocketVariables'][_0x2775('0x2b')]){_0x24bc64[_0x2775('0x4d')][_0x2775('0x1e')]=!![];}else{_0x24bc64[_0x2775('0x4d')][_0x2775('0x1e')]=![];}_0x4b0bb2++;}function _0x3597ac(){if(os[_0x2775('0x47')]()!=_0x2775('0xa')){shell[_0x2775('0x3d')](_0x2775('0x50'),{'silent':!![]},function(_0x1851c8,_0x51daad,_0x77905){(function(_0x23efef){_0x24bc64['SocketVariables'][_0x2775('0x2c')]=_0x23efef[_0x2775('0x18')]();if(!_0x24bc64['SocketVariables']['fusion_gamepad_available'])_0x24bc64[_0x2775('0x4d')][_0x2775('0x2c')]=![];else _0x24bc64[_0x2775('0x4d')][_0x2775('0x2c')]=!![];_0x4b0bb2++;}(_0x51daad[_0x2775('0x18')]()));});}else{_0x24bc64[_0x2775('0x4d')]['fusion_gamepad_available']=![];_0x4b0bb2++;}}function _0x145745(){if(os[_0x2775('0x47')]()!=_0x2775('0xa')){shell['exec'](_0x2775('0x38'),{'silent':!![]},function(_0xc85e7c,_0x55b8ba,_0x2162b6){(function(_0x440c62){var _0x23b547=_0x440c62['trim']();if(_0x23b547){if(_0x24bc64['SocketVariables'][_0x2775('0x23')])_0x24bc64[_0x2775('0x4d')][_0x2775('0x23')]['process']=_0x23b547;else{_0x24bc64[_0x2775('0x4d')]['fusion_diagnostics_running']={'process':_0x23b547,'socket':-0x1};}}else _0x24bc64['SocketVariables'][_0x2775('0x23')]=null;_0x4b0bb2++;}(_0x55b8ba[_0x2775('0x18')]()));});}else{_0x24bc64[_0x2775('0x4d')][_0x2775('0x2c')]=null;_0x4b0bb2++;}}function _0x2abaa0(){wpa_cli[_0x2775('0x33')](config['get'](_0x2775('0x4b')),function(_0x3a6383,_0x1a667e){if(_0x3a6383){_0x1a667e={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x24bc64[_0x2775('0x4d')][_0x2775('0x49')]=_0x1a667e;_0x4b0bb2++;});}_0x511e50();_0x14e636();setInterval(function(){_0x511e50();_0x14e636();},0x2710);};