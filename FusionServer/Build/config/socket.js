var _0x3047=['fusion_latest_SHA','platform','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process','wlan1','child_process','spawn','internet-available','shelljs','env','path','exports','connectedClients','dirname','split','pop','connection','push','Client\x20connected...','join','emit','success','disconnect','log','Client\x20disconnected\x20-\x20','SocketVariables','fusion_program_running','SocketId','fusion_diagnostics_running','socket','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','http://localhost:8080/api/diagnostics/stop','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','statusCode','sockets','indexOf','Socket\x20error\x20-\x20','fusion_internet_access\x20:\x20','fusion_internet_access','fusion_current_version\x20:\x20','fusion_current_version','fusion_gamepad_available\x20:\x20','fusion_gamepad_available','fusion_diagnostics_running\x20:\x20','stringify','fusion_wifi_access\x20:\x20','fusion_wifi_access','Storage','type','-----------------------------------------------------','fusion_battery_level','internet-access','version-number','update-available','fusion_update_available','gamepad-available','diagnostics_running','wifi-connection','wifi-fusion_storage_type','program-running','battery-level','win32','./scripts/ReadBatt.py','python','pipe','stdout','trim','stderr','data','Error\x20reading\x20battery\x20:\x20\x0a','then','catch','exec','git\x20rev-parse\x20HEAD','fusion_current_SHA','git\x20describe\x20--tags\x20','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1'];(function(_0x11e0f8,_0x3d5ec8){var _0x4765fe=function(_0xb933d5){while(--_0xb933d5){_0x11e0f8['push'](_0x11e0f8['shift']());}};_0x4765fe(++_0x3d5ec8);}(_0x3047,0x146));var _0x50ff=function(_0x2fbeca,_0x302170){_0x2fbeca=_0x2fbeca-0x0;var _0x1ae02f=_0x3047[_0x2fbeca];return _0x1ae02f;};var spawn=require(_0x50ff('0x0'))[_0x50ff('0x1')];var internetAvailable=require(_0x50ff('0x2'));var wpa_cli=require('wireless-tools/wpa_cli');var os=require('os');var shell=require(_0x50ff('0x3'));var env=process[_0x50ff('0x4')]['NODE_ENV']||'dev';var path=require(_0x50ff('0x5'));var request=require('request');module[_0x50ff('0x6')]=function(_0x5cc8c8,_0x56d634,_0x5116d0){_0x5116d0[_0x50ff('0x7')]=[];var _0x495e58=path[_0x50ff('0x8')](__dirname)[_0x50ff('0x9')](path['sep'])[_0x50ff('0xa')]();var _0x42c26d=0x0;var _0x3010fd=0xb;_0x5cc8c8['on'](_0x50ff('0xb'),function(_0x2de514){_0x5116d0[_0x50ff('0x7')][_0x50ff('0xc')](_0x2de514);console['log'](_0x50ff('0xd'));_0x44c5cc();_0x2de514['on'](_0x50ff('0xe'),function(_0x45c529){console['log'](_0x45c529);_0x2de514[_0x50ff('0xf')]('global-message',{'message':'Hello\x20from\x20server','type':_0x50ff('0x10')});});_0x2de514['on'](_0x50ff('0x11'),function(_0x11b325){console[_0x50ff('0x12')](_0x50ff('0x13')+_0x11b325);if(_0x5116d0[_0x50ff('0x14')][_0x50ff('0x15')])if(_0x5116d0[_0x50ff('0x14')][_0x50ff('0x15')][_0x50ff('0x16')]==_0x2de514['id'])_0x56d634['KillProgram']();if(_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')])if(_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')][_0x50ff('0x18')]==_0x2de514['id']){console[_0x50ff('0x12')](_0x50ff('0x19'));request({'url':_0x50ff('0x1a'),'method':_0x50ff('0x1b')},function(_0x469b4f,_0x444527,_0x27679e){if(_0x469b4f)console[_0x50ff('0x12')](_0x50ff('0x1c')+_0x469b4f);else{if(_0x444527[_0x50ff('0x1d')]==0xc8){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')]=null;}}_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')]('diagnostics_running',_0x5116d0['SocketVariables'][_0x50ff('0x17')]);});}var _0x665ddc=_0x5116d0['connectedClients'][_0x50ff('0x1f')](_0x2de514);_0x5116d0['connectedClients']['splice'](_0x665ddc,0x1);});_0x2de514['on']('error',function(_0x14347d){console['log'](_0x50ff('0x20')+_0x14347d);});});function _0xc4b4cc(){_0x17f282();_0x70fd09();_0x3f0e1b();_0x30bc47();_0x50dff0();_0x3a4d5b();_0x4b7d02();}function _0x4fc4ed(){if(_0x42c26d>=_0x3010fd){console['log']('-----------------------------------------------------');console[_0x50ff('0x12')]('fusion_battery_level\x20:\x20'+_0x5116d0[_0x50ff('0x14')]['fusion_battery_level']);console[_0x50ff('0x12')](_0x50ff('0x21')+_0x5116d0[_0x50ff('0x14')][_0x50ff('0x22')]);console[_0x50ff('0x12')](_0x50ff('0x23')+_0x5116d0[_0x50ff('0x14')][_0x50ff('0x24')]);console[_0x50ff('0x12')]('fusion_update_available\x20:\x20'+_0x5116d0[_0x50ff('0x14')]['fusion_update_available']);console['log'](_0x50ff('0x25')+_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]);console[_0x50ff('0x12')](_0x50ff('0x27')+JSON[_0x50ff('0x28')](_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')]));console['log'](_0x50ff('0x29')+JSON['stringify'](_0x5116d0[_0x50ff('0x14')][_0x50ff('0x2a')]));console[_0x50ff('0x12')]('fusion_storage_type\x20:\x20'+_0x5116d0[_0x50ff('0x2b')][_0x50ff('0x2c')]);console[_0x50ff('0x12')]('fusion_program_running\x20:\x20'+JSON[_0x50ff('0x28')](_0x5116d0[_0x50ff('0x14')]['fusion_program_running']));console[_0x50ff('0x12')](_0x50ff('0x2d'));_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')]('battery-level',_0x5116d0[_0x50ff('0x14')][_0x50ff('0x2e')]);_0x5cc8c8['sockets']['emit'](_0x50ff('0x2f'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x22')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x30'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x24')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x31'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x32')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x33'),_0x5116d0[_0x50ff('0x14')]['fusion_gamepad_available']);_0x5cc8c8[_0x50ff('0x1e')]['emit'](_0x50ff('0x34'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x35'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x2a')]);_0x5cc8c8['sockets'][_0x50ff('0xf')](_0x50ff('0x36'),_0x5116d0[_0x50ff('0x2b')][_0x50ff('0x2c')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x37'),_0x5116d0['SocketVariables'][_0x50ff('0x15')]);_0x42c26d=0x0;}else{setTimeout(_0x4fc4ed,0x7d0);}}function _0x44c5cc(){_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x38'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x2e')]);_0x5cc8c8[_0x50ff('0x1e')]['emit'](_0x50ff('0x2f'),_0x5116d0['SocketVariables'][_0x50ff('0x22')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x30'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x24')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x31'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x32')]);_0x5cc8c8['sockets'][_0x50ff('0xf')](_0x50ff('0x33'),_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]);_0x5cc8c8['sockets'][_0x50ff('0xf')]('diagnostics_running',_0x5116d0['SocketVariables'][_0x50ff('0x17')]);_0x5cc8c8[_0x50ff('0x1e')][_0x50ff('0xf')](_0x50ff('0x35'),_0x5116d0['SocketVariables'][_0x50ff('0x2a')]);_0x5cc8c8[_0x50ff('0x1e')]['emit'](_0x50ff('0x37'),_0x5116d0[_0x50ff('0x14')]['fusion_program_running']);}function _0x17f282(){if(os['platform']()!=_0x50ff('0x39')){var _0x3f6181=_0x50ff('0x3a');var _0x400a1f=spawn(_0x50ff('0x3b'),[_0x3f6181],{'stdio':_0x50ff('0x3c')});_0x400a1f[_0x50ff('0x3d')]['on']('data',function(_0x404df8){_0x5116d0[_0x50ff('0x14')]['fusion_battery_level']=String(_0x404df8)[_0x50ff('0x3e')]();_0x42c26d++;});_0x400a1f[_0x50ff('0x3f')]['on'](_0x50ff('0x40'),function(_0x3b300b){console['log'](_0x50ff('0x41')+String(_0x3b300b));});}else{_0x42c26d++;}}function _0x70fd09(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x50ff('0x42')](function(){_0x5116d0['SocketVariables'][_0x50ff('0x22')]=!![];_0x42c26d++;})[_0x50ff('0x43')](function(){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x22')]=![];_0x42c26d++;});}function _0x3f0e1b(){shell[_0x50ff('0x44')](_0x50ff('0x45'),{'silent':!![]},function(_0x8bfed7,_0x32a39d,_0x408b12){(function(_0x1ef5d6){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x46')]=_0x1ef5d6[_0x50ff('0x3e')]();_0x42c26d++;_0x121c8c();}(_0x32a39d[_0x50ff('0x3e')]()));});}function _0x121c8c(){shell[_0x50ff('0x44')](_0x50ff('0x47')+_0x5116d0['SocketVariables'][_0x50ff('0x46')],{'silent':!![]},function(_0x50e12d,_0xfc42f3,_0x3d49d6){(function(_0x95d24f){_0x5116d0[_0x50ff('0x14')]['fusion_current_version']=_0x95d24f['trim']();_0x42c26d++;_0xe86f1f();}(_0xfc42f3[_0x50ff('0x3e')]()));});}function _0xe86f1f(){if(_0x495e58=='Build'){shell[_0x50ff('0x44')](_0x50ff('0x48'),{'silent':!![]},function(_0x2a71cf,_0x427cd8,_0xfdb2da){(function(_0x1394bd){_0x42c26d++;_0x561ed6();}(_0x427cd8[_0x50ff('0x3e')]()));});}else{_0x42c26d++;_0x561ed6();}}function _0x561ed6(){shell[_0x50ff('0x44')](_0x50ff('0x49'),{'silent':!![]},function(_0x160322,_0x47cd87,_0x1bee28){(function(_0x6b6fef){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x4a')]=_0x6b6fef['trim']();_0x42c26d++;_0x3bb7bd();}(_0x47cd87[_0x50ff('0x3e')]()));});}function _0x3bb7bd(){shell[_0x50ff('0x44')](_0x50ff('0x47')+_0x5116d0[_0x50ff('0x14')]['fusion_latest_SHA'],{'silent':!![]},function(_0x2f80f6,_0x480a5a,_0x594c96){(function(_0x456808){_0x5116d0[_0x50ff('0x14')]['fusion_latest_version']=_0x456808['trim']();_0x42c26d++;}(_0x480a5a[_0x50ff('0x3e')]()));});}function _0x30bc47(){if(_0x5116d0['SocketVariables']['fusion_current_SHA']!=_0x5116d0['SocketVariables'][_0x50ff('0x4a')]){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x32')]=!![];}else{_0x5116d0[_0x50ff('0x14')]['fusion_update_available']=![];}_0x42c26d++;}function _0x50dff0(){if(os[_0x50ff('0x4b')]()!=_0x50ff('0x39')){shell['exec'](_0x50ff('0x4c'),{'silent':!![]},function(_0x192951,_0x1cbeb4,_0x553daf){(function(_0xfcc609){_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]=_0xfcc609[_0x50ff('0x3e')]();if(!_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')])_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]=![];else _0x5116d0[_0x50ff('0x14')]['fusion_gamepad_available']=!![];_0x42c26d++;}(_0x1cbeb4[_0x50ff('0x3e')]()));});}else{_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]=![];_0x42c26d++;}}function _0x3a4d5b(){if(os[_0x50ff('0x4b')]()!=_0x50ff('0x39')){shell[_0x50ff('0x44')](_0x50ff('0x4d'),{'silent':!![]},function(_0x1c830a,_0x223459,_0x1b7ebb){(function(_0x568861){var _0x29bf70=_0x568861[_0x50ff('0x3e')]();if(_0x29bf70){if(_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')])_0x5116d0[_0x50ff('0x14')][_0x50ff('0x17')][_0x50ff('0x4e')]=_0x29bf70;else{_0x5116d0['SocketVariables'][_0x50ff('0x17')]={'process':_0x29bf70,'socket':-0x1};}}else _0x5116d0['SocketVariables'][_0x50ff('0x17')]=null;_0x42c26d++;}(_0x223459[_0x50ff('0x3e')]()));});}else{_0x5116d0[_0x50ff('0x14')][_0x50ff('0x26')]=null;_0x42c26d++;}}function _0x4b7d02(){wpa_cli['status'](_0x50ff('0x4f'),function(_0x543b8b,_0x41fdf2){if(_0x543b8b){_0x41fdf2={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x5116d0[_0x50ff('0x14')][_0x50ff('0x2a')]=_0x41fdf2;_0x42c26d++;});}_0x4fc4ed();_0xc4b4cc();setInterval(function(){_0x4fc4ed();_0xc4b4cc();},0x2710);};