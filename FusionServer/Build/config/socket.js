var _0x1902=['sep','pop','connection','connectedClients','push','join','emit','global-message','Hello\x20from\x20server','success','disconnect','log','Client\x20disconnected\x20-\x20','fusion_program_running','SocketVariables','SocketId','KillProgram','fusion_diagnostics_running','socket','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','http://localhost:8080/api/diagnostics/stop','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','sockets','splice','error','Socket\x20error\x20-\x20','-----------------------------------------------------','fusion_battery_level\x20:\x20','fusion_battery_level','fusion_internet_access\x20:\x20','fusion_current_version\x20:\x20','fusion_update_available\x20:\x20','fusion_gamepad_available\x20:\x20','fusion_gamepad_available','fusion_diagnostics_running\x20:\x20','stringify','fusion_wifi_access\x20:\x20','fusion_storage_type\x20:\x20','Storage','fusion_program_running\x20:\x20','battery-level','internet-access','fusion_internet_access','version-number','gamepad-available','diagnostics_running','wifi-connection','fusion_wifi_access','wifi-fusion_storage_type','fusion_current_version','update-available','fusion_update_available','win32','./scripts/ReadBatt.py','python','pipe','stdout','data','trim','stderr','Error\x20reading\x20battery\x20:\x20\x0a','then','catch','exec','git\x20rev-parse\x20HEAD','git\x20describe\x20--tags\x20','fusion_current_SHA','Build','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1','fusion_latest_SHA','fusion_latest_version','platform','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','status','Wifi_NIC','child_process','spawn','wireless-tools/wpa_cli','shelljs','env','dev','path','request','config','exports','dirname','split'];(function(_0x159ccd,_0x2d06f8){var _0x4cb81e=function(_0xc17c82){while(--_0xc17c82){_0x159ccd['push'](_0x159ccd['shift']());}};_0x4cb81e(++_0x2d06f8);}(_0x1902,0xa8));var _0x52bc=function(_0x47b64,_0x29cf06){_0x47b64=_0x47b64-0x0;var _0x4baf8b=_0x1902[_0x47b64];return _0x4baf8b;};var spawn=require(_0x52bc('0x0'))[_0x52bc('0x1')];var internetAvailable=require('internet-available');var wpa_cli=require(_0x52bc('0x2'));var os=require('os');var shell=require(_0x52bc('0x3'));var env=process[_0x52bc('0x4')]['NODE_ENV']||_0x52bc('0x5');var path=require(_0x52bc('0x6'));var request=require(_0x52bc('0x7'));const config=require(_0x52bc('0x8'));module[_0x52bc('0x9')]=function(_0x54f9d2,_0x251e1c,_0x23946c){_0x23946c['connectedClients']=[];var _0x138327=path[_0x52bc('0xa')](__dirname)[_0x52bc('0xb')](path[_0x52bc('0xc')])[_0x52bc('0xd')]();var _0x8a4893=0x0;var _0x373bc8=0xb;_0x54f9d2['on'](_0x52bc('0xe'),function(_0x58e534){_0x23946c[_0x52bc('0xf')][_0x52bc('0x10')](_0x58e534);console['log']('Client\x20connected...');_0x3a052a();_0x58e534['on'](_0x52bc('0x11'),function(_0x2458e7){console['log'](_0x2458e7);_0x58e534[_0x52bc('0x12')](_0x52bc('0x13'),{'message':_0x52bc('0x14'),'type':_0x52bc('0x15')});});_0x58e534['on'](_0x52bc('0x16'),function(_0x57e0b8){console[_0x52bc('0x17')](_0x52bc('0x18')+_0x57e0b8);if(_0x23946c['SocketVariables'][_0x52bc('0x19')])if(_0x23946c[_0x52bc('0x1a')][_0x52bc('0x19')][_0x52bc('0x1b')]==_0x58e534['id'])_0x251e1c[_0x52bc('0x1c')]();if(_0x23946c[_0x52bc('0x1a')][_0x52bc('0x1d')])if(_0x23946c[_0x52bc('0x1a')][_0x52bc('0x1d')][_0x52bc('0x1e')]==_0x58e534['id']){console[_0x52bc('0x17')](_0x52bc('0x1f'));request({'url':_0x52bc('0x20'),'method':_0x52bc('0x21')},function(_0x3bc768,_0x3dd821,_0x8f5b26){if(_0x3bc768)console[_0x52bc('0x17')](_0x52bc('0x22')+_0x3bc768);else{if(_0x3dd821['statusCode']==0xc8){_0x23946c[_0x52bc('0x1a')]['fusion_diagnostics_running']=null;}}_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('diagnostics_running',_0x23946c['SocketVariables']['fusion_diagnostics_running']);});}var _0x6417aa=_0x23946c[_0x52bc('0xf')]['indexOf'](_0x58e534);_0x23946c[_0x52bc('0xf')][_0x52bc('0x24')](_0x6417aa,0x1);});_0x58e534['on'](_0x52bc('0x25'),function(_0x2c8c57){console[_0x52bc('0x17')](_0x52bc('0x26')+_0x2c8c57);});});function _0x4c71d1(){_0x281e47();_0x1394ba();_0x281bfc();_0x2896bf();_0x15278d();_0x2def98();_0x120066();}function _0x506b91(){if(_0x8a4893>=_0x373bc8){console[_0x52bc('0x17')](_0x52bc('0x27'));console[_0x52bc('0x17')](_0x52bc('0x28')+_0x23946c[_0x52bc('0x1a')][_0x52bc('0x29')]);console[_0x52bc('0x17')](_0x52bc('0x2a')+_0x23946c['SocketVariables']['fusion_internet_access']);console[_0x52bc('0x17')](_0x52bc('0x2b')+_0x23946c[_0x52bc('0x1a')]['fusion_current_version']);console[_0x52bc('0x17')](_0x52bc('0x2c')+_0x23946c[_0x52bc('0x1a')]['fusion_update_available']);console['log'](_0x52bc('0x2d')+_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]);console[_0x52bc('0x17')](_0x52bc('0x2f')+JSON[_0x52bc('0x30')](_0x23946c[_0x52bc('0x1a')][_0x52bc('0x1d')]));console[_0x52bc('0x17')](_0x52bc('0x31')+JSON[_0x52bc('0x30')](_0x23946c[_0x52bc('0x1a')]['fusion_wifi_access']));console[_0x52bc('0x17')](_0x52bc('0x32')+_0x23946c[_0x52bc('0x33')]['type']);console['log'](_0x52bc('0x34')+JSON['stringify'](_0x23946c['SocketVariables'][_0x52bc('0x19')]));console[_0x52bc('0x17')]('-----------------------------------------------------');_0x54f9d2['sockets'][_0x52bc('0x12')](_0x52bc('0x35'),_0x23946c[_0x52bc('0x1a')][_0x52bc('0x29')]);_0x54f9d2['sockets'][_0x52bc('0x12')](_0x52bc('0x36'),_0x23946c['SocketVariables'][_0x52bc('0x37')]);_0x54f9d2[_0x52bc('0x23')]['emit'](_0x52bc('0x38'),_0x23946c[_0x52bc('0x1a')]['fusion_current_version']);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('update-available',_0x23946c[_0x52bc('0x1a')]['fusion_update_available']);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x39'),_0x23946c['SocketVariables'][_0x52bc('0x2e')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x3a'),_0x23946c[_0x52bc('0x1a')]['fusion_diagnostics_running']);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x3b'),_0x23946c[_0x52bc('0x1a')][_0x52bc('0x3c')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x3d'),_0x23946c[_0x52bc('0x33')]['type']);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('program-running',_0x23946c[_0x52bc('0x1a')]['fusion_program_running']);_0x8a4893=0x0;}else{setTimeout(_0x506b91,0x7d0);}}function _0x3a052a(){_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x35'),_0x23946c['SocketVariables']['fusion_battery_level']);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x36'),_0x23946c['SocketVariables'][_0x52bc('0x37')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('version-number',_0x23946c[_0x52bc('0x1a')][_0x52bc('0x3e')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x3f'),_0x23946c[_0x52bc('0x1a')][_0x52bc('0x40')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('gamepad-available',_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]);_0x54f9d2[_0x52bc('0x23')]['emit'](_0x52bc('0x3a'),_0x23946c[_0x52bc('0x1a')][_0x52bc('0x1d')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')](_0x52bc('0x3b'),_0x23946c[_0x52bc('0x1a')][_0x52bc('0x3c')]);_0x54f9d2[_0x52bc('0x23')][_0x52bc('0x12')]('program-running',_0x23946c[_0x52bc('0x1a')]['fusion_program_running']);}function _0x281e47(){if(os['platform']()!=_0x52bc('0x41')){var _0x2f95e1=_0x52bc('0x42');var _0x2f80f5=spawn(_0x52bc('0x43'),[_0x2f95e1],{'stdio':_0x52bc('0x44')});_0x2f80f5[_0x52bc('0x45')]['on'](_0x52bc('0x46'),function(_0x1bf06f){_0x23946c['SocketVariables']['fusion_battery_level']=String(_0x1bf06f)[_0x52bc('0x47')]();_0x8a4893++;});_0x2f80f5[_0x52bc('0x48')]['on']('data',function(_0x30ac8a){console[_0x52bc('0x17')](_0x52bc('0x49')+String(_0x30ac8a));});}else{_0x8a4893++;}}function _0x1394ba(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x52bc('0x4a')](function(){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x37')]=!![];_0x8a4893++;})[_0x52bc('0x4b')](function(){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x37')]=![];_0x8a4893++;});}function _0x281bfc(){shell[_0x52bc('0x4c')](_0x52bc('0x4d'),{'silent':!![]},function(_0x8b5379,_0x44dc6d,_0x1f0d6f){(function(_0x350c00){_0x23946c[_0x52bc('0x1a')]['fusion_current_SHA']=_0x350c00[_0x52bc('0x47')]();_0x8a4893++;_0x33d95f();}(_0x44dc6d[_0x52bc('0x47')]()));});}function _0x33d95f(){shell[_0x52bc('0x4c')](_0x52bc('0x4e')+_0x23946c[_0x52bc('0x1a')][_0x52bc('0x4f')],{'silent':!![]},function(_0x2c7b03,_0x2875b3,_0x4564a3){(function(_0x5ef546){_0x23946c['SocketVariables'][_0x52bc('0x3e')]=_0x5ef546[_0x52bc('0x47')]();_0x8a4893++;_0x118659();}(_0x2875b3[_0x52bc('0x47')]()));});}function _0x118659(){if(_0x138327==_0x52bc('0x50')){shell[_0x52bc('0x4c')](_0x52bc('0x51'),{'silent':!![]},function(_0x24a36e,_0x51abd8,_0x591449){(function(_0x1368d6){_0x8a4893++;_0x390c34();}(_0x51abd8[_0x52bc('0x47')]()));});}else{_0x8a4893++;_0x390c34();}}function _0x390c34(){shell[_0x52bc('0x4c')](_0x52bc('0x52'),{'silent':!![]},function(_0x203944,_0x499b61,_0x4e0d7d){(function(_0x105ef5){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x53')]=_0x105ef5['trim']();_0x8a4893++;_0x35715a();}(_0x499b61['trim']()));});}function _0x35715a(){shell['exec'](_0x52bc('0x4e')+_0x23946c[_0x52bc('0x1a')][_0x52bc('0x53')],{'silent':!![]},function(_0x1133ef,_0x456b1c,_0x3b19f6){(function(_0x20979a){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x54')]=_0x20979a[_0x52bc('0x47')]();_0x8a4893++;}(_0x456b1c['trim']()));});}function _0x2896bf(){if(_0x23946c[_0x52bc('0x1a')][_0x52bc('0x4f')]!=_0x23946c[_0x52bc('0x1a')][_0x52bc('0x53')]){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x40')]=!![];}else{_0x23946c[_0x52bc('0x1a')][_0x52bc('0x40')]=![];}_0x8a4893++;}function _0x15278d(){if(os[_0x52bc('0x55')]()!=_0x52bc('0x41')){shell['exec'](_0x52bc('0x56'),{'silent':!![]},function(_0x41cd8b,_0x38d5b1,_0x13f6dd){(function(_0x599d10){_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]=_0x599d10[_0x52bc('0x47')]();if(!_0x23946c[_0x52bc('0x1a')]['fusion_gamepad_available'])_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]=![];else _0x23946c[_0x52bc('0x1a')]['fusion_gamepad_available']=!![];_0x8a4893++;}(_0x38d5b1['trim']()));});}else{_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]=![];_0x8a4893++;}}function _0x2def98(){if(os[_0x52bc('0x55')]()!='win32'){shell[_0x52bc('0x4c')](_0x52bc('0x57'),{'silent':!![]},function(_0x28f762,_0x123a17,_0x2a405c){(function(_0x561a57){var _0x3725f6=_0x561a57[_0x52bc('0x47')]();if(_0x3725f6){if(_0x23946c[_0x52bc('0x1a')]['fusion_diagnostics_running'])_0x23946c[_0x52bc('0x1a')]['fusion_diagnostics_running']['process']=_0x3725f6;else{_0x23946c[_0x52bc('0x1a')][_0x52bc('0x1d')]={'process':_0x3725f6,'socket':-0x1};}}else _0x23946c[_0x52bc('0x1a')]['fusion_diagnostics_running']=null;_0x8a4893++;}(_0x123a17[_0x52bc('0x47')]()));});}else{_0x23946c[_0x52bc('0x1a')][_0x52bc('0x2e')]=null;_0x8a4893++;}}function _0x120066(){wpa_cli[_0x52bc('0x58')](config['get'](_0x52bc('0x59')),function(_0x722910,_0x4c7ed4){if(_0x722910){_0x4c7ed4={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x23946c[_0x52bc('0x1a')][_0x52bc('0x3c')]=_0x4c7ed4;_0x8a4893++;});}_0x506b91();_0x4c71d1();setInterval(function(){_0x506b91();_0x4c71d1();},0x2710);};