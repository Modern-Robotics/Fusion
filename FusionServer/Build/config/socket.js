var _0x1184=['Storage','-----------------------------------------------------','sockets','internet-access','version-number','update-available','gamepad-available','wifi-connection','type','program-running','battery-level','platform','win32','./scripts/ReadBatt.py','python','pipe','stdout','data','trim','stderr','then','catch','exec','git\x20rev-parse\x20HEAD','git\x20describe\x20--tags\x20','fusion_current_SHA','Build','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1','fusion_latest_SHA','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process','status','wlan1','child_process','spawn','internet-available','wireless-tools/wpa_cli','shelljs','env','NODE_ENV','dev','path','exports','connectedClients','dirname','split','sep','pop','push','log','Client\x20connected...','join','emit','global-message','success','disconnect','fusion_program_running','SocketId','KillProgram','fusion_diagnostics_running','socket','http://localhost:8080/api/diagnostics/stop','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','statusCode','SocketVariables','diagnostics_running','splice','error','Socket\x20error\x20-\x20','fusion_battery_level\x20:\x20','fusion_battery_level','fusion_internet_access\x20:\x20','fusion_internet_access','fusion_current_version\x20:\x20','fusion_current_version','fusion_update_available\x20:\x20','fusion_update_available','fusion_gamepad_available','fusion_diagnostics_running\x20:\x20','stringify','fusion_wifi_access\x20:\x20','fusion_wifi_access'];(function(_0x2fc39e,_0x1386a7){var _0x26a48b=function(_0x591674){while(--_0x591674){_0x2fc39e['push'](_0x2fc39e['shift']());}};_0x26a48b(++_0x1386a7);}(_0x1184,0x177));var _0x12b5=function(_0x1699ee,_0x56aa9c){_0x1699ee=_0x1699ee-0x0;var _0x4a6d38=_0x1184[_0x1699ee];return _0x4a6d38;};var spawn=require(_0x12b5('0x0'))[_0x12b5('0x1')];var internetAvailable=require(_0x12b5('0x2'));var wpa_cli=require(_0x12b5('0x3'));var os=require('os');var shell=require(_0x12b5('0x4'));var env=process[_0x12b5('0x5')][_0x12b5('0x6')]||_0x12b5('0x7');var path=require(_0x12b5('0x8'));var request=require('request');module[_0x12b5('0x9')]=function(_0x8d3dea,_0x4d95b1,_0x3a6a50){_0x3a6a50[_0x12b5('0xa')]=[];var _0x47d03c=path[_0x12b5('0xb')](__dirname)[_0x12b5('0xc')](path[_0x12b5('0xd')])[_0x12b5('0xe')]();var _0x502ab0=0x0;var _0x5cde41=0xb;_0x8d3dea['on']('connection',function(_0x201f0c){_0x3a6a50['connectedClients'][_0x12b5('0xf')](_0x201f0c);console[_0x12b5('0x10')](_0x12b5('0x11'));_0x2817fb();_0x201f0c['on'](_0x12b5('0x12'),function(_0x5e9bf2){console[_0x12b5('0x10')](_0x5e9bf2);_0x201f0c[_0x12b5('0x13')](_0x12b5('0x14'),{'message':'Hello\x20from\x20server','type':_0x12b5('0x15')});});_0x201f0c['on'](_0x12b5('0x16'),function(_0x4fb06f){console['log']('Client\x20disconnected\x20-\x20'+_0x4fb06f);if(_0x3a6a50['SocketVariables'][_0x12b5('0x17')])if(_0x3a6a50['SocketVariables']['fusion_program_running'][_0x12b5('0x18')]==_0x201f0c['id'])_0x4d95b1[_0x12b5('0x19')]();if(_0x3a6a50['SocketVariables'][_0x12b5('0x1a')])if(_0x3a6a50['SocketVariables']['fusion_diagnostics_running'][_0x12b5('0x1b')]==_0x201f0c['id']){console[_0x12b5('0x10')]('Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client');request({'url':_0x12b5('0x1c'),'method':_0x12b5('0x1d')},function(_0x9cfbe7,_0x37c0cd,_0x2c94c8){if(_0x9cfbe7)console[_0x12b5('0x10')](_0x12b5('0x1e')+_0x9cfbe7);else{if(_0x37c0cd[_0x12b5('0x1f')]==0xc8){_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x1a')]=null;}}_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x21'),_0x3a6a50['SocketVariables'][_0x12b5('0x1a')]);});}var _0x27c002=_0x3a6a50[_0x12b5('0xa')]['indexOf'](_0x201f0c);_0x3a6a50[_0x12b5('0xa')][_0x12b5('0x22')](_0x27c002,0x1);});_0x201f0c['on'](_0x12b5('0x23'),function(_0x3401b4){console[_0x12b5('0x10')](_0x12b5('0x24')+_0x3401b4);});});function _0x370d72(){_0x1f6a2a();_0x3e4459();_0x35bb97();_0x8a337();_0x1f9260();_0x3ddb80();_0x24abbd();}function _0x542863(){if(_0x502ab0>=_0x5cde41){console[_0x12b5('0x10')]('-----------------------------------------------------');console[_0x12b5('0x10')](_0x12b5('0x25')+_0x3a6a50['SocketVariables'][_0x12b5('0x26')]);console[_0x12b5('0x10')](_0x12b5('0x27')+_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x28')]);console[_0x12b5('0x10')](_0x12b5('0x29')+_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2a')]);console[_0x12b5('0x10')](_0x12b5('0x2b')+_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2c')]);console[_0x12b5('0x10')]('fusion_gamepad_available\x20:\x20'+_0x3a6a50['SocketVariables'][_0x12b5('0x2d')]);console['log'](_0x12b5('0x2e')+JSON[_0x12b5('0x2f')](_0x3a6a50['SocketVariables']['fusion_diagnostics_running']));console[_0x12b5('0x10')](_0x12b5('0x30')+JSON['stringify'](_0x3a6a50['SocketVariables'][_0x12b5('0x31')]));console['log']('fusion_storage_type\x20:\x20'+_0x3a6a50[_0x12b5('0x32')]['type']);console[_0x12b5('0x10')]('fusion_program_running\x20:\x20'+JSON[_0x12b5('0x2f')](_0x3a6a50[_0x12b5('0x20')]['fusion_program_running']));console[_0x12b5('0x10')](_0x12b5('0x33'));_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')]('battery-level',_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x26')]);_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x35'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x28')]);_0x8d3dea[_0x12b5('0x34')]['emit'](_0x12b5('0x36'),_0x3a6a50[_0x12b5('0x20')]['fusion_current_version']);_0x8d3dea[_0x12b5('0x34')]['emit'](_0x12b5('0x37'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2c')]);_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x38'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2d')]);_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')]('diagnostics_running',_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x1a')]);_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')](_0x12b5('0x39'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x31')]);_0x8d3dea['sockets']['emit']('wifi-fusion_storage_type',_0x3a6a50[_0x12b5('0x32')][_0x12b5('0x3a')]);_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x3b'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x17')]);_0x502ab0=0x0;}else{setTimeout(_0x542863,0x7d0);}}function _0x2817fb(){_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')](_0x12b5('0x3c'),_0x3a6a50['SocketVariables'][_0x12b5('0x26')]);_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')](_0x12b5('0x35'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x28')]);_0x8d3dea[_0x12b5('0x34')]['emit'](_0x12b5('0x36'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2a')]);_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')](_0x12b5('0x37'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2c')]);_0x8d3dea[_0x12b5('0x34')][_0x12b5('0x13')](_0x12b5('0x38'),_0x3a6a50[_0x12b5('0x20')]['fusion_gamepad_available']);_0x8d3dea[_0x12b5('0x34')]['emit'](_0x12b5('0x21'),_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x1a')]);_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x39'),_0x3a6a50[_0x12b5('0x20')]['fusion_wifi_access']);_0x8d3dea['sockets'][_0x12b5('0x13')](_0x12b5('0x3b'),_0x3a6a50['SocketVariables'][_0x12b5('0x17')]);}function _0x1f6a2a(){if(os[_0x12b5('0x3d')]()!=_0x12b5('0x3e')){var _0x255df5=_0x12b5('0x3f');var _0x4fca3d=spawn(_0x12b5('0x40'),[_0x255df5],{'stdio':_0x12b5('0x41')});_0x4fca3d[_0x12b5('0x42')]['on'](_0x12b5('0x43'),function(_0x546f9d){_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x26')]=String(_0x546f9d)[_0x12b5('0x44')]();_0x502ab0++;});_0x4fca3d[_0x12b5('0x45')]['on'](_0x12b5('0x43'),function(_0x37f465){console[_0x12b5('0x10')]('Error\x20reading\x20battery\x20:\x20\x0a'+String(_0x37f465));});}else{_0x502ab0++;}}function _0x3e4459(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x12b5('0x46')](function(){_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x28')]=!![];_0x502ab0++;})[_0x12b5('0x47')](function(){_0x3a6a50[_0x12b5('0x20')]['fusion_internet_access']=![];_0x502ab0++;});}function _0x35bb97(){shell[_0x12b5('0x48')](_0x12b5('0x49'),{'silent':!![]},function(_0x521878,_0x3a1113,_0x43873e){(function(_0x59d78a){_0x3a6a50[_0x12b5('0x20')]['fusion_current_SHA']=_0x59d78a[_0x12b5('0x44')]();_0x502ab0++;_0x19d720();}(_0x3a1113['trim']()));});}function _0x19d720(){shell[_0x12b5('0x48')](_0x12b5('0x4a')+_0x3a6a50['SocketVariables'][_0x12b5('0x4b')],{'silent':!![]},function(_0x195fae,_0x3534f8,_0x4c40da){(function(_0x228c74){_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2a')]=_0x228c74[_0x12b5('0x44')]();_0x502ab0++;_0x57966b();}(_0x3534f8[_0x12b5('0x44')]()));});}function _0x57966b(){if(_0x47d03c==_0x12b5('0x4c')){shell[_0x12b5('0x48')](_0x12b5('0x4d'),{'silent':!![]},function(_0x461323,_0x4aae6e,_0x567401){(function(_0x53161f){_0x502ab0++;_0x3008ae();}(_0x4aae6e[_0x12b5('0x44')]()));});}else{_0x502ab0++;_0x3008ae();}}function _0x3008ae(){shell[_0x12b5('0x48')](_0x12b5('0x4e'),{'silent':!![]},function(_0x3d5500,_0x1fb12e,_0x2abe48){(function(_0x5f0966){_0x3a6a50[_0x12b5('0x20')]['fusion_latest_SHA']=_0x5f0966[_0x12b5('0x44')]();_0x502ab0++;_0x12a3a6();}(_0x1fb12e[_0x12b5('0x44')]()));});}function _0x12a3a6(){shell['exec']('git\x20describe\x20--tags\x20'+_0x3a6a50['SocketVariables'][_0x12b5('0x4f')],{'silent':!![]},function(_0x38fe8f,_0x4049a0,_0x57bab4){(function(_0x475339){_0x3a6a50[_0x12b5('0x20')]['fusion_latest_version']=_0x475339[_0x12b5('0x44')]();_0x502ab0++;}(_0x4049a0[_0x12b5('0x44')]()));});}function _0x8a337(){if(_0x3a6a50[_0x12b5('0x20')]['fusion_current_SHA']!=_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x4f')]){_0x3a6a50['SocketVariables'][_0x12b5('0x2c')]=!![];}else{_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2c')]=![];}_0x502ab0++;}function _0x1f9260(){if(os[_0x12b5('0x3d')]()!=_0x12b5('0x3e')){shell[_0x12b5('0x48')](_0x12b5('0x50'),{'silent':!![]},function(_0x4af364,_0x46e89e,_0x4d3e6d){(function(_0x5eb6ed){_0x3a6a50[_0x12b5('0x20')]['fusion_gamepad_available']=_0x5eb6ed[_0x12b5('0x44')]();if(!_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2d')])_0x3a6a50['SocketVariables'][_0x12b5('0x2d')]=![];else _0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2d')]=!![];_0x502ab0++;}(_0x46e89e[_0x12b5('0x44')]()));});}else{_0x3a6a50[_0x12b5('0x20')]['fusion_gamepad_available']=![];_0x502ab0++;}}function _0x3ddb80(){if(os['platform']()!='win32'){shell[_0x12b5('0x48')](_0x12b5('0x51'),{'silent':!![]},function(_0x473c70,_0x3b5392,_0x10eecb){(function(_0x53c226){var _0x2c72f3=_0x53c226[_0x12b5('0x44')]();if(_0x2c72f3){if(_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x1a')])_0x3a6a50['SocketVariables'][_0x12b5('0x1a')][_0x12b5('0x52')]=_0x2c72f3;else{_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x1a')]={'process':_0x2c72f3,'socket':-0x1};}}else _0x3a6a50[_0x12b5('0x20')]['fusion_diagnostics_running']=null;_0x502ab0++;}(_0x3b5392['trim']()));});}else{_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x2d')]=null;_0x502ab0++;}}function _0x24abbd(){wpa_cli[_0x12b5('0x53')](_0x12b5('0x54'),function(_0x32df13,_0x328f72){if(_0x32df13){_0x328f72={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x3a6a50[_0x12b5('0x20')][_0x12b5('0x31')]=_0x328f72;_0x502ab0++;});}_0x542863();_0x370d72();setInterval(function(){_0x542863();_0x370d72();},0x2710);};