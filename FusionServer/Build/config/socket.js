var _0x4ab8=['splice','error','Socket\x20error\x20-\x20','-----------------------------------------------------','fusion_battery_level','fusion_internet_access\x20:\x20','fusion_current_version\x20:\x20','fusion_update_available\x20:\x20','fusion_gamepad_available\x20:\x20','fusion_gamepad_available','fusion_diagnostics_running\x20:\x20','fusion_wifi_access\x20:\x20','stringify','fusion_wifi_access','fusion_storage_type\x20:\x20','type','fusion_program_running\x20:\x20','internet-access','version-number','fusion_update_available','gamepad-available','wifi-connection','wifi-fusion_storage_type','Storage','program-running','battery-level','fusion_internet_access','fusion_current_version','update-available','platform','win32','./scripts/ReadBatt.py','pipe','stdout','data','trim','stderr','Error\x20reading\x20battery\x20:\x20\x0a','then','catch','exec','git\x20rev-parse\x20HEAD','fusion_current_SHA','git\x20describe\x20--tags\x20','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1','fusion_latest_SHA','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process','status','get','Wifi_NIC','child_process','spawn','internet-available','wireless-tools/wpa_cli','env','NODE_ENV','dev','path','request','config','exports','connectedClients','dirname','split','sep','connection','log','join','emit','global-message','Hello\x20from\x20server','Client\x20disconnected\x20-\x20','SocketVariables','fusion_program_running','SocketId','KillProgram','fusion_diagnostics_running','socket','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','statusCode','sockets','diagnostics_running','indexOf'];(function(_0x2699a9,_0x501e82){var _0x5b6c40=function(_0xa3de42){while(--_0xa3de42){_0x2699a9['push'](_0x2699a9['shift']());}};_0x5b6c40(++_0x501e82);}(_0x4ab8,0xe3));var _0x5d86=function(_0x61b4b9,_0x221380){_0x61b4b9=_0x61b4b9-0x0;var _0x208821=_0x4ab8[_0x61b4b9];return _0x208821;};var spawn=require(_0x5d86('0x0'))[_0x5d86('0x1')];var internetAvailable=require(_0x5d86('0x2'));var wpa_cli=require(_0x5d86('0x3'));var os=require('os');var shell=require('shelljs');var env=process[_0x5d86('0x4')][_0x5d86('0x5')]||_0x5d86('0x6');var path=require(_0x5d86('0x7'));var request=require(_0x5d86('0x8'));const config=require(_0x5d86('0x9'));module[_0x5d86('0xa')]=function(_0x236bf6,_0x4757d3,_0x519657){_0x519657[_0x5d86('0xb')]=[];var _0x4054e9=path[_0x5d86('0xc')](__dirname)[_0x5d86('0xd')](path[_0x5d86('0xe')])['pop']();var _0x439c39=0x0;var _0x12c17d=0xb;_0x236bf6['on'](_0x5d86('0xf'),function(_0x4b1f8b){_0x519657[_0x5d86('0xb')]['push'](_0x4b1f8b);console[_0x5d86('0x10')]('Client\x20connected...');_0x3696f0();_0x4b1f8b['on'](_0x5d86('0x11'),function(_0x1ab548){console[_0x5d86('0x10')](_0x1ab548);_0x4b1f8b[_0x5d86('0x12')](_0x5d86('0x13'),{'message':_0x5d86('0x14'),'type':'success'});});_0x4b1f8b['on']('disconnect',function(_0x5c2508){console[_0x5d86('0x10')](_0x5d86('0x15')+_0x5c2508);if(_0x519657[_0x5d86('0x16')][_0x5d86('0x17')])if(_0x519657[_0x5d86('0x16')][_0x5d86('0x17')][_0x5d86('0x18')]==_0x4b1f8b['id'])_0x4757d3[_0x5d86('0x19')]();if(_0x519657['SocketVariables'][_0x5d86('0x1a')])if(_0x519657[_0x5d86('0x16')]['fusion_diagnostics_running'][_0x5d86('0x1b')]==_0x4b1f8b['id']){console[_0x5d86('0x10')](_0x5d86('0x1c'));request({'url':'http://localhost:8080/api/diagnostics/stop','method':'GET'},function(_0x301763,_0x3063ef,_0x11826b){if(_0x301763)console[_0x5d86('0x10')](_0x5d86('0x1d')+_0x301763);else{if(_0x3063ef[_0x5d86('0x1e')]==0xc8){_0x519657[_0x5d86('0x16')][_0x5d86('0x1a')]=null;}}_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x20'),_0x519657[_0x5d86('0x16')][_0x5d86('0x1a')]);});}var _0x56203d=_0x519657[_0x5d86('0xb')][_0x5d86('0x21')](_0x4b1f8b);_0x519657[_0x5d86('0xb')][_0x5d86('0x22')](_0x56203d,0x1);});_0x4b1f8b['on'](_0x5d86('0x23'),function(_0x119b51){console['log'](_0x5d86('0x24')+_0x119b51);});});function _0x1fff05(){_0x3a8544();_0x38d335();_0x1475e4();_0x312e44();_0x248ba8();_0x49ae49();_0x19a583();}function _0x2e52f6(){if(_0x439c39>=_0x12c17d){console[_0x5d86('0x10')](_0x5d86('0x25'));console[_0x5d86('0x10')]('fusion_battery_level\x20:\x20'+_0x519657[_0x5d86('0x16')][_0x5d86('0x26')]);console[_0x5d86('0x10')](_0x5d86('0x27')+_0x519657[_0x5d86('0x16')]['fusion_internet_access']);console[_0x5d86('0x10')](_0x5d86('0x28')+_0x519657[_0x5d86('0x16')]['fusion_current_version']);console[_0x5d86('0x10')](_0x5d86('0x29')+_0x519657['SocketVariables']['fusion_update_available']);console[_0x5d86('0x10')](_0x5d86('0x2a')+_0x519657[_0x5d86('0x16')][_0x5d86('0x2b')]);console[_0x5d86('0x10')](_0x5d86('0x2c')+JSON['stringify'](_0x519657[_0x5d86('0x16')]['fusion_diagnostics_running']));console['log'](_0x5d86('0x2d')+JSON[_0x5d86('0x2e')](_0x519657[_0x5d86('0x16')][_0x5d86('0x2f')]));console[_0x5d86('0x10')](_0x5d86('0x30')+_0x519657['Storage'][_0x5d86('0x31')]);console['log'](_0x5d86('0x32')+JSON[_0x5d86('0x2e')](_0x519657['SocketVariables'][_0x5d86('0x17')]));console['log'](_0x5d86('0x25'));_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')]('battery-level',_0x519657['SocketVariables']['fusion_battery_level']);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x33'),_0x519657[_0x5d86('0x16')]['fusion_internet_access']);_0x236bf6[_0x5d86('0x1f')]['emit'](_0x5d86('0x34'),_0x519657[_0x5d86('0x16')]['fusion_current_version']);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')]('update-available',_0x519657[_0x5d86('0x16')][_0x5d86('0x35')]);_0x236bf6['sockets'][_0x5d86('0x12')](_0x5d86('0x36'),_0x519657['SocketVariables'][_0x5d86('0x2b')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x20'),_0x519657['SocketVariables'][_0x5d86('0x1a')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x37'),_0x519657[_0x5d86('0x16')][_0x5d86('0x2f')]);_0x236bf6[_0x5d86('0x1f')]['emit'](_0x5d86('0x38'),_0x519657[_0x5d86('0x39')][_0x5d86('0x31')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x3a'),_0x519657[_0x5d86('0x16')][_0x5d86('0x17')]);_0x439c39=0x0;}else{setTimeout(_0x2e52f6,0x7d0);}}function _0x3696f0(){_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x3b'),_0x519657['SocketVariables'][_0x5d86('0x26')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')]('internet-access',_0x519657[_0x5d86('0x16')][_0x5d86('0x3c')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x34'),_0x519657[_0x5d86('0x16')][_0x5d86('0x3d')]);_0x236bf6[_0x5d86('0x1f')]['emit'](_0x5d86('0x3e'),_0x519657[_0x5d86('0x16')]['fusion_update_available']);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x36'),_0x519657[_0x5d86('0x16')][_0x5d86('0x2b')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x20'),_0x519657[_0x5d86('0x16')]['fusion_diagnostics_running']);_0x236bf6['sockets'][_0x5d86('0x12')](_0x5d86('0x37'),_0x519657[_0x5d86('0x16')][_0x5d86('0x2f')]);_0x236bf6[_0x5d86('0x1f')][_0x5d86('0x12')](_0x5d86('0x3a'),_0x519657[_0x5d86('0x16')][_0x5d86('0x17')]);}function _0x3a8544(){if(os[_0x5d86('0x3f')]()!=_0x5d86('0x40')){var _0x1bc6df=_0x5d86('0x41');var _0x47aa67=spawn('python',[_0x1bc6df],{'stdio':_0x5d86('0x42')});_0x47aa67[_0x5d86('0x43')]['on'](_0x5d86('0x44'),function(_0x105f1a){_0x519657[_0x5d86('0x16')][_0x5d86('0x26')]=String(_0x105f1a)[_0x5d86('0x45')]();_0x439c39++;});_0x47aa67[_0x5d86('0x46')]['on'](_0x5d86('0x44'),function(_0x215abc){console[_0x5d86('0x10')](_0x5d86('0x47')+String(_0x215abc));});}else{_0x439c39++;}}function _0x38d335(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x5d86('0x48')](function(){_0x519657['SocketVariables'][_0x5d86('0x3c')]=!![];_0x439c39++;})[_0x5d86('0x49')](function(){_0x519657['SocketVariables'][_0x5d86('0x3c')]=![];_0x439c39++;});}function _0x1475e4(){shell[_0x5d86('0x4a')](_0x5d86('0x4b'),{'silent':!![]},function(_0x526e1b,_0x25e743,_0x44e74a){(function(_0xef4d35){_0x519657['SocketVariables'][_0x5d86('0x4c')]=_0xef4d35['trim']();_0x439c39++;_0x58b254();}(_0x25e743[_0x5d86('0x45')]()));});}function _0x58b254(){shell[_0x5d86('0x4a')](_0x5d86('0x4d')+_0x519657[_0x5d86('0x16')][_0x5d86('0x4c')],{'silent':!![]},function(_0xdb03d8,_0x32bf23,_0x4abca0){(function(_0x19666d){_0x519657[_0x5d86('0x16')][_0x5d86('0x3d')]=_0x19666d[_0x5d86('0x45')]();_0x439c39++;_0x5256a8();}(_0x32bf23[_0x5d86('0x45')]()));});}function _0x5256a8(){if(_0x4054e9=='Build'){shell[_0x5d86('0x4a')](_0x5d86('0x4e'),{'silent':!![]},function(_0x17b5f1,_0x3e5c3d,_0x2bb2f7){(function(_0x3e7d13){_0x439c39++;_0x48a3d0();}(_0x3e5c3d[_0x5d86('0x45')]()));});}else{_0x439c39++;_0x48a3d0();}}function _0x48a3d0(){shell[_0x5d86('0x4a')](_0x5d86('0x4f'),{'silent':!![]},function(_0x119a17,_0x89f048,_0x29edb1){(function(_0x3052d9){_0x519657[_0x5d86('0x16')][_0x5d86('0x50')]=_0x3052d9['trim']();_0x439c39++;_0x27b7da();}(_0x89f048[_0x5d86('0x45')]()));});}function _0x27b7da(){shell[_0x5d86('0x4a')](_0x5d86('0x4d')+_0x519657[_0x5d86('0x16')][_0x5d86('0x50')],{'silent':!![]},function(_0x405dde,_0x296e4e,_0x45b3e4){(function(_0x5ae0d6){_0x519657[_0x5d86('0x16')]['fusion_latest_version']=_0x5ae0d6[_0x5d86('0x45')]();_0x439c39++;}(_0x296e4e['trim']()));});}function _0x312e44(){if(_0x519657[_0x5d86('0x16')]['fusion_current_SHA']!=_0x519657[_0x5d86('0x16')][_0x5d86('0x50')]){_0x519657['SocketVariables']['fusion_update_available']=!![];}else{_0x519657[_0x5d86('0x16')]['fusion_update_available']=![];}_0x439c39++;}function _0x248ba8(){if(os[_0x5d86('0x3f')]()!=_0x5d86('0x40')){shell[_0x5d86('0x4a')](_0x5d86('0x51'),{'silent':!![]},function(_0x453e99,_0x474e61,_0x1525a0){(function(_0x3b1f6e){_0x519657['SocketVariables'][_0x5d86('0x2b')]=_0x3b1f6e[_0x5d86('0x45')]();if(!_0x519657[_0x5d86('0x16')][_0x5d86('0x2b')])_0x519657[_0x5d86('0x16')][_0x5d86('0x2b')]=![];else _0x519657[_0x5d86('0x16')][_0x5d86('0x2b')]=!![];_0x439c39++;}(_0x474e61['trim']()));});}else{_0x519657['SocketVariables'][_0x5d86('0x2b')]=![];_0x439c39++;}}function _0x49ae49(){if(os[_0x5d86('0x3f')]()!=_0x5d86('0x40')){shell[_0x5d86('0x4a')](_0x5d86('0x52'),{'silent':!![]},function(_0xaee4e5,_0x17f9f6,_0x725e03){(function(_0x22a92b){var _0x4bb348=_0x22a92b['trim']();if(_0x4bb348){if(_0x519657[_0x5d86('0x16')][_0x5d86('0x1a')])_0x519657[_0x5d86('0x16')]['fusion_diagnostics_running'][_0x5d86('0x53')]=_0x4bb348;else{_0x519657[_0x5d86('0x16')][_0x5d86('0x1a')]={'process':_0x4bb348,'socket':-0x1};}}else _0x519657[_0x5d86('0x16')][_0x5d86('0x1a')]=null;_0x439c39++;}(_0x17f9f6[_0x5d86('0x45')]()));});}else{_0x519657[_0x5d86('0x16')][_0x5d86('0x2b')]=null;_0x439c39++;}}function _0x19a583(){wpa_cli[_0x5d86('0x54')](config[_0x5d86('0x55')](_0x5d86('0x56')),function(_0x897491,_0x28d375){if(_0x897491){_0x28d375={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x519657[_0x5d86('0x16')][_0x5d86('0x2f')]=_0x28d375;_0x439c39++;});}_0x2e52f6();_0x1fff05();setInterval(function(){_0x2e52f6();_0x1fff05();},0x2710);};