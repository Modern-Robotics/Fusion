var _0x2ba6=['fusion_internet_access','fusion_current_version','fusion_update_available\x20:\x20','fusion_update_available','fusion_gamepad_available','fusion_diagnostics_running\x20:\x20','stringify','fusion_wifi_access\x20:\x20','fusion_storage_type\x20:\x20','fusion_program_running\x20:\x20','sockets','battery-level','internet-access','version-number','wifi-connection','wifi-fusion_storage_type','Storage','type','program-running','update-available','fusion_wifi_access','win32','./scripts/ReadBatt.py','python','pipe','trim','stderr','data','then','catch','exec','fusion_current_SHA','git\x20describe\x20--tags\x20','Build','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1','fusion_latest_SHA','fusion_latest_version','platform','process','status','child_process','spawn','internet-available','shelljs','NODE_ENV','dev','path','request','exports','connectedClients','dirname','split','sep','pop','connection','push','Client\x20connected...','join','log','global-message','Hello\x20from\x20server','disconnect','Client\x20disconnected\x20-\x20','SocketVariables','fusion_program_running','SocketId','KillProgram','fusion_diagnostics_running','socket','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','emit','diagnostics_running','indexOf','splice','error','-----------------------------------------------------','fusion_battery_level\x20:\x20','fusion_battery_level'];(function(_0x53dcac,_0x247a45){var _0x1652dd=function(_0x33c359){while(--_0x33c359){_0x53dcac['push'](_0x53dcac['shift']());}};_0x1652dd(++_0x247a45);}(_0x2ba6,0x16d));var _0x2cd9=function(_0x1b0bb1,_0x11754a){_0x1b0bb1=_0x1b0bb1-0x0;var _0x118f94=_0x2ba6[_0x1b0bb1];return _0x118f94;};var spawn=require(_0x2cd9('0x0'))[_0x2cd9('0x1')];var internetAvailable=require(_0x2cd9('0x2'));var wpa_cli=require('wireless-tools/wpa_cli');var os=require('os');var shell=require(_0x2cd9('0x3'));var env=process['env'][_0x2cd9('0x4')]||_0x2cd9('0x5');var path=require(_0x2cd9('0x6'));var request=require(_0x2cd9('0x7'));module[_0x2cd9('0x8')]=function(_0x421f49,_0x362337,_0x495887){_0x495887[_0x2cd9('0x9')]=[];var _0x37b9e8=path[_0x2cd9('0xa')](__dirname)[_0x2cd9('0xb')](path[_0x2cd9('0xc')])[_0x2cd9('0xd')]();var _0x5ca6a6=0x0;var _0x146d09=0xb;_0x421f49['on'](_0x2cd9('0xe'),function(_0xc68f34){_0x495887[_0x2cd9('0x9')][_0x2cd9('0xf')](_0xc68f34);console['log'](_0x2cd9('0x10'));_0x41da8a();_0xc68f34['on'](_0x2cd9('0x11'),function(_0x658778){console[_0x2cd9('0x12')](_0x658778);_0xc68f34['emit'](_0x2cd9('0x13'),{'message':_0x2cd9('0x14'),'type':'success'});});_0xc68f34['on'](_0x2cd9('0x15'),function(_0x2dc8ae){console[_0x2cd9('0x12')](_0x2cd9('0x16')+_0x2dc8ae);if(_0x495887[_0x2cd9('0x17')][_0x2cd9('0x18')])if(_0x495887[_0x2cd9('0x17')][_0x2cd9('0x18')][_0x2cd9('0x19')]==_0xc68f34['id'])_0x362337[_0x2cd9('0x1a')]();if(_0x495887[_0x2cd9('0x17')][_0x2cd9('0x1b')])if(_0x495887[_0x2cd9('0x17')][_0x2cd9('0x1b')][_0x2cd9('0x1c')]==_0xc68f34['id']){console[_0x2cd9('0x12')](_0x2cd9('0x1d'));request({'url':'http://localhost:8080/api/diagnostics/stop','method':_0x2cd9('0x1e')},function(_0x465418,_0x3da1bf,_0x57b13c){if(_0x465418)console['log'](_0x2cd9('0x1f')+_0x465418);else{if(_0x3da1bf['statusCode']==0xc8){_0x495887['SocketVariables']['fusion_diagnostics_running']=null;}}_0x421f49['sockets'][_0x2cd9('0x20')](_0x2cd9('0x21'),_0x495887['SocketVariables'][_0x2cd9('0x1b')]);});}var _0x281cb8=_0x495887[_0x2cd9('0x9')][_0x2cd9('0x22')](_0xc68f34);_0x495887[_0x2cd9('0x9')][_0x2cd9('0x23')](_0x281cb8,0x1);});_0xc68f34['on'](_0x2cd9('0x24'),function(_0x257de3){console[_0x2cd9('0x12')]('Socket\x20error\x20-\x20'+_0x257de3);});});function _0x2a28a9(){_0x4dd367();_0x1467d8();_0x3f80c0();_0xf0263();_0xb629c9();_0x21b312();_0xa5c8b4();}function _0x24b25a(){if(_0x5ca6a6>=_0x146d09){console['log'](_0x2cd9('0x25'));console[_0x2cd9('0x12')](_0x2cd9('0x26')+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x27')]);console[_0x2cd9('0x12')]('fusion_internet_access\x20:\x20'+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x28')]);console[_0x2cd9('0x12')]('fusion_current_version\x20:\x20'+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x29')]);console[_0x2cd9('0x12')](_0x2cd9('0x2a')+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2b')]);console[_0x2cd9('0x12')]('fusion_gamepad_available\x20:\x20'+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]);console['log'](_0x2cd9('0x2d')+JSON[_0x2cd9('0x2e')](_0x495887[_0x2cd9('0x17')]['fusion_diagnostics_running']));console[_0x2cd9('0x12')](_0x2cd9('0x2f')+JSON[_0x2cd9('0x2e')](_0x495887['SocketVariables']['fusion_wifi_access']));console['log'](_0x2cd9('0x30')+_0x495887['Storage']['type']);console[_0x2cd9('0x12')](_0x2cd9('0x31')+JSON['stringify'](_0x495887['SocketVariables'][_0x2cd9('0x18')]));console[_0x2cd9('0x12')](_0x2cd9('0x25'));_0x421f49[_0x2cd9('0x32')]['emit'](_0x2cd9('0x33'),_0x495887[_0x2cd9('0x17')]['fusion_battery_level']);_0x421f49['sockets'][_0x2cd9('0x20')](_0x2cd9('0x34'),_0x495887[_0x2cd9('0x17')]['fusion_internet_access']);_0x421f49['sockets'][_0x2cd9('0x20')](_0x2cd9('0x35'),_0x495887[_0x2cd9('0x17')]['fusion_current_version']);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')]('update-available',_0x495887['SocketVariables']['fusion_update_available']);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')]('gamepad-available',_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x21'),_0x495887['SocketVariables'][_0x2cd9('0x1b')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x36'),_0x495887['SocketVariables']['fusion_wifi_access']);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x37'),_0x495887[_0x2cd9('0x38')][_0x2cd9('0x39')]);_0x421f49[_0x2cd9('0x32')]['emit'](_0x2cd9('0x3a'),_0x495887[_0x2cd9('0x17')][_0x2cd9('0x18')]);_0x5ca6a6=0x0;}else{setTimeout(_0x24b25a,0x7d0);}}function _0x41da8a(){_0x421f49[_0x2cd9('0x32')]['emit'](_0x2cd9('0x33'),_0x495887[_0x2cd9('0x17')][_0x2cd9('0x27')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')]('internet-access',_0x495887[_0x2cd9('0x17')][_0x2cd9('0x28')]);_0x421f49[_0x2cd9('0x32')]['emit'](_0x2cd9('0x35'),_0x495887[_0x2cd9('0x17')][_0x2cd9('0x29')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x3b'),_0x495887['SocketVariables'][_0x2cd9('0x2b')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')]('gamepad-available',_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]);_0x421f49['sockets'][_0x2cd9('0x20')](_0x2cd9('0x21'),_0x495887['SocketVariables'][_0x2cd9('0x1b')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x36'),_0x495887[_0x2cd9('0x17')][_0x2cd9('0x3c')]);_0x421f49[_0x2cd9('0x32')][_0x2cd9('0x20')](_0x2cd9('0x3a'),_0x495887[_0x2cd9('0x17')][_0x2cd9('0x18')]);}function _0x4dd367(){if(os['platform']()!=_0x2cd9('0x3d')){var _0x3afd25=_0x2cd9('0x3e');var _0x7f6f6f=spawn(_0x2cd9('0x3f'),[_0x3afd25],{'stdio':_0x2cd9('0x40')});_0x7f6f6f['stdout']['on']('data',function(_0x3a1a38){_0x495887[_0x2cd9('0x17')]['fusion_battery_level']=String(_0x3a1a38)[_0x2cd9('0x41')]();_0x5ca6a6++;});_0x7f6f6f[_0x2cd9('0x42')]['on'](_0x2cd9('0x43'),function(_0xa57db5){console[_0x2cd9('0x12')]('Error\x20reading\x20battery\x20:\x20\x0a'+String(_0xa57db5));});}else{_0x5ca6a6++;}}function _0x1467d8(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x2cd9('0x44')](function(){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x28')]=!![];_0x5ca6a6++;})[_0x2cd9('0x45')](function(){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x28')]=![];_0x5ca6a6++;});}function _0x3f80c0(){shell[_0x2cd9('0x46')]('git\x20rev-parse\x20HEAD',{'silent':!![]},function(_0x4c6a7c,_0x75619a,_0x5f4de1){(function(_0x28faf8){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x47')]=_0x28faf8[_0x2cd9('0x41')]();_0x5ca6a6++;_0x472641();}(_0x75619a[_0x2cd9('0x41')]()));});}function _0x472641(){shell[_0x2cd9('0x46')](_0x2cd9('0x48')+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x47')],{'silent':!![]},function(_0x487b68,_0x3b5259,_0x413135){(function(_0x52c5d6){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x29')]=_0x52c5d6[_0x2cd9('0x41')]();_0x5ca6a6++;_0x4e0f23();}(_0x3b5259[_0x2cd9('0x41')]()));});}function _0x4e0f23(){if(_0x37b9e8==_0x2cd9('0x49')){shell[_0x2cd9('0x46')](_0x2cd9('0x4a'),{'silent':!![]},function(_0x36bbc5,_0x51fb95,_0x211ef5){(function(_0x3c8bcd){_0x5ca6a6++;_0x5554e0();}(_0x51fb95['trim']()));});}else{_0x5ca6a6++;_0x5554e0();}}function _0x5554e0(){shell[_0x2cd9('0x46')](_0x2cd9('0x4b'),{'silent':!![]},function(_0x4c0b83,_0x3ff408,_0x4e7ec0){(function(_0x105c49){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x4c')]=_0x105c49['trim']();_0x5ca6a6++;_0x22ce29();}(_0x3ff408['trim']()));});}function _0x22ce29(){shell[_0x2cd9('0x46')](_0x2cd9('0x48')+_0x495887[_0x2cd9('0x17')][_0x2cd9('0x4c')],{'silent':!![]},function(_0x5cd96b,_0x4c307a,_0x590f9d){(function(_0x60e413){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x4d')]=_0x60e413['trim']();_0x5ca6a6++;}(_0x4c307a['trim']()));});}function _0xf0263(){if(_0x495887[_0x2cd9('0x17')][_0x2cd9('0x47')]!=_0x495887['SocketVariables']['fusion_latest_SHA']){_0x495887[_0x2cd9('0x17')]['fusion_update_available']=!![];}else{_0x495887[_0x2cd9('0x17')]['fusion_update_available']=![];}_0x5ca6a6++;}function _0xb629c9(){if(os[_0x2cd9('0x4e')]()!=_0x2cd9('0x3d')){shell[_0x2cd9('0x46')]('sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN',{'silent':!![]},function(_0x49a200,_0x3a086e,_0x2f667f){(function(_0x1af0f4){_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]=_0x1af0f4[_0x2cd9('0x41')]();if(!_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')])_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]=![];else _0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]=!![];_0x5ca6a6++;}(_0x3a086e[_0x2cd9('0x41')]()));});}else{_0x495887[_0x2cd9('0x17')][_0x2cd9('0x2c')]=![];_0x5ca6a6++;}}function _0x21b312(){if(os['platform']()!='win32'){shell[_0x2cd9('0x46')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]},function(_0x5f54e7,_0x466bee,_0x2946e3){(function(_0x8fc2fa){var _0x511e34=_0x8fc2fa['trim']();if(_0x511e34){if(_0x495887['SocketVariables']['fusion_diagnostics_running'])_0x495887[_0x2cd9('0x17')][_0x2cd9('0x1b')][_0x2cd9('0x4f')]=_0x511e34;else{_0x495887['SocketVariables']['fusion_diagnostics_running']={'process':_0x511e34,'socket':-0x1};}}else _0x495887[_0x2cd9('0x17')][_0x2cd9('0x1b')]=null;_0x5ca6a6++;}(_0x466bee['trim']()));});}else{_0x495887['SocketVariables']['fusion_gamepad_available']=null;_0x5ca6a6++;}}function _0xa5c8b4(){wpa_cli[_0x2cd9('0x50')]('wlan1',function(_0x5571e0,_0x4f68ee){if(_0x5571e0){_0x4f68ee={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x495887[_0x2cd9('0x17')]['fusion_wifi_access']=_0x4f68ee;_0x5ca6a6++;});}_0x24b25a();_0x2a28a9();setInterval(function(){_0x24b25a();_0x2a28a9();},0x2710);};