var _0x554e=['socket','Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client','http://localhost:8080/api/diagnostics/stop','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','statusCode','indexOf','error','-----------------------------------------------------','fusion_battery_level\x20:\x20','fusion_battery_level','fusion_current_version\x20:\x20','fusion_current_version','fusion_update_available\x20:\x20','fusion_update_available','fusion_diagnostics_running\x20:\x20','fusion_wifi_access\x20:\x20','stringify','fusion_wifi_access','Storage','sockets','emit','battery-level','internet-access','fusion_internet_access','version-number','update-available','gamepad-available','fusion_gamepad_available','diagnostics_running','wifi-connection','wifi-fusion_storage_type','type','program-running','platform','./scripts/ReadBatt.py','python','pipe','stdout','trim','stderr','data','Error\x20reading\x20battery\x20:\x20\x0a','then','catch','exec','git\x20rev-parse\x20HEAD','Build','git\x20fetch','fusion_latest_SHA','git\x20describe\x20--tags\x20','fusion_latest_version','fusion_current_SHA','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','win32','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process','status','get','Wifi_NIC','child_process','spawn','internet-available','wireless-tools/wpa_cli','shelljs','env','NODE_ENV','dev','request','config','exports','split','sep','connectedClients','log','join','global-message','Hello\x20from\x20server','success','disconnect','Client\x20disconnected\x20-\x20','SocketVariables','fusion_program_running','SocketId','KillProgram','fusion_diagnostics_running'];(function(_0x27fade,_0x354401){var _0x2a0eb5=function(_0x6f704){while(--_0x6f704){_0x27fade['push'](_0x27fade['shift']());}};_0x2a0eb5(++_0x354401);}(_0x554e,0x1ea));var _0x28e3=function(_0x3b94cd,_0x32730b){_0x3b94cd=_0x3b94cd-0x0;var _0x509850=_0x554e[_0x3b94cd];return _0x509850;};var spawn=require(_0x28e3('0x0'))[_0x28e3('0x1')];var internetAvailable=require(_0x28e3('0x2'));var wpa_cli=require(_0x28e3('0x3'));var os=require('os');var shell=require(_0x28e3('0x4'));var env=process[_0x28e3('0x5')][_0x28e3('0x6')]||_0x28e3('0x7');var path=require('path');var request=require(_0x28e3('0x8'));const config=require(_0x28e3('0x9'));module[_0x28e3('0xa')]=function(_0x2b04fc,_0x49ed40,_0x338e89){_0x338e89['connectedClients']=[];var _0x509d82=path['dirname'](__dirname)[_0x28e3('0xb')](path[_0x28e3('0xc')])['pop']();var _0x3c3ae5=0x0;var _0x3b2502=0xb;_0x2b04fc['on']('connection',function(_0x502ef9){_0x338e89[_0x28e3('0xd')]['push'](_0x502ef9);console[_0x28e3('0xe')]('Client\x20connected...');_0x39fb18();_0x502ef9['on'](_0x28e3('0xf'),function(_0x1e993b){console[_0x28e3('0xe')](_0x1e993b);_0x502ef9['emit'](_0x28e3('0x10'),{'message':_0x28e3('0x11'),'type':_0x28e3('0x12')});});_0x502ef9['on'](_0x28e3('0x13'),function(_0x31f7ba){console[_0x28e3('0xe')](_0x28e3('0x14')+_0x31f7ba);if(_0x338e89[_0x28e3('0x15')][_0x28e3('0x16')])if(_0x338e89['SocketVariables']['fusion_program_running'][_0x28e3('0x17')]==_0x502ef9['id'])_0x49ed40[_0x28e3('0x18')]();if(_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')])if(_0x338e89[_0x28e3('0x15')]['fusion_diagnostics_running'][_0x28e3('0x1a')]==_0x502ef9['id']){console['log'](_0x28e3('0x1b'));request({'url':_0x28e3('0x1c'),'method':_0x28e3('0x1d')},function(_0x5b2d7d,_0x3b226a,_0x19f0c8){if(_0x5b2d7d)console[_0x28e3('0xe')](_0x28e3('0x1e')+_0x5b2d7d);else{if(_0x3b226a[_0x28e3('0x1f')]==0xc8){_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')]=null;}}_0x2b04fc['sockets']['emit']('diagnostics_running',_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')]);});}var _0x2b7791=_0x338e89[_0x28e3('0xd')][_0x28e3('0x20')](_0x502ef9);_0x338e89[_0x28e3('0xd')]['splice'](_0x2b7791,0x1);});_0x502ef9['on'](_0x28e3('0x21'),function(_0x12aace){console[_0x28e3('0xe')]('Socket\x20error\x20-\x20'+_0x12aace);});});function _0x1c642d(){_0x25508d();_0x7923fb();_0x23a454();_0x2d8bc8();_0x40295c();_0x15d82a();_0x5a8f75();}function _0x332daf(){if(_0x3c3ae5>=_0x3b2502){console[_0x28e3('0xe')](_0x28e3('0x22'));console[_0x28e3('0xe')](_0x28e3('0x23')+_0x338e89[_0x28e3('0x15')][_0x28e3('0x24')]);console[_0x28e3('0xe')]('fusion_internet_access\x20:\x20'+_0x338e89['SocketVariables']['fusion_internet_access']);console[_0x28e3('0xe')](_0x28e3('0x25')+_0x338e89[_0x28e3('0x15')][_0x28e3('0x26')]);console['log'](_0x28e3('0x27')+_0x338e89[_0x28e3('0x15')][_0x28e3('0x28')]);console[_0x28e3('0xe')]('fusion_gamepad_available\x20:\x20'+_0x338e89[_0x28e3('0x15')]['fusion_gamepad_available']);console[_0x28e3('0xe')](_0x28e3('0x29')+JSON['stringify'](_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')]));console[_0x28e3('0xe')](_0x28e3('0x2a')+JSON[_0x28e3('0x2b')](_0x338e89['SocketVariables'][_0x28e3('0x2c')]));console[_0x28e3('0xe')]('fusion_storage_type\x20:\x20'+_0x338e89[_0x28e3('0x2d')]['type']);console[_0x28e3('0xe')]('fusion_program_running\x20:\x20'+JSON[_0x28e3('0x2b')](_0x338e89[_0x28e3('0x15')]['fusion_program_running']));console[_0x28e3('0xe')]('-----------------------------------------------------');_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x30'),_0x338e89[_0x28e3('0x15')]['fusion_battery_level']);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x31'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x32')]);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x33'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x26')]);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x34'),_0x338e89[_0x28e3('0x15')]['fusion_update_available']);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x35'),_0x338e89['SocketVariables'][_0x28e3('0x36')]);_0x2b04fc['sockets'][_0x28e3('0x2f')](_0x28e3('0x37'),_0x338e89['SocketVariables'][_0x28e3('0x19')]);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x38'),_0x338e89['SocketVariables'][_0x28e3('0x2c')]);_0x2b04fc[_0x28e3('0x2e')]['emit'](_0x28e3('0x39'),_0x338e89[_0x28e3('0x2d')][_0x28e3('0x3a')]);_0x2b04fc[_0x28e3('0x2e')]['emit'](_0x28e3('0x3b'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x16')]);_0x3c3ae5=0x0;}else{setTimeout(_0x332daf,0x7d0);}}function _0x39fb18(){_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x30'),_0x338e89['SocketVariables'][_0x28e3('0x24')]);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x31'),_0x338e89[_0x28e3('0x15')]['fusion_internet_access']);_0x2b04fc['sockets'][_0x28e3('0x2f')](_0x28e3('0x33'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x26')]);_0x2b04fc[_0x28e3('0x2e')]['emit'](_0x28e3('0x34'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x28')]);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x35'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x36')]);_0x2b04fc['sockets'][_0x28e3('0x2f')](_0x28e3('0x37'),_0x338e89['SocketVariables']['fusion_diagnostics_running']);_0x2b04fc[_0x28e3('0x2e')][_0x28e3('0x2f')](_0x28e3('0x38'),_0x338e89['SocketVariables'][_0x28e3('0x2c')]);_0x2b04fc['sockets'][_0x28e3('0x2f')](_0x28e3('0x3b'),_0x338e89[_0x28e3('0x15')][_0x28e3('0x16')]);}function _0x25508d(){if(os[_0x28e3('0x3c')]()!='win32'){var _0x49245c=_0x28e3('0x3d');var _0x2b0857=spawn(_0x28e3('0x3e'),[_0x49245c],{'stdio':_0x28e3('0x3f')});_0x2b0857[_0x28e3('0x40')]['on']('data',function(_0x27f4a2){_0x338e89[_0x28e3('0x15')]['fusion_battery_level']=String(_0x27f4a2)[_0x28e3('0x41')]();_0x3c3ae5++;});_0x2b0857[_0x28e3('0x42')]['on'](_0x28e3('0x43'),function(_0x191dae){console[_0x28e3('0xe')](_0x28e3('0x44')+String(_0x191dae));});}else{_0x3c3ae5++;}}function _0x7923fb(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x28e3('0x45')](function(){_0x338e89[_0x28e3('0x15')][_0x28e3('0x32')]=!![];_0x3c3ae5++;})[_0x28e3('0x46')](function(){_0x338e89[_0x28e3('0x15')]['fusion_internet_access']=![];_0x3c3ae5++;});}function _0x23a454(){shell[_0x28e3('0x47')](_0x28e3('0x48'),{'silent':!![]},function(_0x426b78,_0x2e9d27,_0x560fbf){(function(_0x24912b){_0x338e89[_0x28e3('0x15')]['fusion_current_SHA']=_0x24912b[_0x28e3('0x41')]();_0x3c3ae5++;_0xdfe414();}(_0x2e9d27[_0x28e3('0x41')]()));});}function _0xdfe414(){shell[_0x28e3('0x47')]('git\x20describe\x20--tags\x20'+_0x338e89['SocketVariables']['fusion_current_SHA'],{'silent':!![]},function(_0x4a7916,_0x1d1bf,_0xc05516){(function(_0x48aab9){_0x338e89[_0x28e3('0x15')][_0x28e3('0x26')]=_0x48aab9['trim']();_0x3c3ae5++;_0x1f9a8e();}(_0x1d1bf[_0x28e3('0x41')]()));});}function _0x1f9a8e(){if(_0x509d82==_0x28e3('0x49')){shell[_0x28e3('0x47')](_0x28e3('0x4a'),{'silent':!![]},function(_0x48bdd6,_0x33ce07,_0x2ec73b){(function(_0x2ff2a1){_0x3c3ae5++;_0x3bfc01();}(_0x33ce07['trim']()));});}else{_0x3c3ae5++;_0x3bfc01();}}function _0x3bfc01(){shell[_0x28e3('0x47')]('git\x20rev-list\x20--tags\x20--max-count=1',{'silent':!![]},function(_0x4a1a0a,_0x59cef0,_0x21be81){(function(_0x254359){_0x338e89[_0x28e3('0x15')][_0x28e3('0x4b')]=_0x254359[_0x28e3('0x41')]();_0x3c3ae5++;_0x15bd3b();}(_0x59cef0[_0x28e3('0x41')]()));});}function _0x15bd3b(){shell[_0x28e3('0x47')](_0x28e3('0x4c')+_0x338e89[_0x28e3('0x15')][_0x28e3('0x4b')],{'silent':!![]},function(_0x59ba0e,_0x1ee279,_0x33a4b6){(function(_0x50227e){_0x338e89[_0x28e3('0x15')][_0x28e3('0x4d')]=_0x50227e[_0x28e3('0x41')]();_0x3c3ae5++;}(_0x1ee279[_0x28e3('0x41')]()));});}function _0x2d8bc8(){if(_0x338e89[_0x28e3('0x15')][_0x28e3('0x4e')]!=_0x338e89[_0x28e3('0x15')][_0x28e3('0x4b')]){_0x338e89['SocketVariables']['fusion_update_available']=!![];}else{_0x338e89[_0x28e3('0x15')][_0x28e3('0x28')]=![];}_0x3c3ae5++;}function _0x40295c(){if(os['platform']()!='win32'){shell[_0x28e3('0x47')](_0x28e3('0x4f'),{'silent':!![]},function(_0x176e62,_0x1f881e,_0xf73b54){(function(_0x174d7c){_0x338e89[_0x28e3('0x15')][_0x28e3('0x36')]=_0x174d7c[_0x28e3('0x41')]();if(!_0x338e89[_0x28e3('0x15')][_0x28e3('0x36')])_0x338e89['SocketVariables'][_0x28e3('0x36')]=![];else _0x338e89[_0x28e3('0x15')][_0x28e3('0x36')]=!![];_0x3c3ae5++;}(_0x1f881e[_0x28e3('0x41')]()));});}else{_0x338e89[_0x28e3('0x15')][_0x28e3('0x36')]=![];_0x3c3ae5++;}}function _0x15d82a(){if(os['platform']()!=_0x28e3('0x50')){shell[_0x28e3('0x47')](_0x28e3('0x51'),{'silent':!![]},function(_0x34165f,_0xd209dd,_0x4b457c){(function(_0x510284){var _0x1af1e3=_0x510284['trim']();if(_0x1af1e3){if(_0x338e89['SocketVariables'][_0x28e3('0x19')])_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')][_0x28e3('0x52')]=_0x1af1e3;else{_0x338e89[_0x28e3('0x15')][_0x28e3('0x19')]={'process':_0x1af1e3,'socket':-0x1};}}else _0x338e89[_0x28e3('0x15')][_0x28e3('0x19')]=null;_0x3c3ae5++;}(_0xd209dd[_0x28e3('0x41')]()));});}else{_0x338e89[_0x28e3('0x15')][_0x28e3('0x36')]=null;_0x3c3ae5++;}}function _0x5a8f75(){wpa_cli[_0x28e3('0x53')](config[_0x28e3('0x54')](_0x28e3('0x55')),function(_0x2c2054,_0x374e80){if(_0x2c2054){_0x374e80={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x338e89['SocketVariables']['fusion_wifi_access']=_0x374e80;_0x3c3ae5++;});}_0x332daf();_0x1c642d();setInterval(function(){_0x332daf();_0x1c642d();},0x2710);};