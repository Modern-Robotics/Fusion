var _0x36ed=['fusion_storage_type\x20:\x20','Storage','sockets','battery-level','version-number','gamepad-available','diagnostics_running','wifi-connection','wifi-fusion_storage_type','type','program-running','update-available','win32','./scripts/ReadBatt.py','python','pipe','stdout','trim','stderr','data','Error\x20reading\x20battery\x20:\x20\x0a','then','catch','git\x20rev-parse\x20HEAD','fusion_current_SHA','exec','git\x20describe\x20--tags\x20','Build','git\x20fetch','git\x20rev-list\x20--tags\x20--max-count=1','fusion_latest_SHA','fusion_latest_version','platform','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','status','get','Wifi_NIC','spawn','internet-available','wireless-tools/wpa_cli','env','NODE_ENV','dev','path','request','config','connectedClients','dirname','split','sep','pop','connection','push','log','Client\x20connected...','join','emit','global-message','success','disconnect','SocketVariables','fusion_program_running','SocketId','KillProgram','socket','http://localhost:8080/api/diagnostics/stop','GET','Error\x20terminating\x20diagnostic\x20tools\x20:\x20','statusCode','fusion_diagnostics_running','-----------------------------------------------------','fusion_battery_level\x20:\x20','fusion_battery_level','fusion_internet_access\x20:\x20','fusion_internet_access','fusion_current_version\x20:\x20','fusion_current_version','fusion_update_available\x20:\x20','fusion_update_available','fusion_gamepad_available\x20:\x20','fusion_gamepad_available','stringify','fusion_wifi_access'];(function(_0x2cecaf,_0x26dd25){var _0x4613dd=function(_0x27e3d4){while(--_0x27e3d4){_0x2cecaf['push'](_0x2cecaf['shift']());}};_0x4613dd(++_0x26dd25);}(_0x36ed,0x122));var _0x52b6=function(_0x1dd69e,_0x5f07ca){_0x1dd69e=_0x1dd69e-0x0;var _0x48aa9e=_0x36ed[_0x1dd69e];return _0x48aa9e;};var spawn=require('child_process')[_0x52b6('0x0')];var internetAvailable=require(_0x52b6('0x1'));var wpa_cli=require(_0x52b6('0x2'));var os=require('os');var shell=require('shelljs');var env=process[_0x52b6('0x3')][_0x52b6('0x4')]||_0x52b6('0x5');var path=require(_0x52b6('0x6'));var request=require(_0x52b6('0x7'));const config=require(_0x52b6('0x8'));module['exports']=function(_0x36e497,_0x132dff,_0x1647d8){_0x1647d8[_0x52b6('0x9')]=[];var _0x56ca05=path[_0x52b6('0xa')](__dirname)[_0x52b6('0xb')](path[_0x52b6('0xc')])[_0x52b6('0xd')]();var _0x3b1865=0x0;var _0x1d12dd=0xb;_0x36e497['on'](_0x52b6('0xe'),function(_0x3971e2){_0x1647d8[_0x52b6('0x9')][_0x52b6('0xf')](_0x3971e2);console[_0x52b6('0x10')](_0x52b6('0x11'));_0x12918a();_0x3971e2['on'](_0x52b6('0x12'),function(_0x111ff9){console[_0x52b6('0x10')](_0x111ff9);_0x3971e2[_0x52b6('0x13')](_0x52b6('0x14'),{'message':'Hello\x20from\x20server','type':_0x52b6('0x15')});});_0x3971e2['on'](_0x52b6('0x16'),function(_0x41bc4e){console[_0x52b6('0x10')]('Client\x20disconnected\x20-\x20'+_0x41bc4e);if(_0x1647d8[_0x52b6('0x17')][_0x52b6('0x18')])if(_0x1647d8[_0x52b6('0x17')][_0x52b6('0x18')][_0x52b6('0x19')]==_0x3971e2['id'])_0x132dff[_0x52b6('0x1a')]();if(_0x1647d8[_0x52b6('0x17')]['fusion_diagnostics_running'])if(_0x1647d8['SocketVariables']['fusion_diagnostics_running'][_0x52b6('0x1b')]==_0x3971e2['id']){console[_0x52b6('0x10')]('Terminating\x20diagnostic\x20tools\x20due\x20to\x20absent\x20client');request({'url':_0x52b6('0x1c'),'method':_0x52b6('0x1d')},function(_0x330e9e,_0x733baf,_0x4a9c0c){if(_0x330e9e)console[_0x52b6('0x10')](_0x52b6('0x1e')+_0x330e9e);else{if(_0x733baf[_0x52b6('0x1f')]==0xc8){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x20')]=null;}}_0x36e497['sockets'][_0x52b6('0x13')]('diagnostics_running',_0x1647d8['SocketVariables'][_0x52b6('0x20')]);});}var _0xb75be8=_0x1647d8[_0x52b6('0x9')]['indexOf'](_0x3971e2);_0x1647d8[_0x52b6('0x9')]['splice'](_0xb75be8,0x1);});_0x3971e2['on']('error',function(_0x47714e){console[_0x52b6('0x10')]('Socket\x20error\x20-\x20'+_0x47714e);});});function _0xe7c49e(){_0x457d74();_0x35d5a8();_0x6ad129();_0x395b84();_0x2e6cf1();_0x6d1a3();_0x4bc931();}function _0x5709c0(){if(_0x3b1865>=_0x1d12dd){console[_0x52b6('0x10')](_0x52b6('0x21'));console[_0x52b6('0x10')](_0x52b6('0x22')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x23')]);console[_0x52b6('0x10')](_0x52b6('0x24')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x25')]);console['log'](_0x52b6('0x26')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x27')]);console[_0x52b6('0x10')](_0x52b6('0x28')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x29')]);console[_0x52b6('0x10')](_0x52b6('0x2a')+_0x1647d8['SocketVariables'][_0x52b6('0x2b')]);console[_0x52b6('0x10')]('fusion_diagnostics_running\x20:\x20'+JSON[_0x52b6('0x2c')](_0x1647d8[_0x52b6('0x17')][_0x52b6('0x20')]));console['log']('fusion_wifi_access\x20:\x20'+JSON[_0x52b6('0x2c')](_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2d')]));console[_0x52b6('0x10')](_0x52b6('0x2e')+_0x1647d8[_0x52b6('0x2f')]['type']);console[_0x52b6('0x10')]('fusion_program_running\x20:\x20'+JSON[_0x52b6('0x2c')](_0x1647d8[_0x52b6('0x17')][_0x52b6('0x18')]));console[_0x52b6('0x10')](_0x52b6('0x21'));_0x36e497[_0x52b6('0x30')]['emit'](_0x52b6('0x31'),_0x1647d8[_0x52b6('0x17')]['fusion_battery_level']);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')]('internet-access',_0x1647d8['SocketVariables'][_0x52b6('0x25')]);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x32'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x27')]);_0x36e497['sockets']['emit']('update-available',_0x1647d8[_0x52b6('0x17')]['fusion_update_available']);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x33'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2b')]);_0x36e497['sockets'][_0x52b6('0x13')](_0x52b6('0x34'),_0x1647d8['SocketVariables'][_0x52b6('0x20')]);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x35'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2d')]);_0x36e497['sockets']['emit'](_0x52b6('0x36'),_0x1647d8[_0x52b6('0x2f')][_0x52b6('0x37')]);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x38'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x18')]);_0x3b1865=0x0;}else{setTimeout(_0x5709c0,0x7d0);}}function _0x12918a(){_0x36e497[_0x52b6('0x30')]['emit'](_0x52b6('0x31'),_0x1647d8['SocketVariables']['fusion_battery_level']);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')]('internet-access',_0x1647d8[_0x52b6('0x17')][_0x52b6('0x25')]);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x32'),_0x1647d8[_0x52b6('0x17')]['fusion_current_version']);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')](_0x52b6('0x39'),_0x1647d8[_0x52b6('0x17')]['fusion_update_available']);_0x36e497[_0x52b6('0x30')][_0x52b6('0x13')]('gamepad-available',_0x1647d8['SocketVariables'][_0x52b6('0x2b')]);_0x36e497[_0x52b6('0x30')]['emit']('diagnostics_running',_0x1647d8[_0x52b6('0x17')]['fusion_diagnostics_running']);_0x36e497['sockets'][_0x52b6('0x13')](_0x52b6('0x35'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2d')]);_0x36e497['sockets'][_0x52b6('0x13')](_0x52b6('0x38'),_0x1647d8[_0x52b6('0x17')][_0x52b6('0x18')]);}function _0x457d74(){if(os['platform']()!=_0x52b6('0x3a')){var _0x44b79e=_0x52b6('0x3b');var _0x223ab3=spawn(_0x52b6('0x3c'),[_0x44b79e],{'stdio':_0x52b6('0x3d')});_0x223ab3[_0x52b6('0x3e')]['on']('data',function(_0x2c5f86){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x23')]=String(_0x2c5f86)[_0x52b6('0x3f')]();_0x3b1865++;});_0x223ab3[_0x52b6('0x40')]['on'](_0x52b6('0x41'),function(_0xe32a37){console[_0x52b6('0x10')](_0x52b6('0x42')+String(_0xe32a37));});}else{_0x3b1865++;}}function _0x35d5a8(){internetAvailable({'timeout':0x2710,'retries':0x5})[_0x52b6('0x43')](function(){_0x1647d8['SocketVariables'][_0x52b6('0x25')]=!![];_0x3b1865++;})[_0x52b6('0x44')](function(){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x25')]=![];_0x3b1865++;});}function _0x6ad129(){shell['exec'](_0x52b6('0x45'),{'silent':!![]},function(_0x4f1f7c,_0x347efd,_0x5f5ce6){(function(_0xd4b1e1){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x46')]=_0xd4b1e1[_0x52b6('0x3f')]();_0x3b1865++;_0xb257f();}(_0x347efd[_0x52b6('0x3f')]()));});}function _0xb257f(){shell[_0x52b6('0x47')](_0x52b6('0x48')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x46')],{'silent':!![]},function(_0x49beb1,_0x31e209,_0xf31bd8){(function(_0x3989c1){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x27')]=_0x3989c1[_0x52b6('0x3f')]();_0x3b1865++;_0x58240a();}(_0x31e209[_0x52b6('0x3f')]()));});}function _0x58240a(){if(_0x56ca05==_0x52b6('0x49')){shell['exec'](_0x52b6('0x4a'),{'silent':!![]},function(_0x5526b9,_0x34f965,_0x3c6955){(function(_0x43b139){_0x3b1865++;_0x5737f0();}(_0x34f965['trim']()));});}else{_0x3b1865++;_0x5737f0();}}function _0x5737f0(){shell[_0x52b6('0x47')](_0x52b6('0x4b'),{'silent':!![]},function(_0x1abfef,_0x19e2cb,_0x2895b9){(function(_0x5c7bed){_0x1647d8['SocketVariables']['fusion_latest_SHA']=_0x5c7bed['trim']();_0x3b1865++;_0x3f8903();}(_0x19e2cb['trim']()));});}function _0x3f8903(){shell[_0x52b6('0x47')](_0x52b6('0x48')+_0x1647d8[_0x52b6('0x17')][_0x52b6('0x4c')],{'silent':!![]},function(_0x974dc3,_0x4f8a69,_0xfdc2a4){(function(_0x3d84fa){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x4d')]=_0x3d84fa[_0x52b6('0x3f')]();_0x3b1865++;}(_0x4f8a69['trim']()));});}function _0x395b84(){if(_0x1647d8[_0x52b6('0x17')]['fusion_current_SHA']!=_0x1647d8['SocketVariables'][_0x52b6('0x4c')]){_0x1647d8[_0x52b6('0x17')][_0x52b6('0x29')]=!![];}else{_0x1647d8[_0x52b6('0x17')][_0x52b6('0x29')]=![];}_0x3b1865++;}function _0x2e6cf1(){if(os[_0x52b6('0x4e')]()!=_0x52b6('0x3a')){shell[_0x52b6('0x47')](_0x52b6('0x4f'),{'silent':!![]},function(_0x27d39b,_0x50d593,_0xd954d4){(function(_0x44cc7b){_0x1647d8['SocketVariables'][_0x52b6('0x2b')]=_0x44cc7b[_0x52b6('0x3f')]();if(!_0x1647d8[_0x52b6('0x17')]['fusion_gamepad_available'])_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2b')]=![];else _0x1647d8[_0x52b6('0x17')][_0x52b6('0x2b')]=!![];_0x3b1865++;}(_0x50d593['trim']()));});}else{_0x1647d8[_0x52b6('0x17')]['fusion_gamepad_available']=![];_0x3b1865++;}}function _0x6d1a3(){if(os[_0x52b6('0x4e')]()!=_0x52b6('0x3a')){shell[_0x52b6('0x47')](_0x52b6('0x50'),{'silent':!![]},function(_0x4c8ef5,_0x5bed88,_0x5b7bba){(function(_0x3d387a){var _0x33e754=_0x3d387a[_0x52b6('0x3f')]();if(_0x33e754){if(_0x1647d8[_0x52b6('0x17')]['fusion_diagnostics_running'])_0x1647d8[_0x52b6('0x17')][_0x52b6('0x20')]['process']=_0x33e754;else{_0x1647d8[_0x52b6('0x17')][_0x52b6('0x20')]={'process':_0x33e754,'socket':-0x1};}}else _0x1647d8[_0x52b6('0x17')][_0x52b6('0x20')]=null;_0x3b1865++;}(_0x5bed88['trim']()));});}else{_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2b')]=null;_0x3b1865++;}}function _0x4bc931(){wpa_cli[_0x52b6('0x51')](config[_0x52b6('0x52')](_0x52b6('0x53')),function(_0x3633e8,_0x5217f3){if(_0x3633e8){_0x5217f3={'ssid':undefined,'ip':undefined,'mac':undefined};}_0x1647d8[_0x52b6('0x17')][_0x52b6('0x2d')]=_0x5217f3;_0x3b1865++;});}_0x5709c0();_0xe7c49e();setInterval(function(){_0x5709c0();_0xe7c49e();},0x2710);};