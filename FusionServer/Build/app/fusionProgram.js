var _0x2828=['win32','>\x20Program\x20Finished!\x0a','pipe','fusion_program_running','>\x20Program\x20Finished!','sendInput','shelljs','close','Cannot\x20stop\x20another\x20user\x27s\x20program.','os.chdir(\x27./app/filesystem/','stderr','python','stdout','stdin','log','data','User','emit','console-output','import\x20imp\x0a','sockets','No\x20Program\x20Running','Cannot\x20stop\x20another\x20user\x20program','spawn','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','StartProgram','Program\x20is\x20now\x20stopped','fusion_gamepad_available','Program\x20is\x20now\x20running','exports','SocketVariables','autonomous','import\x20os\x0a','path','platform','gamepad-available','blockly-console-output','program-running','KillProgram','Blockly\x20Program\x20is\x20now\x20running','kill','No\x20program\x20running','stream','SIGINT','exec','resolve','SocketId','child_process','Program\x20already\x20running','/Blockly\x27)\x0a'];(function(_0x2d2bc5,_0x28282d){var _0x261c9c=function(_0x3afb24){while(--_0x3afb24){_0x2d2bc5['push'](_0x2d2bc5['shift']());}};_0x261c9c(++_0x28282d);}(_0x2828,0x121));var _0x261c=function(_0x2d2bc5,_0x28282d){_0x2d2bc5=_0x2d2bc5-0x0;var _0x261c9c=_0x2828[_0x2d2bc5];return _0x261c9c;};var spawn=require(_0x261c('0x8'))[_0x261c('0x22')];var shell=require(_0x261c('0x11'));var os=require('os');var stream=require(_0x261c('0x3'));var path=require(_0x261c('0x2c'));var python_process;module[_0x261c('0x28')]=function(_0x3d26ff,_0x1b48ac){var _0x304a55=function(){};_0x304a55[_0x261c('0x24')]=function(_0xcbb0c4,_0x181d12,_0x2b5e13){if(!_0x1b48ac['SocketVariables'][_0x261c('0xe')]){_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]={'Code':null,'Program':_0x181d12,'SocketId':_0x2b5e13,'User':_0xcbb0c4};_0x19e3d3(_0x181d12,_0xcbb0c4);console[_0x261c('0x19')](_0x261c('0x27'));return{'status':0xc8,'message':_0x261c('0x27')};}else{if(_0x1b48ac[_0x261c('0x29')]['fusion_program_running'][_0x261c('0x1b')]==_0xcbb0c4||_0x1b48ac['SocketVariables'][_0x261c('0xe')]['SocketId']==_0x261c('0x2a')){try{python_process[_0x261c('0x1')]('SIGINT');}catch(_0x26a0c9){}_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]={'Code':null,'Program':_0x181d12,'SocketId':_0x2b5e13,'User':_0xcbb0c4};_0x19e3d3(_0x181d12,_0xcbb0c4);console[_0x261c('0x19')](_0x261c('0x27'));return{'status':0xc8,'message':_0x261c('0x27')};}else{console[_0x261c('0x19')](_0x261c('0x9'));return{'status':0x1f4,'message':_0x261c('0x9')};}}};_0x304a55['StopProgram']=function(_0x3bf879){if(_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]){if(_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')][_0x261c('0x1b')]==_0x3bf879||_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')][_0x261c('0x7')]==_0x261c('0x2a')){_0x1b48ac[_0x261c('0x29')]['fusion_program_running']=null;try{python_process[_0x261c('0x1')](_0x261c('0x4'));}catch(_0x541057){}console[_0x261c('0x19')]('Program\x20is\x20now\x20stopped');return{'status':0xc8,'message':'Program\x20Successfully\x20Stopped'};}else{console['log'](_0x261c('0x21'));return{'status':0x1f4,'message':_0x261c('0x13')};}}else{console['log'](_0x261c('0x2'));return{'status':0x1f4,'message':_0x261c('0x20')};}};_0x304a55[_0x261c('0x31')]=function(){_0x1b48ac[_0x261c('0x29')]['fusion_program_running']=null;try{python_process[_0x261c('0x1')](_0x261c('0x4'));}catch(_0x67f721){}console['log'](_0x261c('0x25'));};_0x304a55['StartBlocklyProgram']=function(_0x3d8987,_0x21d78f,_0x2ac0e1){if(!_0x1b48ac[_0x261c('0x29')]['fusion_program_running']){_0x1b48ac['SocketVariables'][_0x261c('0xe')]={'Code':_0x3d8987,'Program':null,'SocketId':_0x2ac0e1,'User':_0x21d78f};_0x4645e8(_0x3d8987,_0x21d78f);console[_0x261c('0x19')](_0x261c('0x0'));return{'status':0xc8,'message':'Blockly\x20Program\x20is\x20now\x20running'};}else{if(_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')][_0x261c('0x1b')]==_0x21d78f||_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')][_0x261c('0x7')]==_0x261c('0x2a')){try{python_process[_0x261c('0x1')](_0x261c('0x4'));}catch(_0x57662c){}_0x1b48ac[_0x261c('0x29')]['fusion_program_running']={'Code':_0x3d8987,'Program':null,'SocketId':_0x2ac0e1,'User':_0x21d78f};_0x4645e8(_0x3d8987,_0x21d78f);console[_0x261c('0x19')](_0x261c('0x0'));return{'status':0xc8,'message':_0x261c('0x0')};}else{console[_0x261c('0x19')](_0x261c('0x9'));return{'status':0x1f4,'message':_0x261c('0x9')};}}};_0x304a55[_0x261c('0x10')]=function(_0x52c593){python_process[_0x261c('0x18')]['write'](_0x52c593+'\x0a');};function _0x19e3d3(_0x4d94ae,_0x566117){let _0x4dda37='import\x20os\x0a'+('os.chdir(\x27./app/filesystem/'+_0x566117+'/Editor\x27)\x0a')+'import\x20imp\x0a'+('imp.load_source(\x27util\x27,\x20r\x27'+path[_0x261c('0x6')](_0x4d94ae)+'\x27)');python_process=spawn(_0x261c('0x16'),['-u','-B','-c',_0x4dda37],{'stdio':'pipe'});_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')]('program-running',_0x1b48ac['SocketVariables'][_0x261c('0xe')]);_0x589d2();python_process[_0x261c('0x17')]['on'](_0x261c('0x1a'),function(_0x754490){console['log'](String(_0x754490));_0x3d26ff['emit'](_0x261c('0x1d'),{'output':String(_0x754490)});});python_process['stderr']['on'](_0x261c('0x1a'),function(_0x1b7b65){console[_0x261c('0x19')](String(_0x1b7b65));_0x3d26ff['emit']('console-output',{'output':String(_0x1b7b65)});_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x30'),_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]);_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x2e'),![]);});python_process[_0x261c('0x17')]['on'](_0x261c('0x12'),function(_0x104100){_0x1b48ac[_0x261c('0x29')]['fusion_program_running']=null;console[_0x261c('0x19')](String('>\x20Program\x20Finished!'));_0x3d26ff['emit'](_0x261c('0x1d'),{'output':String(_0x261c('0xc'))});_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x30'),_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]);_0x3d26ff['sockets'][_0x261c('0x1c')](_0x261c('0x2e'),![]);});}function _0x4645e8(_0x572c06,_0x13ab79){let _0x75933a=_0x261c('0x2b')+(_0x261c('0x14')+_0x13ab79+_0x261c('0xa'))+_0x261c('0x1e')+(''+_0x572c06);if(os[_0x261c('0x2d')]()!=_0x261c('0xb')){python_process=spawn(_0x261c('0x16'),['-u','-B','-c',_0x75933a],{'stdio':'pipe'});}else{python_process=spawn(_0x261c('0x16'),['-u','-B','-c',_0x75933a],{'stdio':_0x261c('0xd')});}_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')]('program-running',_0x1b48ac['SocketVariables']['fusion_program_running']);_0x589d2();python_process[_0x261c('0x17')]['on']('data',function(_0x439ac4){console[_0x261c('0x19')](String(_0x439ac4));_0x3d26ff[_0x261c('0x1c')](_0x261c('0x2f'),{'output':String(_0x439ac4)});});python_process[_0x261c('0x15')]['on'](_0x261c('0x1a'),function(_0x534901){console[_0x261c('0x19')](String(_0x534901));_0x3d26ff[_0x261c('0x1c')](_0x261c('0x2f'),{'output':String(_0x534901)});_0x3d26ff[_0x261c('0x1f')]['emit'](_0x261c('0x30'),_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]);_0x3d26ff['sockets'][_0x261c('0x1c')](_0x261c('0x2e'),![]);});python_process[_0x261c('0x17')]['on'](_0x261c('0x12'),function(_0x22a12d){_0x1b48ac[_0x261c('0x29')][_0x261c('0xe')]=null;console[_0x261c('0x19')](String(_0x261c('0xf')));_0x3d26ff[_0x261c('0x1c')](_0x261c('0x2f'),{'output':String(_0x261c('0xc'))});_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x30'),_0x1b48ac['SocketVariables']['fusion_program_running']);_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x2e'),![]);});}function _0x589d2(){if(os[_0x261c('0x2d')]()!='win32'){setTimeout(function(){var _0x4855a8=shell[_0x261c('0x5')](_0x261c('0x23'),{'silent':!![]})[_0x261c('0x17')];if(!_0x4855a8)_0x1b48ac[_0x261c('0x29')][_0x261c('0x26')]=![];else _0x1b48ac['SocketVariables'][_0x261c('0x26')]=!![];_0x3d26ff[_0x261c('0x1f')][_0x261c('0x1c')](_0x261c('0x2e'),_0x1b48ac[_0x261c('0x29')][_0x261c('0x26')]);},0x3e8);}}return _0x304a55;};