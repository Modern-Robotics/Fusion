var _0x101d=['close','platform','win32','exec','fusion_gamepad_available','child_process','shelljs','stream','exports','SocketVariables','fusion_program_running','log','Program\x20is\x20now\x20running','User','autonomous','kill','SIGINT','StopProgram','SocketId','Program\x20is\x20now\x20stopped','Cannot\x20stop\x20another\x20user\x20program','Cannot\x20stop\x20another\x20user\x27s\x20program.','No\x20program\x20running','KillProgram','StartBlocklyProgram','Blockly\x20Program\x20is\x20now\x20running','Program\x20already\x20running','write','python','pipe','sockets','emit','program-running','stdout','data','console-output','stderr','gamepad-available','>\x20Program\x20Finished!','>\x20Program\x20Finished!\x0a','blockly-console-output'];(function(_0x2d0731,_0x2c49c2){var _0x298aed=function(_0x323c19){while(--_0x323c19){_0x2d0731['push'](_0x2d0731['shift']());}};_0x298aed(++_0x2c49c2);}(_0x101d,0x124));var _0x41fc=function(_0x2780a6,_0x6e7171){_0x2780a6=_0x2780a6-0x0;var _0x1d2f33=_0x101d[_0x2780a6];return _0x1d2f33;};var spawn=require(_0x41fc('0x0'))['spawn'];var shell=require(_0x41fc('0x1'));var os=require('os');var stream=require(_0x41fc('0x2'));var python_process;module[_0x41fc('0x3')]=function(_0x1ed914,_0x5f05fc){var _0x32ee05=function(){};_0x32ee05['StartProgram']=function(_0x3c95c2,_0x2c7c11,_0x3e05d5){if(!_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]){_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]={'Code':null,'Program':_0x2c7c11,'SocketId':_0x3e05d5,'User':_0x3c95c2};_0x5983f8(_0x2c7c11);console[_0x41fc('0x6')](_0x41fc('0x7'));return{'status':0xc8,'message':_0x41fc('0x7')};}else{if(_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')][_0x41fc('0x8')]==_0x3c95c2||_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]['SocketId']==_0x41fc('0x9')){try{python_process[_0x41fc('0xa')](_0x41fc('0xb'));}catch(_0x39c7f6){}_0x5f05fc['SocketVariables'][_0x41fc('0x5')]={'Code':null,'Program':_0x2c7c11,'SocketId':_0x3e05d5,'User':_0x3c95c2};_0x5983f8(_0x2c7c11);console[_0x41fc('0x6')](_0x41fc('0x7'));return{'status':0xc8,'message':'Program\x20is\x20now\x20running'};}else{console[_0x41fc('0x6')]('Program\x20already\x20running');return{'status':0x1f4,'message':'Program\x20already\x20running'};}}};_0x32ee05[_0x41fc('0xc')]=function(_0x841b0b){if(_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]){if(_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')][_0x41fc('0x8')]==_0x841b0b||_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')][_0x41fc('0xd')]==_0x41fc('0x9')){_0x5f05fc['SocketVariables'][_0x41fc('0x5')]=null;try{python_process[_0x41fc('0xa')](_0x41fc('0xb'));}catch(_0x31b044){}console[_0x41fc('0x6')](_0x41fc('0xe'));return{'status':0xc8,'message':'Program\x20Successfully\x20Stopped'};}else{console[_0x41fc('0x6')](_0x41fc('0xf'));return{'status':0x1f4,'message':_0x41fc('0x10')};}}else{console[_0x41fc('0x6')](_0x41fc('0x11'));return{'status':0x1f4,'message':'No\x20Program\x20Running'};}};_0x32ee05[_0x41fc('0x12')]=function(){_0x5f05fc[_0x41fc('0x4')]['fusion_program_running']=null;try{python_process[_0x41fc('0xa')](_0x41fc('0xb'));}catch(_0x2a79ed){}console['log'](_0x41fc('0xe'));};_0x32ee05[_0x41fc('0x13')]=function(_0x22cb69,_0x5c6b20,_0x45bd62){if(!_0x5f05fc[_0x41fc('0x4')]['fusion_program_running']){_0x5f05fc['SocketVariables'][_0x41fc('0x5')]={'Code':_0x22cb69,'Program':null,'SocketId':_0x45bd62,'User':_0x5c6b20};_0x2b3c05(_0x22cb69);console[_0x41fc('0x6')](_0x41fc('0x14'));return{'status':0xc8,'message':_0x41fc('0x14')};}else{if(_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]['User']==_0x5c6b20||_0x5f05fc[_0x41fc('0x4')]['fusion_program_running'][_0x41fc('0xd')]==_0x41fc('0x9')){try{python_process['kill']('SIGINT');}catch(_0x48ffd2){}_0x5f05fc[_0x41fc('0x4')]['fusion_program_running']={'Code':_0x22cb69,'Program':null,'SocketId':_0x45bd62,'User':_0x5c6b20};_0x2b3c05(_0x22cb69);console[_0x41fc('0x6')](_0x41fc('0x14'));return{'status':0xc8,'message':_0x41fc('0x14')};}else{console['log'](_0x41fc('0x15'));return{'status':0x1f4,'message':_0x41fc('0x15')};}}};_0x32ee05['sendInput']=function(_0x4bfa03){python_process['stdin'][_0x41fc('0x16')](_0x4bfa03+'\x0a');};function _0x5983f8(_0x8090fa){python_process=spawn(_0x41fc('0x17'),['-u',_0x8090fa],{'stdio':_0x41fc('0x18')});_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x1b'),_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]);_0x5a8689();python_process[_0x41fc('0x1c')]['on'](_0x41fc('0x1d'),function(_0x5f2221){console['log'](String(_0x5f2221));_0x1ed914['emit'](_0x41fc('0x1e'),{'output':String(_0x5f2221)});});python_process[_0x41fc('0x1f')]['on'](_0x41fc('0x1d'),function(_0x4dac44){console[_0x41fc('0x6')](String(_0x4dac44));_0x1ed914[_0x41fc('0x1a')](_0x41fc('0x1e'),{'output':String(_0x4dac44)});_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x1b'),_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]);_0x1ed914[_0x41fc('0x19')]['emit'](_0x41fc('0x20'),![]);});python_process[_0x41fc('0x1c')]['on']('close',function(_0x1c8d7c){console[_0x41fc('0x6')](String(_0x41fc('0x21')));_0x1ed914[_0x41fc('0x1a')]('console-output',{'output':String(_0x41fc('0x22'))});_0x1ed914[_0x41fc('0x19')]['emit'](_0x41fc('0x1b'),_0x5f05fc[_0x41fc('0x4')]['fusion_program_running']);_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')]('gamepad-available',![]);});}function _0x2b3c05(_0x158191){python_process=spawn(_0x41fc('0x17'),['-u','-c',_0x158191],{'stdio':_0x41fc('0x18')});_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x1b'),_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]);_0x5a8689();python_process['stdout']['on'](_0x41fc('0x1d'),function(_0x5dbf1d){console[_0x41fc('0x6')](String(_0x5dbf1d));_0x1ed914['emit'](_0x41fc('0x23'),{'output':String(_0x5dbf1d)});});python_process[_0x41fc('0x1f')]['on']('data',function(_0x2de3f6){console[_0x41fc('0x6')](String(_0x2de3f6));_0x1ed914[_0x41fc('0x1a')](_0x41fc('0x23'),{'output':String(_0x2de3f6)});_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x1b'),_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]);_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x20'),![]);});python_process[_0x41fc('0x1c')]['on'](_0x41fc('0x24'),function(_0x158463){console[_0x41fc('0x6')](String(_0x41fc('0x21')));_0x1ed914[_0x41fc('0x1a')]('blockly-console-output',{'output':String(_0x41fc('0x22'))});_0x1ed914['sockets']['emit']('program-running',_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x5')]);_0x1ed914['sockets'][_0x41fc('0x1a')]('gamepad-available',![]);});}function _0x5a8689(){if(os[_0x41fc('0x25')]()!=_0x41fc('0x26')){setTimeout(function(){var _0x5901ec=shell[_0x41fc('0x27')]('sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN',{'silent':!![]})[_0x41fc('0x1c')];if(!_0x5901ec)_0x5f05fc[_0x41fc('0x4')][_0x41fc('0x28')]=![];else _0x5f05fc[_0x41fc('0x4')][_0x41fc('0x28')]=!![];_0x1ed914[_0x41fc('0x19')][_0x41fc('0x1a')](_0x41fc('0x20'),_0x5f05fc['SocketVariables'][_0x41fc('0x28')]);},0x3e8);}}return _0x32ee05;};