var _0x178d=['-Qnew','blockly-console-output','exec','fusion_gamepad_available','spawn','shelljs','path','exports','fusion_program_running','SocketVariables','log','Program\x20is\x20now\x20running','User','SocketId','autonomous','SIGINT','Program\x20already\x20running','StopProgram','kill','Program\x20is\x20now\x20stopped','Cannot\x20stop\x20another\x20user\x20program','KillProgram','Blockly\x20Program\x20is\x20now\x20running','sendInput','stdin','import\x20os\x0a','/Editor\x27)\x0a','imp.load_source(\x27util\x27,\x20r\x27','resolve','python','pipe','sockets','emit','program-running','stdout','stderr','data','console-output','gamepad-available','close','>\x20Program\x20Finished!','>\x20Program\x20Finished!\x0a','os.chdir(\x27./app/filesystem/','import\x20imp\x0a','platform','win32'];(function(_0xc8bf9b,_0x3b70b0){var _0x56cd24=function(_0x51858b){while(--_0x51858b){_0xc8bf9b['push'](_0xc8bf9b['shift']());}};_0x56cd24(++_0x3b70b0);}(_0x178d,0xea));var _0x310a=function(_0xc8bf9b,_0x3b70b0){_0xc8bf9b=_0xc8bf9b-0x0;var _0x56cd24=_0x178d[_0xc8bf9b];return _0x56cd24;};var spawn=require('child_process')[_0x310a('0x0')];var shell=require(_0x310a('0x1'));var os=require('os');var stream=require('stream');var path=require(_0x310a('0x2'));var python_process;module[_0x310a('0x3')]=function(_0x2ed2a8,_0x4ded42){var _0x1f70d9=function(){};_0x1f70d9['StartProgram']=function(_0x3e44aa,_0x2f8ae8,_0x5c90c0){if(!_0x4ded42['SocketVariables'][_0x310a('0x4')]){_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]={'Code':null,'Program':_0x2f8ae8,'SocketId':_0x5c90c0,'User':_0x3e44aa};_0xe52ea(_0x2f8ae8,_0x3e44aa);console[_0x310a('0x6')](_0x310a('0x7'));return{'status':0xc8,'message':_0x310a('0x7')};}else{if(_0x4ded42[_0x310a('0x5')][_0x310a('0x4')][_0x310a('0x8')]==_0x3e44aa||_0x4ded42[_0x310a('0x5')][_0x310a('0x4')][_0x310a('0x9')]==_0x310a('0xa')){try{python_process['kill'](_0x310a('0xb'));}catch(_0x417557){}_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]={'Code':null,'Program':_0x2f8ae8,'SocketId':_0x5c90c0,'User':_0x3e44aa};_0xe52ea(_0x2f8ae8,_0x3e44aa);console[_0x310a('0x6')](_0x310a('0x7'));return{'status':0xc8,'message':_0x310a('0x7')};}else{console[_0x310a('0x6')](_0x310a('0xc'));return{'status':0x1f4,'message':_0x310a('0xc')};}}};_0x1f70d9[_0x310a('0xd')]=function(_0x54ab8d){if(_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]){if(_0x4ded42[_0x310a('0x5')]['fusion_program_running'][_0x310a('0x8')]==_0x54ab8d||_0x4ded42[_0x310a('0x5')]['fusion_program_running'][_0x310a('0x9')]==_0x310a('0xa')){_0x4ded42['SocketVariables'][_0x310a('0x4')]=null;try{python_process[_0x310a('0xe')]('SIGINT');}catch(_0x2d9bc6){}console['log'](_0x310a('0xf'));return{'status':0xc8,'message':'Program\x20Successfully\x20Stopped'};}else{console[_0x310a('0x6')](_0x310a('0x10'));return{'status':0x1f4,'message':'Cannot\x20stop\x20another\x20user\x27s\x20program.'};}}else{console[_0x310a('0x6')]('No\x20program\x20running');return{'status':0x1f4,'message':'No\x20Program\x20Running'};}};_0x1f70d9[_0x310a('0x11')]=function(){_0x4ded42['SocketVariables'][_0x310a('0x4')]=null;try{python_process['kill'](_0x310a('0xb'));}catch(_0x5746ae){}console[_0x310a('0x6')]('Program\x20is\x20now\x20stopped');};_0x1f70d9['StartBlocklyProgram']=function(_0x26cfb0,_0x4cfa00,_0x540f93){if(!_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]){_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]={'Code':_0x26cfb0,'Program':null,'SocketId':_0x540f93,'User':_0x4cfa00};_0x35c4f0(_0x26cfb0,_0x4cfa00);console['log'](_0x310a('0x12'));return{'status':0xc8,'message':_0x310a('0x12')};}else{if(_0x4ded42['SocketVariables'][_0x310a('0x4')][_0x310a('0x8')]==_0x4cfa00||_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]['SocketId']==_0x310a('0xa')){try{python_process[_0x310a('0xe')](_0x310a('0xb'));}catch(_0x472211){}_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]={'Code':_0x26cfb0,'Program':null,'SocketId':_0x540f93,'User':_0x4cfa00};_0x35c4f0(_0x26cfb0,_0x4cfa00);console[_0x310a('0x6')](_0x310a('0x12'));return{'status':0xc8,'message':_0x310a('0x12')};}else{console[_0x310a('0x6')]('Program\x20already\x20running');return{'status':0x1f4,'message':'Program\x20already\x20running'};}}};_0x1f70d9[_0x310a('0x13')]=function(_0xf20a7e){python_process[_0x310a('0x14')]['write'](_0xf20a7e+'\x0a');};function _0xe52ea(_0x2e3089,_0x559884){let _0x3837e2=_0x310a('0x15')+('os.chdir(\x27./app/filesystem/'+_0x559884+_0x310a('0x16'))+'import\x20imp\x0a'+(_0x310a('0x17')+path[_0x310a('0x18')](_0x2e3089)+'\x27)');python_process=spawn(_0x310a('0x19'),['-u','-B','-c',_0x3837e2],{'stdio':_0x310a('0x1a')});_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]);_0x36f473();python_process[_0x310a('0x1e')]['on']('data',function(_0x554857){console[_0x310a('0x6')](String(_0x554857));_0x2ed2a8[_0x310a('0x1c')]('console-output',{'output':String(_0x554857)});});python_process[_0x310a('0x1f')]['on'](_0x310a('0x20'),function(_0x1af041){console[_0x310a('0x6')](String(_0x1af041));_0x2ed2a8[_0x310a('0x1c')](_0x310a('0x21'),{'output':String(_0x1af041)});_0x2ed2a8['sockets'][_0x310a('0x1c')](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]);_0x2ed2a8[_0x310a('0x1b')]['emit'](_0x310a('0x22'),![]);});python_process[_0x310a('0x1e')]['on'](_0x310a('0x23'),function(_0x4c9f28){_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]=null;console[_0x310a('0x6')](String(_0x310a('0x24')));_0x2ed2a8['emit'](_0x310a('0x21'),{'output':String(_0x310a('0x25'))});_0x2ed2a8[_0x310a('0x1b')]['emit'](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]);_0x2ed2a8[_0x310a('0x1b')]['emit'](_0x310a('0x22'),![]);});}function _0x35c4f0(_0x5d4163,_0x3e9c86){let _0x30ae19=_0x310a('0x15')+(_0x310a('0x26')+_0x3e9c86+'/Blockly\x27)\x0a')+_0x310a('0x27')+(''+_0x5d4163);if(os[_0x310a('0x28')]()!=_0x310a('0x29')){python_process=spawn(_0x310a('0x19'),['-u','-B',_0x310a('0x2a'),'-c',_0x30ae19],{'stdio':_0x310a('0x1a')});}else{python_process=spawn(_0x310a('0x19'),['-u','-B','-c',_0x30ae19],{'stdio':_0x310a('0x1a')});}_0x2ed2a8['sockets'][_0x310a('0x1c')](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')]['fusion_program_running']);_0x36f473();python_process[_0x310a('0x1e')]['on']('data',function(_0x1a7e47){console[_0x310a('0x6')](String(_0x1a7e47));_0x2ed2a8[_0x310a('0x1c')]('blockly-console-output',{'output':String(_0x1a7e47)});});python_process[_0x310a('0x1f')]['on']('data',function(_0x3df96c){console[_0x310a('0x6')](String(_0x3df96c));_0x2ed2a8['emit']('blockly-console-output',{'output':String(_0x3df96c)});_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]);_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')](_0x310a('0x22'),![]);});python_process[_0x310a('0x1e')]['on']('close',function(_0x1dac29){_0x4ded42[_0x310a('0x5')][_0x310a('0x4')]=null;console['log'](String(_0x310a('0x24')));_0x2ed2a8[_0x310a('0x1c')](_0x310a('0x2b'),{'output':String(_0x310a('0x25'))});_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')](_0x310a('0x1d'),_0x4ded42[_0x310a('0x5')]['fusion_program_running']);_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')]('gamepad-available',![]);});}function _0x36f473(){if(os[_0x310a('0x28')]()!=_0x310a('0x29')){setTimeout(function(){var _0xfd2856=shell[_0x310a('0x2c')]('sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN',{'silent':!![]})[_0x310a('0x1e')];if(!_0xfd2856)_0x4ded42[_0x310a('0x5')][_0x310a('0x2d')]=![];else _0x4ded42[_0x310a('0x5')][_0x310a('0x2d')]=!![];_0x2ed2a8[_0x310a('0x1b')][_0x310a('0x1c')](_0x310a('0x22'),_0x4ded42[_0x310a('0x5')]['fusion_gamepad_available']);},0x3e8);}}return _0x1f70d9;};