var _0x33d0=['fusion_program_running','>\x20Program\x20Finished!','program-running','platform','Blockly\x20Program\x20is\x20now\x20running','Cannot\x20stop\x20another\x20user\x27s\x20program.','StopProgram','KillProgram','User','SocketId','win32','stdout','resolve','SocketVariables','autonomous','Program\x20is\x20now\x20running','kill','Program\x20is\x20now\x20stopped','StartBlocklyProgram','stdin','Cannot\x20stop\x20another\x20user\x20program','write','imp.load_source(\x27util\x27,\x20r\x27','child_process','os.chdir(\x27./app/filesystem/','blockly-console-output','spawn','console-output','Program\x20already\x20running','close','StartProgram','emit','data','sendInput','gamepad-available','SIGINT','import\x20os\x0a','sockets','>\x20Program\x20Finished!\x0a','pipe','log','import\x20imp\x0a','exec','fusion_gamepad_available','python','exports','shelljs','stderr','No\x20Program\x20Running'];(function(_0xc7a1aa,_0x3a418d){var _0xceaec9=function(_0x400b8e){while(--_0x400b8e){_0xc7a1aa['push'](_0xc7a1aa['shift']());}};_0xceaec9(++_0x3a418d);}(_0x33d0,0x1bd));var _0x3a0f=function(_0xc7a1aa,_0x3a418d){_0xc7a1aa=_0xc7a1aa-0x0;var _0xceaec9=_0x33d0[_0xc7a1aa];return _0xceaec9;};var spawn=require(_0x3a0f('0x13'))[_0x3a0f('0x16')];var shell=require(_0x3a0f('0x2a'));var os=require('os');var stream=require('stream');var path=require('path');var python_process;module[_0x3a0f('0x29')]=function(_0x17612d,_0x1132d8){var _0xe381b3=function(){};_0xe381b3[_0x3a0f('0x1a')]=function(_0x5f1829,_0x38a697,_0x59bd19){if(!_0x1132d8['SocketVariables'][_0x3a0f('0x2d')]){_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]={'Code':null,'Program':_0x38a697,'SocketId':_0x59bd19,'User':_0x5f1829};_0x2ce435(_0x38a697,_0x5f1829);console[_0x3a0f('0x24')](_0x3a0f('0xb'));return{'status':0xc8,'message':'Program\x20is\x20now\x20running'};}else{if(_0x1132d8['SocketVariables'][_0x3a0f('0x2d')][_0x3a0f('0x4')]==_0x5f1829||_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]['SocketId']==_0x3a0f('0xa')){try{python_process[_0x3a0f('0xc')]('SIGINT');}catch(_0x26e806){}_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]={'Code':null,'Program':_0x38a697,'SocketId':_0x59bd19,'User':_0x5f1829};_0x2ce435(_0x38a697,_0x5f1829);console[_0x3a0f('0x24')](_0x3a0f('0xb'));return{'status':0xc8,'message':_0x3a0f('0xb')};}else{console['log'](_0x3a0f('0x18'));return{'status':0x1f4,'message':_0x3a0f('0x18')};}}};_0xe381b3[_0x3a0f('0x2')]=function(_0x325244){if(_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]){if(_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')][_0x3a0f('0x4')]==_0x325244||_0x1132d8['SocketVariables'][_0x3a0f('0x2d')]['SocketId']==_0x3a0f('0xa')){_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]=null;try{python_process[_0x3a0f('0xc')](_0x3a0f('0x1f'));}catch(_0x5b011f){}console[_0x3a0f('0x24')](_0x3a0f('0xd'));return{'status':0xc8,'message':'Program\x20Successfully\x20Stopped'};}else{console[_0x3a0f('0x24')](_0x3a0f('0x10'));return{'status':0x1f4,'message':_0x3a0f('0x1')};}}else{console[_0x3a0f('0x24')]('No\x20program\x20running');return{'status':0x1f4,'message':_0x3a0f('0x2c')};}};_0xe381b3[_0x3a0f('0x3')]=function(){_0x1132d8['SocketVariables'][_0x3a0f('0x2d')]=null;try{python_process[_0x3a0f('0xc')](_0x3a0f('0x1f'));}catch(_0x358f73){}console[_0x3a0f('0x24')](_0x3a0f('0xd'));};_0xe381b3[_0x3a0f('0xe')]=function(_0x3bbe12,_0x1e7a36,_0x5b68d0){if(!_0x1132d8[_0x3a0f('0x9')]['fusion_program_running']){_0x1132d8['SocketVariables'][_0x3a0f('0x2d')]={'Code':_0x3bbe12,'Program':null,'SocketId':_0x5b68d0,'User':_0x1e7a36};_0x7a744c(_0x3bbe12,_0x1e7a36);console[_0x3a0f('0x24')]('Blockly\x20Program\x20is\x20now\x20running');return{'status':0xc8,'message':'Blockly\x20Program\x20is\x20now\x20running'};}else{if(_0x1132d8[_0x3a0f('0x9')]['fusion_program_running']['User']==_0x1e7a36||_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')][_0x3a0f('0x5')]==_0x3a0f('0xa')){try{python_process['kill']('SIGINT');}catch(_0x18a99b){}_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]={'Code':_0x3bbe12,'Program':null,'SocketId':_0x5b68d0,'User':_0x1e7a36};_0x7a744c(_0x3bbe12,_0x1e7a36);console[_0x3a0f('0x24')](_0x3a0f('0x0'));return{'status':0xc8,'message':_0x3a0f('0x0')};}else{console[_0x3a0f('0x24')](_0x3a0f('0x18'));return{'status':0x1f4,'message':'Program\x20already\x20running'};}}};_0xe381b3[_0x3a0f('0x1d')]=function(_0xf77df0){python_process[_0x3a0f('0xf')][_0x3a0f('0x11')](_0xf77df0+'\x0a');};function _0x2ce435(_0x4aff8a,_0x56531b){let _0x3a0879=_0x3a0f('0x20')+(_0x3a0f('0x14')+_0x56531b+'/Editor\x27)\x0a')+_0x3a0f('0x25')+(_0x3a0f('0x12')+path[_0x3a0f('0x8')](_0x4aff8a)+'\x27)');python_process=spawn(_0x3a0f('0x28'),['-u','-B','-c',_0x3a0879],{'stdio':'pipe'});_0x17612d[_0x3a0f('0x21')][_0x3a0f('0x1b')]('program-running',_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]);_0x2aa691();python_process[_0x3a0f('0x7')]['on']('data',function(_0x547240){console[_0x3a0f('0x24')](String(_0x547240));_0x17612d[_0x3a0f('0x1b')]('console-output',{'output':String(_0x547240)});});python_process[_0x3a0f('0x2b')]['on'](_0x3a0f('0x1c'),function(_0x477546){console[_0x3a0f('0x24')](String(_0x477546));_0x17612d['emit'](_0x3a0f('0x17'),{'output':String(_0x477546)});_0x17612d[_0x3a0f('0x21')][_0x3a0f('0x1b')](_0x3a0f('0x2f'),_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]);_0x17612d['sockets']['emit'](_0x3a0f('0x1e'),![]);});python_process[_0x3a0f('0x7')]['on'](_0x3a0f('0x19'),function(_0x48941d){_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]=null;console[_0x3a0f('0x24')](String(_0x3a0f('0x2e')));_0x17612d[_0x3a0f('0x1b')](_0x3a0f('0x17'),{'output':String(_0x3a0f('0x22'))});_0x17612d[_0x3a0f('0x21')]['emit'](_0x3a0f('0x2f'),_0x1132d8['SocketVariables'][_0x3a0f('0x2d')]);_0x17612d['sockets'][_0x3a0f('0x1b')](_0x3a0f('0x1e'),![]);});}function _0x7a744c(_0x674db2,_0x40ea86){let _0x4c4f70=_0x3a0f('0x20')+(_0x3a0f('0x14')+_0x40ea86+'/Blockly\x27)\x0a')+_0x3a0f('0x25')+(''+_0x674db2);if(os['platform']()!=_0x3a0f('0x6')){python_process=spawn(_0x3a0f('0x28'),['-u','-B','-c',_0x4c4f70],{'stdio':_0x3a0f('0x23')});}else{python_process=spawn(_0x3a0f('0x28'),['-u','-B','-c',_0x4c4f70],{'stdio':_0x3a0f('0x23')});}_0x17612d[_0x3a0f('0x21')]['emit'](_0x3a0f('0x2f'),_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]);_0x2aa691();python_process[_0x3a0f('0x7')]['on'](_0x3a0f('0x1c'),function(_0x26ed92){console[_0x3a0f('0x24')](String(_0x26ed92));_0x17612d['emit']('blockly-console-output',{'output':String(_0x26ed92)});});python_process[_0x3a0f('0x2b')]['on']('data',function(_0x520002){console['log'](String(_0x520002));_0x17612d[_0x3a0f('0x1b')]('blockly-console-output',{'output':String(_0x520002)});_0x17612d[_0x3a0f('0x21')][_0x3a0f('0x1b')](_0x3a0f('0x2f'),_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]);_0x17612d[_0x3a0f('0x21')]['emit'](_0x3a0f('0x1e'),![]);});python_process['stdout']['on'](_0x3a0f('0x19'),function(_0x5416d5){_0x1132d8[_0x3a0f('0x9')]['fusion_program_running']=null;console[_0x3a0f('0x24')](String(_0x3a0f('0x2e')));_0x17612d[_0x3a0f('0x1b')](_0x3a0f('0x15'),{'output':String('>\x20Program\x20Finished!\x0a')});_0x17612d[_0x3a0f('0x21')]['emit'](_0x3a0f('0x2f'),_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x2d')]);_0x17612d[_0x3a0f('0x21')][_0x3a0f('0x1b')](_0x3a0f('0x1e'),![]);});}function _0x2aa691(){if(os[_0x3a0f('0x30')]()!=_0x3a0f('0x6')){setTimeout(function(){var _0x4c49f6=shell[_0x3a0f('0x26')]('sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN',{'silent':!![]})['stdout'];if(!_0x4c49f6)_0x1132d8['SocketVariables'][_0x3a0f('0x27')]=![];else _0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x27')]=!![];_0x17612d[_0x3a0f('0x21')][_0x3a0f('0x1b')](_0x3a0f('0x1e'),_0x1132d8[_0x3a0f('0x9')][_0x3a0f('0x27')]);},0x3e8);}}return _0xe381b3;};