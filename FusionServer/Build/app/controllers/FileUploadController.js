var _0x5396=['./../utils/logger','.py','readFile','file','File\x20already\x20exists\x20with\x20name.','/Blockly/','user','workingDirectory','uploadFile','prototype','files','username','File\x20imported\x20successfully.','send','path','stat','name','replace','exports','filepath','substr','body','warn'];(function(_0x5b98e4,_0x539686){var _0xd8b4d0=function(_0xcff11a){while(--_0xcff11a){_0x5b98e4['push'](_0x5b98e4['shift']());}};_0xd8b4d0(++_0x539686);}(_0x5396,0x1e5));var _0xd8b4=function(_0x5b98e4,_0x539686){_0x5b98e4=_0x5b98e4-0x0;var _0xd8b4d0=_0x5396[_0x5b98e4];return _0xd8b4d0;};var fs=require('fs');const logger=require(_0xd8b4('0x15'));FileUploadController=function(){};FileUploadController[_0xd8b4('0x7')][_0xd8b4('0x6')]=function(_0x24fa72,_0x2723b7){var _0xe01bf1=_0x24fa72[_0xd8b4('0x8')][_0xd8b4('0x1')];var _0x148b2f=_0xe01bf1[_0xd8b4('0xe')][_0xd8b4('0x12')](_0xe01bf1[_0xd8b4('0xe')]['length']-0x3);var _0x456169;var _0x34b34a;if(_0x24fa72['body'][_0xd8b4('0x5')]){_0x34b34a=_0x24fa72[_0xd8b4('0x4')][_0xd8b4('0x11')]['replace'](_0x24fa72[_0xd8b4('0x4')]['username']+'/','')[_0xd8b4('0xf')](_0x24fa72[_0xd8b4('0x4')][_0xd8b4('0x9')],'')+_0x24fa72[_0xd8b4('0x13')][_0xd8b4('0x5')]+'/'+_0xe01bf1[_0xd8b4('0xe')];}else{if(_0x148b2f==_0xd8b4('0x16')){_0x456169='/Editor/';}else{_0x456169=_0xd8b4('0x3');}_0x34b34a=_0x24fa72[_0xd8b4('0x4')][_0xd8b4('0x11')]+_0x456169+_0xe01bf1[_0xd8b4('0xe')];}fs[_0xd8b4('0xd')](_0x34b34a,function(_0x2c31eb,_0x4c7fec){if(_0x2c31eb==null){return _0x2723b7['status'](0x1f4)[_0xd8b4('0xb')](_0xd8b4('0x2'));}else{fs[_0xd8b4('0x0')](_0x24fa72[_0xd8b4('0x8')]['file'][_0xd8b4('0xc')],function(_0x139991,_0x1bc597){_0xe01bf1['path']=_0x34b34a;fs['writeFile'](_0xe01bf1[_0xd8b4('0xc')],_0x1bc597,function(_0x2f169a){if(_0x2f169a){return console[_0xd8b4('0x14')](_0x2f169a);}logger['info']('The\x20file:\x20'+_0xe01bf1[_0xd8b4('0xe')]+'\x20was\x20saved\x20to\x20'+_0xe01bf1['path']);_0x2723b7['status'](0xc8)['send'](_0xd8b4('0xa'));});});}});};module[_0xd8b4('0x10')]=new FileUploadController();