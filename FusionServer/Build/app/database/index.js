!function(){const e=require("../utils/logger"),n=require("mongoose"),o=require("../models/user");module.exports=async function(){n.Promise=global.Promise,e.verbose("Configuring database connection"),await n.connect("mongodb://127.0.0.1:27017/Fusion",{useMongoClient:!0}),n.connection.on("error",(n=>{e.error(n)})),await async function(){let n=await o.findOne({username:"mriguest"});n||(e.info("Configuring guest account"),n=new o({username:"mriguest",password:"",securityquestion:"Who is your favorite actor, musician, or artist?",securityanswer:"mriguest",usergroup:"Guest"}),n.password=n.generateHash(n.username),n.filepath=await n.generateFileSystem(n.username),await n.save())}()}()}();