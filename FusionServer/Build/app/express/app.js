const _0x1c81=['express','i18n','helmet','NG_TRANSLATE_LANG_KEY','win32','header','Configuring\x20JSON\x20body\x20parser','join','error','Configuring\x20server\x20sessions','Configuring\x20API\x20method\x20override','verbose','session','shelljs','Access-Control-Allow-Headers','dev','Configuring\x20cookie\x20parser','app/filesystem','./../../public','Configuring\x20response\x20compression','ilovemyfusioncontroller','Configuring\x20server\x20with\x20i18n\x20support','express-session','mkdirSync','passport','stream','method-override','Configuring\x20URL\x20encodede\x20body\x20parser','existsSync','json','body-parser','Configuring\x20file\x20system','Configuring\x20API\x20headers','morgan','GET,\x20POST,\x20OPTIONS,\x20PUT,\x20PATCH,\x20DELETE,\x20CONNECT','Access-Control-Allow-Origin','setHeader','Accept,\x20Authorization,\x20Content-Type,\x20X-Requested-With,\x20Range','warn','Access-Control-Allow-Methods','use','configure','cookie-parser','exports','path','Configuring\x20API\x20security','init','compression','platform','./../../config/locales'];(function(_0x3d0487,_0x1c815b){const _0xa62dda=function(_0x56689a){while(--_0x56689a){_0x3d0487['push'](_0x3d0487['shift']());}};_0xa62dda(++_0x1c815b);}(_0x1c81,0x164));const _0xa62d=function(_0x3d0487,_0x1c815b){_0x3d0487=_0x3d0487-0x0;let _0xa62dda=_0x1c81[_0x3d0487];return _0xa62dda;};const logger=require('../utils/logger');const app=require('.');const express=require(_0xa62d('0x2c'));const cookieParser=require(_0xa62d('0x24'));const morgan=require(_0xa62d('0x1b'));const bodyParser=require(_0xa62d('0x18'));const methodOverride=require(_0xa62d('0x14'));const session=require(_0xa62d('0x10'));const passport=require(_0xa62d('0x12'));const fs=require('fs');const shell=require(_0xa62d('0x7'));const os=require('os');const i18n=require(_0xa62d('0x2d'));const path=require(_0xa62d('0x26'));const helmet=require(_0xa62d('0x2e'));const compression=require(_0xa62d('0x29'));module[_0xa62d('0x25')]=async function(){logger[_0xa62d('0x5')]('Configuring\x20public\x20directory');app[_0xa62d('0x22')](express['static'](path[_0xa62d('0x1')](__dirname,_0xa62d('0xc'))));logger['verbose'](_0xa62d('0x1a'));app['use'](function(_0xec912f,_0x390242,_0x57d676){_0x390242[_0xa62d('0x31')](_0xa62d('0x1d'),_0xec912f['get']('Origin')||'*');_0x390242[_0xa62d('0x1e')](_0xa62d('0x21'),_0xa62d('0x1c'));_0x390242['header'](_0xa62d('0x8'),_0xa62d('0x1f'));_0x390242[_0xa62d('0x1e')]('Access-Control-Allow-Credentials',!![]);_0x57d676();});logger[_0xa62d('0x5')](_0xa62d('0x4'));app[_0xa62d('0x22')](methodOverride('X-HTTP-Method-Override'));logger[_0xa62d('0x5')]('Configuring\x20API\x20request\x20logging');app[_0xa62d('0x22')](morgan(_0xa62d('0x9'),{'stream':logger[_0xa62d('0x13')]}));logger['verbose'](_0xa62d('0xa'));app[_0xa62d('0x22')](cookieParser());logger[_0xa62d('0x5')](_0xa62d('0x0'));app['use'](bodyParser[_0xa62d('0x17')]());logger[_0xa62d('0x5')](_0xa62d('0x15'));app[_0xa62d('0x22')](bodyParser['urlencoded']({'extended':!![]}));logger[_0xa62d('0x5')](_0xa62d('0x3'));app[_0xa62d('0x22')](session({'secret':_0xa62d('0xe'),'resave':![],'saveUninitialized':!![]}));logger[_0xa62d('0x5')]('Configuring\x20authentication\x20protocol');app['use'](passport['initialize']());app[_0xa62d('0x22')](passport[_0xa62d('0x6')]());logger[_0xa62d('0x5')](_0xa62d('0x27'));app[_0xa62d('0x22')](helmet());logger[_0xa62d('0x5')](_0xa62d('0xd'));app[_0xa62d('0x22')](compression());logger[_0xa62d('0x5')]('Configuring\x20i18n\x20defaults');i18n[_0xa62d('0x23')]({'defaultLocale':'en','locales':['en','es'],'directory':path[_0xa62d('0x1')](__dirname,_0xa62d('0x2b')),'cookie':_0xa62d('0x2f'),'autoReload':![],'objectNotation':!![],'syncFiles':![],'logDebugFn':function(_0x32ef8d){logger['debug'](_0x32ef8d);},'logWarnFn':function(_0x312897){logger[_0xa62d('0x20')](_0x312897);},'logErrorFn':function(_0x378daf){logger[_0xa62d('0x2')](_0x378daf);}});logger[_0xa62d('0x5')](_0xa62d('0xf'));app[_0xa62d('0x22')](i18n[_0xa62d('0x28')]);var _0x1208e6=_0xa62d('0xb');if(!fs[_0xa62d('0x16')](_0x1208e6)){logger['verbose'](_0xa62d('0x19'));fs[_0xa62d('0x11')](_0x1208e6);}if(os[_0xa62d('0x2a')]()!=_0xa62d('0x30'))shell['exec']('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]});}();