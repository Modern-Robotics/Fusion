const _0x948c=['validSecurityAnswer','methods','validPassword','mkdirp','error','exports','statics','rimraf','Error\x20creating\x20file\x20system\x20for\x20user:\x20','/Editor','generateHash','removeFileSystem','securityanswer','model','Schema','compareSync','genSaltSync','generateFileSystem','mongoose','app/filesystem/','bcrypt-nodejs','User','hashSync','/Blockly'];(function(_0x552666,_0x948c46){const _0x562f63=function(_0x1ca962){while(--_0x1ca962){_0x552666['push'](_0x552666['shift']());}};_0x562f63(++_0x948c46);}(_0x948c,0x1ca));const _0x562f=function(_0x552666,_0x948c46){_0x552666=_0x552666-0x0;let _0x562f63=_0x948c[_0x552666];return _0x562f63;};let mongoose=require(_0x562f('0x10'));let bcrypt=require(_0x562f('0x12'));let fs=require('fs-extra');let rimraf=require(_0x562f('0x5'));const logger=require('./../utils/logger');let userSchema=mongoose[_0x562f('0xc')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x562f('0x17')][_0x562f('0x8')]=function(_0x1f0993){return bcrypt[_0x562f('0x14')](_0x1f0993,bcrypt[_0x562f('0xe')](0x8),null);};userSchema[_0x562f('0x17')][_0x562f('0x0')]=function(_0x3f0169){return bcrypt[_0x562f('0xd')](_0x3f0169,this['password']);};userSchema[_0x562f('0x17')][_0x562f('0x16')]=function(_0x27edda){return this[_0x562f('0xa')]==_0x27edda;};userSchema['methods'][_0x562f('0xf')]=function(_0x463492){return new Promise(async function(_0x106fa5,_0x11effc){var _0x67286b=_0x562f('0x7');var _0x4242a5=_0x562f('0x15');var _0x5c7360=_0x562f('0x11')+_0x463492;try{await fs['mkdirp'](_0x5c7360);await fs['mkdirp'](_0x5c7360+_0x67286b);await fs[_0x562f('0x1')](_0x5c7360+_0x4242a5);return _0x106fa5(_0x5c7360);}catch(_0x3eab20){logger[_0x562f('0x2')](_0x562f('0x6')+_0x3eab20);return _0x11effc(_0x3eab20);}});};userSchema[_0x562f('0x4')][_0x562f('0x9')]=function(_0x109279){var _0x204d55='app/filesystem/'+_0x109279;rimraf(_0x204d55,function(){logger['info']('Finished\x20Deleting\x20User\x20Directory');});};module[_0x562f('0x3')]=mongoose[_0x562f('0xb')](_0x562f('0x13'),userSchema);