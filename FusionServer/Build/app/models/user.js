const _0x804f=['Schema','fs-extra','generateFileSystem','genSaltSync','Error\x20creating\x20file\x20system\x20for\x20user:\x20','removeFileSystem','statics','/Blockly','password','model','app/filesystem/','exports','hashSync','User','/Editor','compareSync','mongoose','./../utils/logger','info','mkdirp','methods','rimraf','bcrypt-nodejs'];(function(_0x213edb,_0x804f6e){const _0x2cdc3e=function(_0xbc93fc){while(--_0xbc93fc){_0x213edb['push'](_0x213edb['shift']());}};_0x2cdc3e(++_0x804f6e);}(_0x804f,0xef));const _0x2cdc=function(_0x213edb,_0x804f6e){_0x213edb=_0x213edb-0x0;let _0x2cdc3e=_0x804f[_0x213edb];return _0x2cdc3e;};let mongoose=require(_0x2cdc('0x7'));let bcrypt=require(_0x2cdc('0xd'));let fs=require(_0x2cdc('0xf'));let rimraf=require(_0x2cdc('0xc'));const logger=require(_0x2cdc('0x8'));let userSchema=mongoose[_0x2cdc('0xe')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema['methods']['generateHash']=function(_0x5a10c1){return bcrypt[_0x2cdc('0x3')](_0x5a10c1,bcrypt[_0x2cdc('0x11')](0x8),null);};userSchema['methods']['validPassword']=function(_0x35e354){return bcrypt[_0x2cdc('0x6')](_0x35e354,this[_0x2cdc('0x16')]);};userSchema['methods']['validSecurityAnswer']=function(_0x1c79e2){return this['securityanswer']==_0x1c79e2;};userSchema[_0x2cdc('0xb')][_0x2cdc('0x10')]=function(_0xb47cc4){return new Promise(async function(_0x525f44,_0x4f4912){var _0xc096db=_0x2cdc('0x5');var _0x2c7b54=_0x2cdc('0x15');var _0x58f185=_0x2cdc('0x1')+_0xb47cc4;try{await fs[_0x2cdc('0xa')](_0x58f185);await fs[_0x2cdc('0xa')](_0x58f185+_0xc096db);await fs['mkdirp'](_0x58f185+_0x2c7b54);return _0x525f44(_0x58f185);}catch(_0x56543b){logger['error'](_0x2cdc('0x12')+_0x56543b);return _0x4f4912(_0x56543b);}});};userSchema[_0x2cdc('0x14')][_0x2cdc('0x13')]=function(_0x4d23da){var _0x9efa03='app/filesystem/'+_0x4d23da;rimraf(_0x9efa03,function(){logger[_0x2cdc('0x9')]('Finished\x20Deleting\x20User\x20Directory');});};module[_0x2cdc('0x2')]=mongoose[_0x2cdc('0x0')](_0x2cdc('0x4'),userSchema);