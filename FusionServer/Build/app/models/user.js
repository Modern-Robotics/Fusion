const _0x24fd=['removeFileSystem','Finished\x20Deleting\x20User\x20Directory','1422463KvPXyD','44853aiRgHT','error','20eRbgZF','1173586prcUau','rimraf','Error\x20creating\x20file\x20system\x20for\x20user:\x20','Schema','exports','1xYbWIg','model','genSaltSync','methods','compareSync','/Editor','/Blockly','app/filesystem/','mongoose','1rVcavD','generateHash','358273fBPWMy','1sKBElZ','validPassword','594453uPAcmg','statics','1247563lQhaQN','637429CDvSqr','securityanswer','password','mkdirp','bcrypt-nodejs'];const _0x30cd=function(_0x279a94,_0xaf2959){_0x279a94=_0x279a94-0x19f;let _0x24fd0d=_0x24fd[_0x279a94];return _0x24fd0d;};const _0x1c58bf=_0x30cd;(function(_0x12de59,_0x5bbe39){const _0x3ede48=_0x30cd;while(!![]){try{const _0x42703f=-parseInt(_0x3ede48(0x1a1))*-parseInt(_0x3ede48(0x1b4))+-parseInt(_0x3ede48(0x1a6))*parseInt(_0x3ede48(0x1a4))+parseInt(_0x3ede48(0x1a3))+parseInt(_0x3ede48(0x1b3))*-parseInt(_0x3ede48(0x1b1))+-parseInt(_0x3ede48(0x1a8))*parseInt(_0x3ede48(0x1b9))+parseInt(_0x3ede48(0x1b0))+parseInt(_0x3ede48(0x1a9));if(_0x42703f===_0x5bbe39)break;else _0x12de59['push'](_0x12de59['shift']());}catch(_0xeaaace){_0x12de59['push'](_0x12de59['shift']());}}}(_0x24fd,0xd02c3));let mongoose=require(_0x1c58bf(0x1a0)),bcrypt=require(_0x1c58bf(0x1ad)),fs=require('fs-extra'),rimraf=require(_0x1c58bf(0x1b5));const logger=require('./../utils/logger');let userSchema=mongoose[_0x1c58bf(0x1b7)]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x1c58bf(0x1bc)][_0x1c58bf(0x1a2)]=function(_0x3cef55){const _0xefecd7=_0x1c58bf;return bcrypt['hashSync'](_0x3cef55,bcrypt[_0xefecd7(0x1bb)](0x8),null);},userSchema[_0x1c58bf(0x1bc)][_0x1c58bf(0x1a5)]=function(_0x519760){const _0x43c6c4=_0x1c58bf;return bcrypt[_0x43c6c4(0x1bd)](_0x519760,this[_0x43c6c4(0x1ab)]);},userSchema[_0x1c58bf(0x1bc)]['validSecurityAnswer']=function(_0x19da9f){const _0x16c4fc=_0x1c58bf;return this[_0x16c4fc(0x1aa)]==_0x19da9f;},userSchema[_0x1c58bf(0x1bc)]['generateFileSystem']=function(_0x509d8a){return new Promise(async function(_0x138d38,_0x44aa53){const _0x13493a=_0x30cd;var _0x29b68e=_0x13493a(0x1be),_0x14cc0b=_0x13493a(0x1bf),_0x545518=_0x13493a(0x19f)+_0x509d8a;try{return await fs['mkdirp'](_0x545518),await fs[_0x13493a(0x1ac)](_0x545518+_0x29b68e),await fs[_0x13493a(0x1ac)](_0x545518+_0x14cc0b),_0x138d38(_0x545518);}catch(_0x53eac6){return logger[_0x13493a(0x1b2)](_0x13493a(0x1b6)+_0x53eac6),_0x44aa53(_0x53eac6);}});},userSchema[_0x1c58bf(0x1a7)][_0x1c58bf(0x1ae)]=function(_0x268dd9){var _0x4ee30d='app/filesystem/'+_0x268dd9;rimraf(_0x4ee30d,function(){const _0x13c04a=_0x30cd;logger['info'](_0x13c04a(0x1af));});},module[_0x1c58bf(0x1b8)]=mongoose[_0x1c58bf(0x1ba)]('User',userSchema);