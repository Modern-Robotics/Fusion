var _0xc160=['fs-extra','Schema','methods','generateHash','hashSync','validPassword','compareSync','password','validSecurityAnswer','securityanswer','generateFileSystem','/Editor','/Blockly','app/filesystem/','mkdirp','log','statics','User','mongoose'];(function(_0x540879,_0x3a80f4){var _0x26f1f2=function(_0x3234a2){while(--_0x3234a2){_0x540879['push'](_0x540879['shift']());}};_0x26f1f2(++_0x3a80f4);}(_0xc160,0x17b));var _0x1880=function(_0x4c79d7,_0x2a9639){_0x4c79d7=_0x4c79d7-0x0;var _0x2539d9=_0xc160[_0x4c79d7];return _0x2539d9;};var mongoose=require(_0x1880('0x0'));var bcrypt=require('bcrypt-nodejs');var fs=require(_0x1880('0x1'));var rimraf=require('rimraf');var userSchema=mongoose[_0x1880('0x2')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x1880('0x3')][_0x1880('0x4')]=function(_0x5217d5){return bcrypt[_0x1880('0x5')](_0x5217d5,bcrypt['genSaltSync'](0x8),null);};userSchema[_0x1880('0x3')][_0x1880('0x6')]=function(_0x125072){return bcrypt[_0x1880('0x7')](_0x125072,this[_0x1880('0x8')]);};userSchema[_0x1880('0x3')][_0x1880('0x9')]=function(_0x4263e){return this[_0x1880('0xa')]==_0x4263e;};userSchema[_0x1880('0x3')][_0x1880('0xb')]=function(_0x20a50c){return new Promise(async function(_0xdc6616,_0x40bc5b){var _0xf1fbe2=_0x1880('0xc');var _0x545eb3=_0x1880('0xd');var _0xe089b1=_0x1880('0xe')+_0x20a50c;try{await fs[_0x1880('0xf')](_0xe089b1);await fs[_0x1880('0xf')](_0xe089b1+_0xf1fbe2);await fs[_0x1880('0xf')](_0xe089b1+_0x545eb3);return _0xdc6616(_0xe089b1);}catch(_0x3a37db){console[_0x1880('0x10')]('Error\x20creating\x20file\x20system\x20for\x20user:\x20'+_0x3a37db);return _0x40bc5b(_0x3a37db);}});};userSchema[_0x1880('0x11')]['removeFileSystem']=function(_0x108c34){var _0x58185=_0x1880('0xe')+_0x108c34;rimraf(_0x58185,function(){console[_0x1880('0x10')]('Finished\x20Deleting\x20User\x20Directory');});};module['exports']=mongoose['model'](_0x1880('0x12'),userSchema);