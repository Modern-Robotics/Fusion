const _0x59be=['Finished\x20Deleting\x20User\x20Directory','generateFileSystem','mongoose','validSecurityAnswer','fs-extra','securityanswer','methods','info','compareSync','rimraf','Schema','password','mkdirp','genSaltSync','generateHash','exports'];(function(_0x1a553c,_0x59beb7){const _0x327297=function(_0x24154e){while(--_0x24154e){_0x1a553c['push'](_0x1a553c['shift']());}};_0x327297(++_0x59beb7);}(_0x59be,0xd2));const _0x3272=function(_0x1a553c,_0x59beb7){_0x1a553c=_0x1a553c-0x0;let _0x327297=_0x59be[_0x1a553c];return _0x327297;};let mongoose=require(_0x3272('0x0'));let bcrypt=require('bcrypt-nodejs');let fs=require(_0x3272('0x2'));let rimraf=require(_0x3272('0x7'));const logger=require('./../utils/logger');let userSchema=mongoose[_0x3272('0x8')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema['methods'][_0x3272('0xc')]=function(_0x4d60e4){return bcrypt['hashSync'](_0x4d60e4,bcrypt[_0x3272('0xb')](0x8),null);};userSchema[_0x3272('0x4')]['validPassword']=function(_0x2bc448){return bcrypt[_0x3272('0x6')](_0x2bc448,this[_0x3272('0x9')]);};userSchema[_0x3272('0x4')][_0x3272('0x1')]=function(_0x571780){return this[_0x3272('0x3')]==_0x571780;};userSchema['methods'][_0x3272('0xf')]=function(_0x5a5b84){return new Promise(async function(_0x36208c,_0x2ab2e5){var _0x5bc0ad='/Editor';var _0x142b9c='/Blockly';var _0x3aea6c='app/filesystem/'+_0x5a5b84;try{await fs[_0x3272('0xa')](_0x3aea6c);await fs['mkdirp'](_0x3aea6c+_0x5bc0ad);await fs[_0x3272('0xa')](_0x3aea6c+_0x142b9c);return _0x36208c(_0x3aea6c);}catch(_0x5a624d){logger['error']('Error\x20creating\x20file\x20system\x20for\x20user:\x20'+_0x5a624d);return _0x2ab2e5(_0x5a624d);}});};userSchema['statics']['removeFileSystem']=function(_0x1501a5){var _0x31d4ed='app/filesystem/'+_0x1501a5;rimraf(_0x31d4ed,function(){logger[_0x3272('0x5')](_0x3272('0xe'));});};module[_0x3272('0xd')]=mongoose['model']('User',userSchema);