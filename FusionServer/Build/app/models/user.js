var _0x20a1=['generateFileSystem','/Editor','app/filesystem/','mkdirp','Error\x20creating\x20file\x20system\x20for\x20user:\x20','statics','info','Finished\x20Deleting\x20User\x20Directory','exports','model','User','bcrypt-nodejs','rimraf','./../utils/logger','Schema','methods','genSaltSync','compareSync'];(function(_0xb67384,_0x27295a){var _0x156d7c=function(_0x52a1f8){while(--_0x52a1f8){_0xb67384['push'](_0xb67384['shift']());}};_0x156d7c(++_0x27295a);}(_0x20a1,0xf5));var _0x4c81=function(_0x1b049a,_0x22cc84){_0x1b049a=_0x1b049a-0x0;var _0x3827fe=_0x20a1[_0x1b049a];return _0x3827fe;};let mongoose=require('mongoose');let bcrypt=require(_0x4c81('0x0'));let fs=require('fs-extra');let rimraf=require(_0x4c81('0x1'));const logger=require(_0x4c81('0x2'));let userSchema=mongoose[_0x4c81('0x3')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x4c81('0x4')]['generateHash']=function(_0x30f57b){return bcrypt['hashSync'](_0x30f57b,bcrypt[_0x4c81('0x5')](0x8),null);};userSchema[_0x4c81('0x4')]['validPassword']=function(_0x2f9d6b){return bcrypt[_0x4c81('0x6')](_0x2f9d6b,this['password']);};userSchema[_0x4c81('0x4')]['validSecurityAnswer']=function(_0x698b39){return this['securityanswer']==_0x698b39;};userSchema[_0x4c81('0x4')][_0x4c81('0x7')]=function(_0x2795ee){return new Promise(async function(_0x2523ba,_0x5754ca){var _0x35602f=_0x4c81('0x8');var _0x2176a7='/Blockly';var _0x1a3172=_0x4c81('0x9')+_0x2795ee;try{await fs[_0x4c81('0xa')](_0x1a3172);await fs[_0x4c81('0xa')](_0x1a3172+_0x35602f);await fs[_0x4c81('0xa')](_0x1a3172+_0x2176a7);return _0x2523ba(_0x1a3172);}catch(_0x4c6b5c){logger['error'](_0x4c81('0xb')+_0x4c6b5c);return _0x5754ca(_0x4c6b5c);}});};userSchema[_0x4c81('0xc')]['removeFileSystem']=function(_0x51d500){var _0x3d8554=_0x4c81('0x9')+_0x51d500;rimraf(_0x3d8554,function(){logger[_0x4c81('0xd')](_0x4c81('0xe'));});};module[_0x4c81('0xf')]=mongoose[_0x4c81('0x10')](_0x4c81('0x11'),userSchema);