const _0x52c7=['genSaltSync','rimraf','Error\x20creating\x20file\x20system\x20for\x20user:\x20','hashSync','info','validSecurityAnswer','generateHash','validPassword','Schema','methods','mkdirp','removeFileSystem','mongoose','model','securityanswer','bcrypt-nodejs','compareSync','Finished\x20Deleting\x20User\x20Directory','statics','/Blockly','fs-extra','exports','/Editor','app/filesystem/','generateFileSystem'];(function(_0x4b59f7,_0x52c7f1){const _0x1ec624=function(_0x3a36ff){while(--_0x3a36ff){_0x4b59f7['push'](_0x4b59f7['shift']());}};_0x1ec624(++_0x52c7f1);}(_0x52c7,0x1a0));const _0x1ec6=function(_0x4b59f7,_0x52c7f1){_0x4b59f7=_0x4b59f7-0x0;let _0x1ec624=_0x52c7[_0x4b59f7];return _0x1ec624;};let mongoose=require(_0x1ec6('0x15'));let bcrypt=require(_0x1ec6('0x18'));let fs=require(_0x1ec6('0x4'));let rimraf=require(_0x1ec6('0xa'));const logger=require('./../utils/logger');let userSchema=mongoose[_0x1ec6('0x11')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x1ec6('0x12')][_0x1ec6('0xf')]=function(_0x52319a){return bcrypt[_0x1ec6('0xc')](_0x52319a,bcrypt[_0x1ec6('0x9')](0x8),null);};userSchema[_0x1ec6('0x12')][_0x1ec6('0x10')]=function(_0x4a228c){return bcrypt[_0x1ec6('0x0')](_0x4a228c,this['password']);};userSchema['methods'][_0x1ec6('0xe')]=function(_0x4af0c2){return this[_0x1ec6('0x17')]==_0x4af0c2;};userSchema[_0x1ec6('0x12')][_0x1ec6('0x8')]=function(_0x4208e7){return new Promise(async function(_0x35e856,_0xa38d0c){var _0x1a7ba3=_0x1ec6('0x6');var _0xf6b71d=_0x1ec6('0x3');var _0x4ca1df='app/filesystem/'+_0x4208e7;try{await fs['mkdirp'](_0x4ca1df);await fs[_0x1ec6('0x13')](_0x4ca1df+_0x1a7ba3);await fs[_0x1ec6('0x13')](_0x4ca1df+_0xf6b71d);return _0x35e856(_0x4ca1df);}catch(_0x55aed2){logger['error'](_0x1ec6('0xb')+_0x55aed2);return _0xa38d0c(_0x55aed2);}});};userSchema[_0x1ec6('0x2')][_0x1ec6('0x14')]=function(_0x5a9948){var _0x1e0d85=_0x1ec6('0x7')+_0x5a9948;rimraf(_0x1e0d85,function(){logger[_0x1ec6('0xd')](_0x1ec6('0x1'));});};module[_0x1ec6('0x5')]=mongoose[_0x1ec6('0x16')]('User',userSchema);