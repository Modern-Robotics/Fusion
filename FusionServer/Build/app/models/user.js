var _0x192b=['User','mongoose','fs-extra','rimraf','Schema','methods','generateHash','hashSync','genSaltSync','compareSync','password','securityanswer','generateFileSystem','/Editor','/Blockly','mkdirp','log','statics','removeFileSystem','Finished\x20Deleting\x20User\x20Directory','exports'];(function(_0x2f6f9a,_0x525be9){var _0x3015b8=function(_0x5e2431){while(--_0x5e2431){_0x2f6f9a['push'](_0x2f6f9a['shift']());}};_0x3015b8(++_0x525be9);}(_0x192b,0x127));var _0x1eb6=function(_0x376fcd,_0x3e7ff4){_0x376fcd=_0x376fcd-0x0;var _0x1f0b1e=_0x192b[_0x376fcd];return _0x1f0b1e;};var mongoose=require(_0x1eb6('0x0'));var bcrypt=require('bcrypt-nodejs');var fs=require(_0x1eb6('0x1'));var rimraf=require(_0x1eb6('0x2'));var userSchema=mongoose[_0x1eb6('0x3')]({'username':{'type':String,'required':!![],'lowercase':!![],'trim':!![]},'password':{'type':String,'required':!![]},'firstname':String,'lastname':String,'language':String,'email':String,'defaultprogramminglanguage':String,'filepath':{'type':String,'required':!![]},'securityquestion':{'type':String,'required':!![]},'securityanswer':{'type':String,'required':!![]},'usergroup':{'type':String,'required':!![]}});userSchema[_0x1eb6('0x4')][_0x1eb6('0x5')]=function(_0x57e781){return bcrypt[_0x1eb6('0x6')](_0x57e781,bcrypt[_0x1eb6('0x7')](0x8),null);};userSchema['methods']['validPassword']=function(_0x6aa9c5){return bcrypt[_0x1eb6('0x8')](_0x6aa9c5,this[_0x1eb6('0x9')]);};userSchema['methods']['validSecurityAnswer']=function(_0x4cbc7a){return this[_0x1eb6('0xa')]==_0x4cbc7a;};userSchema[_0x1eb6('0x4')][_0x1eb6('0xb')]=function(_0x26f01c){return new Promise(async function(_0x4027f4,_0x3e30c0){var _0x408fe8=_0x1eb6('0xc');var _0x227a29=_0x1eb6('0xd');var _0x3fd82f='app/filesystem/'+_0x26f01c;try{await fs[_0x1eb6('0xe')](_0x3fd82f);await fs[_0x1eb6('0xe')](_0x3fd82f+_0x408fe8);await fs[_0x1eb6('0xe')](_0x3fd82f+_0x227a29);return _0x4027f4(_0x3fd82f);}catch(_0x1bde2e){console[_0x1eb6('0xf')]('Error\x20creating\x20file\x20system\x20for\x20user:\x20'+_0x1bde2e);return _0x3e30c0(_0x1bde2e);}});};userSchema[_0x1eb6('0x10')][_0x1eb6('0x11')]=function(_0x4522d9){var _0x4e577d='app/filesystem/'+_0x4522d9;rimraf(_0x4e577d,function(){console[_0x1eb6('0xf')](_0x1eb6('0x12'));});};module[_0x1eb6('0x13')]=mongoose['model'](_0x1eb6('0x14'),userSchema);