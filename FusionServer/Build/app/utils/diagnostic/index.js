!function(){const i=require("./../logger"),n=require("./../../socket"),t=require("./../shell"),s=require("./../software"),e={isDiagnosticRunning:null,getIsDiagnosticRunning:async function(){this.isDiagnosticRunning=!1;try{if(await s.getIsProductionMachine()){await t.execAsync("ps aux | grep '[s]udo python ../../diagnostics/diagnosticGUI.py' | awk '{print $2}'",{silent:!0})&&(this.isDiagnosticRunning=!0)}}catch(n){i.warn(`Error detecting diagnostic tool: ${n}`)}return i.debug(`Diagnostic running: ${this.isDiagnosticRunning}`),n.sockets.emit("gamepad-available",this.isDiagnosticRunning),this.isDiagnosticRunning}};module.exports=e}();