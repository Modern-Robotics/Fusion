!function(){const e=require("./../logger"),t=require("./../software"),r=require("path"),a=require("./../../socket"),i=require("./../shell"),n={batteryScriptPath:r.join(__dirname,"./../../../scripts/ReadBatt.py"),getBatteryLevel:async function(){let r=null;try{t.getIsProductionMachine()&&(r=await i.execAsync(`python ${this.batteryScriptPath}`,{silent:!0}))}catch(t){e.warn(`Error scanning battery: ${t}`)}return e.debug(`Battery level: ${r}`),a.sockets.emit("battery-level",r),r}};module.exports=n}();