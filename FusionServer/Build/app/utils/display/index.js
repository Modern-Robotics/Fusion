!function(){require("os"),require("path");const e=require("./../logger"),n=require("./../shell"),r=require("./../software"),s=require("./../wireless"),c=require("./../../events"),i={splashScreenPath:"/usr/Fusion/config/splashscreen",showConnectScreen:async function(){try{if(r.getIsProductionMachine()){let e=await s.getAccessPointSettings(),r="import Display\n";r+=`Display.showConnectScreen(ssid='${e.SSID}', password='${e.Password}')`,await n.execAsync(`sudo python -u -B -c "${r}"`)}}catch(n){e.error(`Error showing connect screen: ${n}`)}},showIdleScreen:async function(){try{if(r.getIsProductionMachine()){let e="import Display\n";e+="Display.showIdleScreen()",await n.execAsync(`sudo python -u -B -c "${e}"`)}}catch(n){e.error(`Error showing idle screen: ${n}`)}}};c.addListener("program-running",(async e=>{e||await i.showIdleScreen()})),c.addListener("client-connected",(async e=>{1==e&&await i.showIdleScreen()})),c.addListener("client-disconnected",(async e=>{e<=0&&await i.showConnectScreen()})),module.exports=i}();