const _0x416f=['os.chdir(\x27./app/filesystem/','blockly-console-output','sockets','lastIndexOf','StartProgram','console-output','Blockly\x20Program\x20is\x20now\x20running','autonomous','imp.load_source(\x27util\x27,\x20r\x27','pipe','Program\x20is\x20now\x20stopped','kill','../utils/logger','Program\x20is\x20now\x20running','1182257fedmhE','stderr','python','StopProgram','child_process','1437250DYRxHL','2JqrPCy','No\x20Program\x20Running','1eUlFXI','exports','stdin','import\x20os\x0a','KillProgram','program-running','resolve','fusion_program_running','exec','data','sudo\x20netstat\x20-panp\x20|\x20grep\x205000\x20|\x20grep\x20LISTEN','1DcWMoP','win32','substring','platform','stdout','fusion_gamepad_available','sendInput','write','/Blockly\x27)\x0a','/Editor\x27)\x0a','1448501aRezBT','SocketId','SocketVariables','import\x20imp\x0a','verbose','close','839318AhvrvT','>\x20Program\x20Finished!','Cannot\x20stop\x20another\x20user\x27s\x20program.','shelljs','Cannot\x20stop\x20another\x20user\x20program','1064402ZjTFyt','../socket','gamepad-available','emit','User','544401lQGnTQ','../global/fusionSettings','SIGINT','Program\x20already\x20running','1421993TPKfaY'];const _0x538694=_0x99dc;(function(_0x3aebc1,_0x56e0fe){const _0x4e4851=_0x99dc;while(!![]){try{const _0x2bb772=parseInt(_0x4e4851(0x1e8))+-parseInt(_0x4e4851(0x1ed))+parseInt(_0x4e4851(0x1d5))+-parseInt(_0x4e4851(0x1f0))*-parseInt(_0x4e4851(0x1c5))+-parseInt(_0x4e4851(0x1d9))*parseInt(_0x4e4851(0x1fb))+-parseInt(_0x4e4851(0x1ee))*-parseInt(_0x4e4851(0x1cb))+-parseInt(_0x4e4851(0x1d0));if(_0x2bb772===_0x56e0fe)break;else _0x3aebc1['push'](_0x3aebc1['shift']());}catch(_0x1413ce){_0x3aebc1['push'](_0x3aebc1['shift']());}}}(_0x416f,0xe3166));function _0x99dc(_0x154fcc,_0x21d656){return _0x99dc=function(_0x416f25,_0x99dc02){_0x416f25=_0x416f25-0x1c2;let _0x5be67e=_0x416f[_0x416f25];return _0x5be67e;},_0x99dc(_0x154fcc,_0x21d656);}const logger=require(_0x538694(0x1e6)),io=require(_0x538694(0x1d1)),FusionSettings=require(_0x538694(0x1d6)),spawn=require(_0x538694(0x1ec))['spawn'],shell=require(_0x538694(0x1ce)),os=require('os'),path=require('path');let python_process=null;module[_0x538694(0x1f1)]=function(){const _0x1131e2=_0x538694;var _0x5f39a7=function(){};_0x5f39a7[_0x1131e2(0x1de)]=function(_0x1ad9da,_0x5b2a30,_0x402c7c){const _0x3b6fa1=_0x1131e2;if(!FusionSettings[_0x3b6fa1(0x1c7)][_0x3b6fa1(0x1f7)])return FusionSettings[_0x3b6fa1(0x1c7)][_0x3b6fa1(0x1f7)]={'Code':null,'Program':_0x5b2a30,'SocketId':_0x402c7c,'User':_0x1ad9da},_0x7dad4d(_0x5b2a30,_0x1ad9da),logger['verbose'](_0x3b6fa1(0x1e7)),{'status':0xc8,'message':'Program\x20is\x20now\x20running'};else{if(FusionSettings[_0x3b6fa1(0x1c7)][_0x3b6fa1(0x1f7)][_0x3b6fa1(0x1d4)]==_0x1ad9da||FusionSettings[_0x3b6fa1(0x1c7)][_0x3b6fa1(0x1f7)][_0x3b6fa1(0x1c6)]==_0x3b6fa1(0x1e1)){try{python_process['kill']('SIGINT');}catch(_0x1f08c7){}return FusionSettings[_0x3b6fa1(0x1c7)]['fusion_program_running']={'Code':null,'Program':_0x5b2a30,'SocketId':_0x402c7c,'User':_0x1ad9da},_0x7dad4d(_0x5b2a30,_0x1ad9da),logger[_0x3b6fa1(0x1c9)](_0x3b6fa1(0x1e7)),{'status':0xc8,'message':_0x3b6fa1(0x1e7)};}else return logger[_0x3b6fa1(0x1c9)]('Program\x20already\x20running'),{'status':0x1f4,'message':_0x3b6fa1(0x1d8)};}},_0x5f39a7[_0x1131e2(0x1eb)]=function(_0x1665db){const _0xfe836=_0x1131e2;if(FusionSettings['SocketVariables'][_0xfe836(0x1f7)]){if(FusionSettings[_0xfe836(0x1c7)][_0xfe836(0x1f7)][_0xfe836(0x1d4)]==_0x1665db||FusionSettings[_0xfe836(0x1c7)][_0xfe836(0x1f7)][_0xfe836(0x1c6)]==_0xfe836(0x1e1)){FusionSettings[_0xfe836(0x1c7)][_0xfe836(0x1f7)]=null;try{python_process[_0xfe836(0x1e5)](_0xfe836(0x1d7));}catch(_0x189ad5){}return logger['verbose'](_0xfe836(0x1e4)),{'status':0xc8,'message':'Program\x20Successfully\x20Stopped'};}else return logger[_0xfe836(0x1c9)](_0xfe836(0x1cf)),{'status':0x1f4,'message':_0xfe836(0x1cd)};}else return logger[_0xfe836(0x1c9)]('No\x20program\x20running'),{'status':0x1f4,'message':_0xfe836(0x1ef)};},_0x5f39a7[_0x1131e2(0x1f4)]=function(){const _0x3fa18b=_0x1131e2;FusionSettings[_0x3fa18b(0x1c7)][_0x3fa18b(0x1f7)]=null;try{python_process[_0x3fa18b(0x1e5)]('SIGINT');}catch(_0x336746){}logger[_0x3fa18b(0x1c9)](_0x3fa18b(0x1e4));},_0x5f39a7['StartBlocklyProgram']=function(_0x18a995,_0xb04087,_0x2cbfd7){const _0xd217dc=_0x1131e2;if(!FusionSettings[_0xd217dc(0x1c7)]['fusion_program_running'])return FusionSettings[_0xd217dc(0x1c7)][_0xd217dc(0x1f7)]={'Code':_0x18a995,'Program':null,'SocketId':_0x2cbfd7,'User':_0xb04087},_0x1da0c6(_0x18a995,_0xb04087),logger[_0xd217dc(0x1c9)](_0xd217dc(0x1e0)),{'status':0xc8,'message':'Blockly\x20Program\x20is\x20now\x20running'};else{if(FusionSettings['SocketVariables'][_0xd217dc(0x1f7)][_0xd217dc(0x1d4)]==_0xb04087||FusionSettings['SocketVariables']['fusion_program_running']['SocketId']=='autonomous'){try{python_process['kill']('SIGINT');}catch(_0x2f16fe){}return FusionSettings[_0xd217dc(0x1c7)][_0xd217dc(0x1f7)]={'Code':_0x18a995,'Program':null,'SocketId':_0x2cbfd7,'User':_0xb04087},_0x1da0c6(_0x18a995,_0xb04087),logger[_0xd217dc(0x1c9)](_0xd217dc(0x1e0)),{'status':0xc8,'message':'Blockly\x20Program\x20is\x20now\x20running'};}else return logger[_0xd217dc(0x1c9)]('Program\x20already\x20running'),{'status':0x1f4,'message':_0xd217dc(0x1d8)};}},_0x5f39a7[_0x1131e2(0x201)]=function(_0x433839){const _0x652eef=_0x1131e2;python_process[_0x652eef(0x1f2)][_0x652eef(0x1c2)](_0x433839+'\x0a');};function _0x7dad4d(_0x20ca70,_0x2324a5){const _0x35e09d=_0x1131e2;let _0xdb0592=_0x35e09d(0x1f3)+(_0x35e09d(0x1da)+_0x2324a5+_0x35e09d(0x1c4))+_0x35e09d(0x1c8)+(_0x35e09d(0x1e2)+path[_0x35e09d(0x1f6)](_0x20ca70)+'\x27)');python_process=spawn(_0x35e09d(0x1ea),['-u','-B','-c',_0xdb0592],{'stdio':'pipe'}),io[_0x35e09d(0x1dc)][_0x35e09d(0x1d3)](_0x35e09d(0x1f5),FusionSettings[_0x35e09d(0x1c7)][_0x35e09d(0x1f7)]),_0x4397d3(),python_process[_0x35e09d(0x1ff)]['on'](_0x35e09d(0x1f9),function(_0x543117){const _0x1353fd=_0x35e09d;logger[_0x1353fd(0x1c9)](String(_0x543117)[_0x1353fd(0x1fd)](0x0,_0x543117[_0x1353fd(0x1dd)]('\x0a'))),io[_0x1353fd(0x1d3)]('console-output',{'output':String(_0x543117)});}),python_process[_0x35e09d(0x1e9)]['on']('data',function(_0x1c259a){const _0x408184=_0x35e09d;logger[_0x408184(0x1c9)](String(_0x1c259a)['substring'](0x0,_0x1c259a[_0x408184(0x1dd)]('\x0a'))),io['emit'](_0x408184(0x1df),{'output':String(_0x1c259a)}),io['sockets'][_0x408184(0x1d3)](_0x408184(0x1f5),FusionSettings[_0x408184(0x1c7)][_0x408184(0x1f7)]),io[_0x408184(0x1dc)][_0x408184(0x1d3)]('gamepad-available',![]);}),python_process['stdout']['on'](_0x35e09d(0x1ca),function(_0x4089ff){const _0x3e2f80=_0x35e09d;FusionSettings[_0x3e2f80(0x1c7)][_0x3e2f80(0x1f7)]=null,logger[_0x3e2f80(0x1c9)](String(_0x3e2f80(0x1cc))),io[_0x3e2f80(0x1d3)](_0x3e2f80(0x1df),{'output':String('>\x20Program\x20Finished!\x0a')}),io[_0x3e2f80(0x1dc)][_0x3e2f80(0x1d3)]('program-running',FusionSettings['SocketVariables'][_0x3e2f80(0x1f7)]),io[_0x3e2f80(0x1dc)]['emit'](_0x3e2f80(0x1d2),![]);});}function _0x1da0c6(_0x1a8235,_0x47d7f4){const _0x1ff60a=_0x1131e2;let _0x561d0b=_0x1ff60a(0x1f3)+(_0x1ff60a(0x1da)+_0x47d7f4+_0x1ff60a(0x1c3))+'import\x20imp\x0a'+(''+_0x1a8235);os[_0x1ff60a(0x1fe)]()!=_0x1ff60a(0x1fc)?python_process=spawn(_0x1ff60a(0x1ea),['-u','-B','-c',_0x561d0b],{'stdio':_0x1ff60a(0x1e3)}):python_process=spawn(_0x1ff60a(0x1ea),['-u','-B','-c',_0x561d0b],{'stdio':'pipe'}),io[_0x1ff60a(0x1dc)][_0x1ff60a(0x1d3)](_0x1ff60a(0x1f5),FusionSettings[_0x1ff60a(0x1c7)][_0x1ff60a(0x1f7)]),_0x4397d3(),python_process['stdout']['on'](_0x1ff60a(0x1f9),function(_0x5f4daa){const _0x5291d7=_0x1ff60a;logger[_0x5291d7(0x1c9)](String(_0x5f4daa)[_0x5291d7(0x1fd)](0x0,_0x5f4daa[_0x5291d7(0x1dd)]('\x0a'))),io[_0x5291d7(0x1d3)](_0x5291d7(0x1db),{'output':String(_0x5f4daa)});}),python_process[_0x1ff60a(0x1e9)]['on'](_0x1ff60a(0x1f9),function(_0x414cdf){const _0x2047ca=_0x1ff60a;logger[_0x2047ca(0x1c9)](String(_0x414cdf)['substring'](0x0,_0x414cdf[_0x2047ca(0x1dd)]('\x0a'))),io[_0x2047ca(0x1d3)](_0x2047ca(0x1db),{'output':String(_0x414cdf)}),io[_0x2047ca(0x1dc)]['emit'](_0x2047ca(0x1f5),FusionSettings[_0x2047ca(0x1c7)][_0x2047ca(0x1f7)]),io[_0x2047ca(0x1dc)]['emit']('gamepad-available',![]);}),python_process[_0x1ff60a(0x1ff)]['on'](_0x1ff60a(0x1ca),function(_0x318d81){const _0x4626dc=_0x1ff60a;FusionSettings['SocketVariables'][_0x4626dc(0x1f7)]=null,logger[_0x4626dc(0x1c9)](String(_0x4626dc(0x1cc))),io['emit'](_0x4626dc(0x1db),{'output':String('>\x20Program\x20Finished!\x0a')}),io[_0x4626dc(0x1dc)]['emit'](_0x4626dc(0x1f5),FusionSettings[_0x4626dc(0x1c7)]['fusion_program_running']),io['sockets']['emit'](_0x4626dc(0x1d2),![]);});}function _0x4397d3(){const _0x22cdd8=_0x1131e2;os[_0x22cdd8(0x1fe)]()!=_0x22cdd8(0x1fc)&&setTimeout(function(){const _0x5db160=_0x22cdd8;var _0x1f7459=shell[_0x5db160(0x1f8)](_0x5db160(0x1fa),{'silent':!![]})['stdout'];if(!_0x1f7459)FusionSettings['SocketVariables'][_0x5db160(0x200)]=![];else FusionSettings[_0x5db160(0x1c7)][_0x5db160(0x200)]=!![];io[_0x5db160(0x1dc)]['emit'](_0x5db160(0x1d2),FusionSettings[_0x5db160(0x1c7)][_0x5db160(0x200)]);},0x3e8);}return _0x5f39a7;}();