var _0x1368=['/api/admin/wirelessSettings','join','etc','ssid_set.py','python','pipe','stderr','log','Successfully\x20changed\x20wifi\x20settings','/api/admin/wirelessConnections','win32','scan','wlan1','Retreived\x20wireless\x20connections','post','country=US\x0a\x0a','network={\x0a','\x09scan_ssid=1\x0a','\x09psk=\x22','\x09key_mgmt=WPA-PSK\x0a','}\x0a\x0a','exec','wpa_passphrase\x20\x22','\x22\x20\x22','stdout','\x20\x20\x20\x20ssid=\x22','\x20\x20\x20\x20key_mgmt=NONE\x0a','hiddenNetwork','writeFile','/etc/wpa_supplicant/wpa_supplicant.conf','4WAY_HANDSHAKE','AUTHENTICATING','DISCONNECTED','Ip\x20address:\x20','SocketVariables','sockets','emit','wifi-connection','Connected\x20to\x20','\x20successfully','Took\x20too\x20long\x20to\x20connect.\x20Something\x20must\x20be\x20wrong.','Error\x20connecting\x20to\x20','indexOf','wpa_state','/api/admin/wirelessConnections/disconnect','Disconnect\x20not\x20available\x20on\x20Windows','ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a','update_config=1\x0a','sudo\x20wpa_cli\x20-i\x20wlan1\x20reconfigure','INACTIVE','Error\x20disconnecting','/api/admin/crashReport','readdir','Error\x20reading\x20crash\x20file','setHeader','attachment;\x20filename=','No\x20crash\x20files\x20found','/api/diagnostics/start','../../diagnostics/runRemi.sh','data','fusion_diagnostics_running','socketId','diagnostics_running','Error\x20starting\x20diagnostic\x20tool','Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','trim','Unable\x20to\x20stop\x20diagnostic\x20tool','Diagnostic\x20tool\x20stopped\x20successfully','isAuthenticated','User\x20Unauthenticated','mkdirp','path','shelljs','wireless-tools/iwlist','wireless-tools/wpa_supplicant','child_process','exports','/api/admin/users','findOne','body','username','status','send','password','generateHash','filepath','generateFileSystem','save','User\x20created!','get','json','Shut\x20Down\x20Commencing','spawn','sudo','/api/admin/restart','reboot','EOL','platform','../../etc/hostapd.conf','readFile','utf8','split','length','SSID','wpa_passphrase','Password','/etc/hostapd/hostapd.conf','Wifi\x20file\x20not\x20found','ssid'];(function(_0x82ffb9,_0x2bf9ef){var _0x46d509=function(_0x6824c7){while(--_0x6824c7){_0x82ffb9['push'](_0x82ffb9['shift']());}};_0x46d509(++_0x2bf9ef);}(_0x1368,0x123));var _0x8b48=function(_0x2699a9,_0x501e82){_0x2699a9=_0x2699a9-0x0;var _0x5b6c40=_0x1368[_0x2699a9];return _0x5b6c40;};var fs=require('fs');var mkdirp=require(_0x8b48('0x0'));var os=require('os');var path=require(_0x8b48('0x1'));var shell=require(_0x8b48('0x2'));var wpa_cli=require('wireless-tools/wpa_cli');var iwlist=require(_0x8b48('0x3'));var wpa_supplicant=require(_0x8b48('0x4'));var spawn=require(_0x8b48('0x5'))['spawn'];module[_0x8b48('0x6')]=function(_0x512191,_0x2cd299,_0x5944f7,_0x355ea7,_0x19a4aa){_0x512191['post'](_0x8b48('0x7'),_0xa73eed(),function(_0x5ab0fa,_0x50d228){_0x2cd299[_0x8b48('0x8')]({'username':_0x5ab0fa[_0x8b48('0x9')][_0x8b48('0xa')]},function(_0x36be6d,_0x33eb44){if(_0x36be6d)return _0x50d228[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x36be6d);if(_0x33eb44){return _0x50d228['status'](0x1f4)[_0x8b48('0xc')]('Username\x20already\x20taken.');}else{var _0x5cd6ad=new _0x2cd299(_0x5ab0fa[_0x8b48('0x9')]);_0x5cd6ad['username']=_0x5ab0fa['body'][_0x8b48('0xa')];_0x5cd6ad[_0x8b48('0xd')]=_0x5cd6ad[_0x8b48('0xe')](_0x5ab0fa['body'][_0x8b48('0xd')]);_0x5cd6ad[_0x8b48('0xf')]=_0x5cd6ad[_0x8b48('0x10')](_0x5cd6ad[_0x8b48('0xa')]);_0x5cd6ad[_0x8b48('0x11')](function(_0x26f32d){if(_0x26f32d)return _0x50d228[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x26f32d);return _0x50d228[_0x8b48('0xb')](0xc8)['json']({'serverMessage':_0x8b48('0x12')});});}});});_0x512191[_0x8b48('0x13')]('/api/admin/powerOff',function(_0x4dd46f,_0x16d84c){_0x16d84c['status'](0xc8)[_0x8b48('0x14')]({'serverMessage':_0x8b48('0x15')});var _0x1051a2=require(_0x8b48('0x5'))[_0x8b48('0x16')];var _0x321b29=_0x1051a2(_0x8b48('0x17'),['poweroff']);});_0x512191[_0x8b48('0x13')](_0x8b48('0x18'),function(_0x26f365,_0x526299){_0x526299['status'](0xc8)[_0x8b48('0xc')]('Restart\x20Commencing');var _0x17ff9e=require('child_process')[_0x8b48('0x16')];var _0x1f63b0=_0x17ff9e(_0x8b48('0x17'),[_0x8b48('0x19')]);});_0x512191[_0x8b48('0x13')]('/api/admin/wirelessSettings',function(_0x9d97ec,_0x15c43f){var _0x337cb9;var _0x4e7630=require('os')[_0x8b48('0x1a')];var _0x4585db;var _0xbfe606;var _0x43d4f5={};if(os[_0x8b48('0x1b')]()=='win32'){_0x337cb9=_0x8b48('0x1c');fs[_0x8b48('0x1d')](_0x337cb9,_0x8b48('0x1e'),function(_0x29b5b4,_0x20bda2){if(_0x29b5b4)_0x15c43f[_0x8b48('0xb')](0x1f4)['send']('Wifi\x20file\x20not\x20found');_0x4585db=_0x20bda2[_0x8b48('0x1f')]('\x0a');for(var _0xf513b3=0x0;_0xf513b3<_0x4585db[_0x8b48('0x20')];_0xf513b3++){_0xbfe606=_0x4585db[_0xf513b3][_0x8b48('0x1f')]('=');if(_0xbfe606[0x0]=='ssid')_0x43d4f5[_0x8b48('0x21')]=_0xbfe606[0x1];else if(_0xbfe606[0x0]==_0x8b48('0x22'))_0x43d4f5[_0x8b48('0x23')]=_0xbfe606[0x1];}_0x15c43f[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'SSID':_0x43d4f5[_0x8b48('0x21')],'Password':_0x43d4f5[_0x8b48('0x23')]});});}else{_0x337cb9=_0x8b48('0x24');fs[_0x8b48('0x1d')](_0x337cb9,_0x8b48('0x1e'),function(_0x3b0924,_0x342236){if(_0x3b0924)_0x15c43f[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x8b48('0x25'));_0x4585db=_0x342236[_0x8b48('0x1f')](_0x4e7630);for(var _0x4cbca0=0x0;_0x4cbca0<_0x4585db[_0x8b48('0x20')];_0x4cbca0++){_0xbfe606=_0x4585db[_0x4cbca0][_0x8b48('0x1f')]('=');if(_0xbfe606[0x0]==_0x8b48('0x26'))_0x43d4f5[_0x8b48('0x21')]=_0xbfe606[0x1];else if(_0xbfe606[0x0]=='wpa_passphrase')_0x43d4f5[_0x8b48('0x23')]=_0xbfe606[0x1];}_0x15c43f[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'SSID':_0x43d4f5[_0x8b48('0x21')],'Password':_0x43d4f5[_0x8b48('0x23')]});});}});_0x512191['post'](_0x8b48('0x27'),function(_0x20f3d8,_0x3103bc){try{var _0x2d11cf;var _0xb03417;var _0x16915f=path[_0x8b48('0x28')]('..','..',_0x8b48('0x29'),_0x8b48('0x2a'));if(_0x20f3d8['body']['ssid']==null&&_0x20f3d8['body'][_0x8b48('0xd')]==null)_0xb03417=[_0x8b48('0x2b'),_0x16915f,'-d'];else _0xb03417=[_0x8b48('0x2b'),_0x16915f,'-s',_0x20f3d8['body'][_0x8b48('0x26')],'-p',_0x20f3d8[_0x8b48('0x9')][_0x8b48('0xd')]];var _0x41d7aa=require('child_process')[_0x8b48('0x16')];python_process=_0x41d7aa(_0x8b48('0x17'),_0xb03417,{'stdio':_0x8b48('0x2c')});python_process[_0x8b48('0x2d')]['on']('data',function(_0x355949){console[_0x8b48('0x2e')](String(_0x355949));_0x2d11cf=String(_0x355949);});python_process['stdout']['on']('close',function(_0x302483){if(_0x2d11cf)return _0x3103bc[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x2d11cf);else return _0x3103bc[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':_0x8b48('0x2f')});});}catch(_0x4a6295){console['log'](_0x4a6295);return _0x3103bc[_0x8b48('0xb')](0x1f4)['send'](_0x4a6295);}});_0x512191['get'](_0x8b48('0x30'),function(_0x26e4d4,_0x482626){if(os[_0x8b48('0x1b')]()==_0x8b48('0x31')){return _0x482626[_0x8b48('0xb')](0xc8)[_0x8b48('0xc')]();}else{iwlist[_0x8b48('0x32')](_0x8b48('0x33'),function(_0x19f58f,_0x56c84a){if(_0x19f58f)return _0x482626['status'](0x1f4)[_0x8b48('0xc')]('Wireless\x20interface\x20not\x20found');else return _0x482626[_0x8b48('0xb')](0xc8)[_0x8b48('0xc')]({'serverMessage':_0x8b48('0x34'),'data':_0x56c84a});});}});_0x512191[_0x8b48('0x35')](_0x8b48('0x30'),function(_0xe9626a,_0x14d1c1){var _0x53d638=undefined;var _0x8ffb82='ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a'+'update_config=1\x0a'+_0x8b48('0x36');var _0x35b57=_0x8b48('0x37')+'\x09ssid=\x22'+_0xe9626a[_0x8b48('0x9')][_0x8b48('0x26')]+'\x22\x0a'+_0x8b48('0x38')+_0x8b48('0x39')+_0xe9626a[_0x8b48('0x9')][_0x8b48('0xd')]+'\x22\x0a'+_0x8b48('0x3a')+_0x8b48('0x3b');if(_0xe9626a[_0x8b48('0x9')][_0x8b48('0xd')]){_0x53d638=shell[_0x8b48('0x3c')](_0x8b48('0x3d')+_0xe9626a[_0x8b48('0x9')]['ssid']+_0x8b48('0x3e')+_0xe9626a[_0x8b48('0x9')]['password']+'\x22',{'silent':!![]})[_0x8b48('0x3f')];}else{_0x53d638=_0x8b48('0x37')+_0x8b48('0x40')+_0xe9626a[_0x8b48('0x9')][_0x8b48('0x26')]+'\x22\x0a'+_0x8b48('0x41')+'}\x0a';}let _0x810d6f='';if(_0xe9626a[_0x8b48('0x9')][_0x8b48('0x42')])_0x810d6f=_0x8ffb82+_0x35b57;else _0x810d6f=_0x8ffb82+_0x53d638;fs[_0x8b48('0x43')](_0x8b48('0x44'),_0x810d6f,function(_0x9e8437){if(_0x9e8437)return _0x14d1c1[_0x8b48('0xb')](0x1f4)['send'](_0x9e8437);shell[_0x8b48('0x3c')]('sudo\x20wpa_cli\x20-i\x20wlan1\x20reconfigure',{'silent':!![]});const _0x4327fa=0x3a98;var _0x175995=0x12c;var _0x549b01=0x0;var _0x3998c9=setInterval(function(){var _0xe75f6a=['SCANNING',_0x8b48('0x45'),_0x8b48('0x46'),_0x8b48('0x47'),'ASSOCIATING'];wpa_cli['status']('wlan1',function(_0x31b9de,_0x520115){if(_0x31b9de)return _0x14d1c1[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x31b9de);if(_0x520115['wpa_state']=='COMPLETED'){if(_0x520115['ip']){console[_0x8b48('0x2e')](_0x8b48('0x48')+_0x520115['ip']+'\x20assigned');clearInterval(_0x3998c9);_0x19a4aa[_0x8b48('0x49')]['fusion_wifi_access']=_0x520115;_0x355ea7[_0x8b48('0x4a')][_0x8b48('0x4b')](_0x8b48('0x4c'),_0x520115);return _0x14d1c1['status'](0xc8)[_0x8b48('0x14')]({'serverMessage':_0x8b48('0x4d')+_0xe9626a[_0x8b48('0x9')]['ssid']+_0x8b48('0x4e')});}else if(_0x549b01>_0x4327fa){console[_0x8b48('0x2e')](_0x8b48('0x4f'));clearInterval(_0x3998c9);return _0x14d1c1[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x8b48('0x50')+_0xe9626a[_0x8b48('0x9')][_0x8b48('0x26')]);}_0x549b01+=_0x175995;}else if(_0xe75f6a[_0x8b48('0x51')](_0x520115[_0x8b48('0x52')])==-0x1){clearInterval(_0x3998c9);_0x355ea7[_0x8b48('0x4a')][_0x8b48('0x4b')](_0x8b48('0x4c'),_0x520115);return _0x14d1c1[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x8b48('0x50')+_0xe9626a[_0x8b48('0x9')][_0x8b48('0x26')]);}});},_0x175995);});});_0x512191[_0x8b48('0x13')](_0x8b48('0x53'),function(_0x592492,_0x4745bb){if(os[_0x8b48('0x1b')]()==_0x8b48('0x31')){_0x4745bb[_0x8b48('0xb')](0x1f4)['send'](_0x8b48('0x54'));}else{var _0x20249b=_0x8b48('0x55')+_0x8b48('0x56')+_0x8b48('0x36');fs[_0x8b48('0x43')](_0x8b48('0x44'),_0x20249b,function(_0x17125d){if(_0x17125d)return _0x4745bb[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x17125d);shell[_0x8b48('0x3c')](_0x8b48('0x57'),{'silent':!![]});var _0x465fa1=setInterval(function(){var _0x31d5a2=[];wpa_cli['status'](_0x8b48('0x33'),function(_0x308af5,_0xf5c5bc){if(_0x308af5)return _0x4745bb[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x308af5);_0x19a4aa[_0x8b48('0x49')]['fusion_wifi_access']=_0xf5c5bc;_0x355ea7[_0x8b48('0x4a')][_0x8b48('0x4b')](_0x8b48('0x4c'),_0xf5c5bc);if(_0xf5c5bc[_0x8b48('0x52')]==_0x8b48('0x47')||_0xf5c5bc[_0x8b48('0x52')]==_0x8b48('0x58')){clearInterval(_0x465fa1);_0x355ea7['sockets'][_0x8b48('0x4b')](_0x8b48('0x4c'),_0xf5c5bc);return _0x4745bb[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':'Disconnected\x20successfully'});}else if(connectingStatuses[_0x8b48('0x51')](_0xf5c5bc[_0x8b48('0x52')])==-0x1){clearInterval(_0x465fa1);_0x355ea7[_0x8b48('0x4a')]['emit']('wifi-connection',_0xf5c5bc);return _0x4745bb['status'](0x1f4)[_0x8b48('0xc')](_0x8b48('0x59'));}});},0x12c);});}});_0x512191[_0x8b48('0x13')](_0x8b48('0x5a'),function(_0x509da2,_0x3ff02f){var _0x2a8ec8='.crash';fs[_0x8b48('0x5b')](_0x2a8ec8,function(_0x1fcddc,_0x31cc7f){if(_0x1fcddc)return _0x3ff02f[_0x8b48('0xb')](0x1f4)[_0x8b48('0xc')](_0x1fcddc);if(_0x31cc7f[_0x8b48('0x20')]>0x0){fs[_0x8b48('0x1d')](_0x2a8ec8+'/'+_0x31cc7f[0x0],'utf8',function(_0x9990b3,_0x5bcc07){if(_0x9990b3)return status(0x1f4)['send'](_0x8b48('0x5c'));_0x3ff02f[_0x8b48('0x5d')]('Content-disposition',_0x8b48('0x5e')+_0x31cc7f[0x0]);return _0x3ff02f[_0x8b48('0xb')](0xc8)['download'](_0x2a8ec8+'/'+_0x31cc7f[0x0]);});}else{return _0x3ff02f[_0x8b48('0xb')](0xc8)[_0x8b48('0xc')](_0x8b48('0x5f'));}});});var _0x76fce8=null;_0x512191['post'](_0x8b48('0x60'),function(_0x134a84,_0x59ec01){if(os[_0x8b48('0x1b')]()!=_0x8b48('0x31')){_0x76fce8=spawn('sudo',['sh',_0x8b48('0x61'),'../../diagnostics/diagnosticGUI.py']);_0x76fce8['stdout']['on'](_0x8b48('0x62'),function(_0x410fee){console['log'](String(_0x410fee));});_0x76fce8[_0x8b48('0x2d')]['on'](_0x8b48('0x62'),function(_0x3b7806){console[_0x8b48('0x2e')](String(_0x3b7806));});var _0x5dd4da=0x1;var _0x1a7c67=0x3;var _0x4992ec=setInterval(function(){if(_0x5dd4da<=_0x1a7c67){var _0xed7a7e=shell[_0x8b48('0x3c')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x8b48('0x3f')];if(_0xed7a7e){clearInterval(_0x4992ec);_0x19a4aa['SocketVariables'][_0x8b48('0x63')]={'process':_0xed7a7e,'socket':_0x134a84[_0x8b48('0x9')][_0x8b48('0x64')]};_0x355ea7[_0x8b48('0x4a')][_0x8b48('0x4b')](_0x8b48('0x65'),_0x19a4aa[_0x8b48('0x49')][_0x8b48('0x63')]);return _0x59ec01[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':'Diagnostic\x20tool\x20started\x20successfully'});}else{_0x5dd4da++;}}else{clearInterval(_0x4992ec);return _0x59ec01['status'](0x1f4)[_0x8b48('0xc')](_0x8b48('0x66'));}},0x12c);}else{return _0x59ec01[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':_0x8b48('0x67')});}});_0x512191[_0x8b48('0x13')]('/api/diagnostics/stop',function(_0x2f1a39,_0x52d6e2){if(os['platform']()!=_0x8b48('0x31')){shell['exec']('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]});shell[_0x8b48('0x3c')](_0x8b48('0x68'),{'silent':!![]},function(_0x15a3c4,_0xa2ae8e,_0x1d23bb){(function(_0x567cf5){var _0x85f0d7=_0x567cf5[_0x8b48('0x69')]();if(_0x85f0d7){return _0x52d6e2[_0x8b48('0xb')](0x1f4)['send'](_0x8b48('0x6a'));}else{_0x19a4aa[_0x8b48('0x49')][_0x8b48('0x63')]=null;_0x355ea7[_0x8b48('0x4a')][_0x8b48('0x4b')](_0x8b48('0x65'),_0x19a4aa[_0x8b48('0x49')][_0x8b48('0x63')]);_0x76fce8=null;return _0x52d6e2[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':_0x8b48('0x6b')});}}(_0xa2ae8e[_0x8b48('0x69')]()));});}else{return _0x52d6e2[_0x8b48('0xb')](0xc8)[_0x8b48('0x14')]({'serverMessage':'Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows'});}});function _0xa73eed(){return function(_0x24007c,_0x278bd2,_0x3ca700){if(_0x24007c[_0x8b48('0x6c')]()){return _0x3ca700();}else{_0x278bd2[_0x8b48('0xb')](0x191)['send'](_0x8b48('0x6d'));}};}};