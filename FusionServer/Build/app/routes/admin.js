var _0x54b1=['/etc/wpa_supplicant/wpa_supplicant.conf','sudo\x20wpa_cli\x20-i\x20wlan1\x20reconfigure','SCANNING','4WAY_HANDSHAKE','DISCONNECTED','ASSOCIATING','wlan1','wpa_state','COMPLETED','Ip\x20address:\x20','\x20assigned','SocketVariables','wifi-connection','\x20successfully','Took\x20too\x20long\x20to\x20connect.\x20Something\x20must\x20be\x20wrong.','Error\x20connecting\x20to\x20','indexOf','sockets','/api/admin/wirelessConnections/disconnect','Disconnect\x20not\x20available\x20on\x20Windows','emit','INACTIVE','Disconnected\x20successfully','Error\x20disconnecting','/api/admin/crashReport','.crash','readdir','length','Error\x20reading\x20crash\x20file','setHeader','Content-disposition','attachment;\x20filename=','download','/api/diagnostics/start','../../diagnostics/runRemi.sh','../../diagnostics/diagnosticGUI.py','exec','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','fusion_diagnostics_running','socketId','diagnostics_running','Error\x20starting\x20diagnostic\x20tool','Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows','/api/diagnostics/stop','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','trim','Unable\x20to\x20stop\x20diagnostic\x20tool','Diagnostic\x20tool\x20stopped\x20successfully','isAuthenticated','User\x20Unauthenticated','mkdirp','path','wireless-tools/wpa_cli','wireless-tools/iwlist','child_process','exports','post','/api/admin/users','findOne','body','send','status','Username\x20already\x20taken.','username','generateHash','password','filepath','generateFileSystem','save','json','User\x20created!','/api/admin/powerOff','Shut\x20Down\x20Commencing','spawn','sudo','poweroff','get','/api/admin/restart','reboot','EOL','platform','readFile','utf8','Wifi\x20file\x20not\x20found','split','SSID','wpa_passphrase','Password','/etc/hostapd/hostapd.conf','ssid','/api/admin/wirelessSettings','join','ssid_set.py','python','pipe','stderr','data','log','stdout','close','/api/admin/wirelessConnections','win32','scan','Retreived\x20wireless\x20connections','ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a','country=US\x0a\x0a','network={\x0a','\x09ssid=\x22','\x09scan_ssid=1\x0a','\x09psk=\x22','\x09key_mgmt=WPA-PSK\x0a','}\x0a\x0a','wpa_passphrase\x20\x22','\x22\x20\x22','\x20\x20\x20\x20ssid=\x22','\x20\x20\x20\x20key_mgmt=NONE\x0a','hiddenNetwork','writeFile'];(function(_0x5d5fe0,_0x3869d0){var _0x4b759f=function(_0xd66192){while(--_0xd66192){_0x5d5fe0['push'](_0x5d5fe0['shift']());}};_0x4b759f(++_0x3869d0);}(_0x54b1,0x11e));var _0x1140=function(_0x43d54f,_0x5628e4){_0x43d54f=_0x43d54f-0x0;var _0x3fdafb=_0x54b1[_0x43d54f];return _0x3fdafb;};var fs=require('fs');var mkdirp=require(_0x1140('0x0'));var os=require('os');var path=require(_0x1140('0x1'));var shell=require('shelljs');var wpa_cli=require(_0x1140('0x2'));var iwlist=require(_0x1140('0x3'));var wpa_supplicant=require('wireless-tools/wpa_supplicant');var spawn=require(_0x1140('0x4'))['spawn'];module[_0x1140('0x5')]=function(_0x4a40a9,_0x2bd8e8,_0xeb03de,_0x5dfd84,_0x127a18){_0x4a40a9[_0x1140('0x6')](_0x1140('0x7'),_0x277d76(),function(_0x55d4aa,_0x3e2989){_0x2bd8e8[_0x1140('0x8')]({'username':_0x55d4aa[_0x1140('0x9')]['username']},function(_0xb5a211,_0x1734d9){if(_0xb5a211)return _0x3e2989['status'](0x1f4)[_0x1140('0xa')](_0xb5a211);if(_0x1734d9){return _0x3e2989[_0x1140('0xb')](0x1f4)['send'](_0x1140('0xc'));}else{var _0x3ce3a7=new _0x2bd8e8(_0x55d4aa[_0x1140('0x9')]);_0x3ce3a7[_0x1140('0xd')]=_0x55d4aa[_0x1140('0x9')][_0x1140('0xd')];_0x3ce3a7['password']=_0x3ce3a7[_0x1140('0xe')](_0x55d4aa['body'][_0x1140('0xf')]);_0x3ce3a7[_0x1140('0x10')]=_0x3ce3a7[_0x1140('0x11')](_0x3ce3a7[_0x1140('0xd')]);_0x3ce3a7[_0x1140('0x12')](function(_0x1ab5da){if(_0x1ab5da)return _0x3e2989[_0x1140('0xb')](0x1f4)['send'](_0x1ab5da);return _0x3e2989['status'](0xc8)[_0x1140('0x13')]({'serverMessage':_0x1140('0x14')});});}});});_0x4a40a9['get'](_0x1140('0x15'),function(_0x39a64f,_0xa1218f){_0xa1218f[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'serverMessage':_0x1140('0x16')});var _0x2355f8=require(_0x1140('0x4'))[_0x1140('0x17')];var _0x47e2d0=_0x2355f8(_0x1140('0x18'),[_0x1140('0x19')]);});_0x4a40a9[_0x1140('0x1a')](_0x1140('0x1b'),function(_0x2037ab,_0x4d5c90){_0x4d5c90[_0x1140('0xb')](0xc8)['send']('Restart\x20Commencing');var _0x1c30fc=require(_0x1140('0x4'))[_0x1140('0x17')];var _0x52ec6c=_0x1c30fc('sudo',[_0x1140('0x1c')]);});_0x4a40a9['get']('/api/admin/wirelessSettings',function(_0x32403a,_0x220fbe){var _0x33ee01;var _0x513b9a=require('os')[_0x1140('0x1d')];var _0x5f43b8;var _0x119729;var _0x10c633={};if(os[_0x1140('0x1e')]()=='win32'){_0x33ee01='../../etc/hostapd.conf';fs[_0x1140('0x1f')](_0x33ee01,_0x1140('0x20'),function(_0x216c93,_0x43c08c){if(_0x216c93)_0x220fbe[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x1140('0x21'));_0x5f43b8=_0x43c08c[_0x1140('0x22')]('\x0a');for(var _0x105f07=0x0;_0x105f07<_0x5f43b8['length'];_0x105f07++){_0x119729=_0x5f43b8[_0x105f07]['split']('=');if(_0x119729[0x0]=='ssid')_0x10c633[_0x1140('0x23')]=_0x119729[0x1];else if(_0x119729[0x0]==_0x1140('0x24'))_0x10c633[_0x1140('0x25')]=_0x119729[0x1];}_0x220fbe[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'SSID':_0x10c633[_0x1140('0x23')],'Password':_0x10c633['Password']});});}else{_0x33ee01=_0x1140('0x26');fs[_0x1140('0x1f')](_0x33ee01,_0x1140('0x20'),function(_0x6eb5c4,_0x5c4ea8){if(_0x6eb5c4)_0x220fbe[_0x1140('0xb')](0x1f4)[_0x1140('0xa')]('Wifi\x20file\x20not\x20found');_0x5f43b8=_0x5c4ea8[_0x1140('0x22')](_0x513b9a);for(var _0x4d19e7=0x0;_0x4d19e7<_0x5f43b8['length'];_0x4d19e7++){_0x119729=_0x5f43b8[_0x4d19e7]['split']('=');if(_0x119729[0x0]==_0x1140('0x27'))_0x10c633[_0x1140('0x23')]=_0x119729[0x1];else if(_0x119729[0x0]==_0x1140('0x24'))_0x10c633['Password']=_0x119729[0x1];}_0x220fbe['status'](0xc8)[_0x1140('0x13')]({'SSID':_0x10c633[_0x1140('0x23')],'Password':_0x10c633[_0x1140('0x25')]});});}});_0x4a40a9[_0x1140('0x6')](_0x1140('0x28'),function(_0x51169b,_0x46219c){try{var _0x24250c;var _0x2f552d;var _0x25f054=path[_0x1140('0x29')]('..','..','etc',_0x1140('0x2a'));if(_0x51169b[_0x1140('0x9')]['ssid']==null&&_0x51169b['body'][_0x1140('0xf')]==null)_0x2f552d=[_0x1140('0x2b'),_0x25f054,'-d'];else _0x2f552d=[_0x1140('0x2b'),_0x25f054,'-s',_0x51169b[_0x1140('0x9')][_0x1140('0x27')],'-p',_0x51169b[_0x1140('0x9')][_0x1140('0xf')]];var _0x12f8c5=require(_0x1140('0x4'))[_0x1140('0x17')];python_process=_0x12f8c5(_0x1140('0x18'),_0x2f552d,{'stdio':_0x1140('0x2c')});python_process[_0x1140('0x2d')]['on'](_0x1140('0x2e'),function(_0x347c9e){console[_0x1140('0x2f')](String(_0x347c9e));_0x24250c=String(_0x347c9e);});python_process[_0x1140('0x30')]['on'](_0x1140('0x31'),function(_0x49d16b){if(_0x24250c)return _0x46219c[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x24250c);else return _0x46219c['status'](0xc8)[_0x1140('0x13')]({'serverMessage':'Successfully\x20changed\x20wifi\x20settings'});});}catch(_0x463e05){console[_0x1140('0x2f')](_0x463e05);return _0x46219c[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x463e05);}});_0x4a40a9[_0x1140('0x1a')](_0x1140('0x32'),function(_0x165d54,_0x460e46){if(os[_0x1140('0x1e')]()==_0x1140('0x33')){return _0x460e46[_0x1140('0xb')](0xc8)[_0x1140('0xa')]();}else{iwlist[_0x1140('0x34')]('wlan1',function(_0x381460,_0x3de642){if(_0x381460)return _0x460e46[_0x1140('0xb')](0x1f4)[_0x1140('0xa')]('Wireless\x20interface\x20not\x20found');else return _0x460e46[_0x1140('0xb')](0xc8)[_0x1140('0xa')]({'serverMessage':_0x1140('0x35'),'data':_0x3de642});});}});_0x4a40a9[_0x1140('0x6')]('/api/admin/wirelessConnections',function(_0x593acd,_0x292ca7){var _0x22564b=undefined;var _0x2706cd=_0x1140('0x36')+'update_config=1\x0a'+_0x1140('0x37');var _0x8d073b=_0x1140('0x38')+_0x1140('0x39')+_0x593acd[_0x1140('0x9')][_0x1140('0x27')]+'\x22\x0a'+_0x1140('0x3a')+_0x1140('0x3b')+_0x593acd[_0x1140('0x9')][_0x1140('0xf')]+'\x22\x0a'+_0x1140('0x3c')+_0x1140('0x3d');if(_0x593acd['body'][_0x1140('0xf')]){_0x22564b=shell['exec'](_0x1140('0x3e')+_0x593acd[_0x1140('0x9')][_0x1140('0x27')]+_0x1140('0x3f')+_0x593acd[_0x1140('0x9')]['password']+'\x22',{'silent':!![]})[_0x1140('0x30')];}else{_0x22564b=_0x1140('0x38')+_0x1140('0x40')+_0x593acd['body'][_0x1140('0x27')]+'\x22\x0a'+_0x1140('0x41')+'}\x0a';}let _0x240942='';if(_0x593acd[_0x1140('0x9')][_0x1140('0x42')])_0x240942=_0x2706cd+_0x8d073b;else _0x240942=_0x2706cd+_0x22564b;fs[_0x1140('0x43')](_0x1140('0x44'),_0x240942,function(_0x197b4c){if(_0x197b4c)return _0x292ca7[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x197b4c);shell['exec'](_0x1140('0x45'),{'silent':!![]});const _0x220b05=0x3a98;var _0x4dc901=0x12c;var _0x3d6f13=0x0;var _0x41b8a5=setInterval(function(){var _0x1a562d=[_0x1140('0x46'),_0x1140('0x47'),'AUTHENTICATING',_0x1140('0x48'),_0x1140('0x49')];wpa_cli['status'](_0x1140('0x4a'),function(_0x766179,_0x13d69d){if(_0x766179)return _0x292ca7[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x766179);if(_0x13d69d[_0x1140('0x4b')]==_0x1140('0x4c')){if(_0x13d69d['ip']){console[_0x1140('0x2f')](_0x1140('0x4d')+_0x13d69d['ip']+_0x1140('0x4e'));clearInterval(_0x41b8a5);_0x127a18[_0x1140('0x4f')]['fusion_wifi_access']=_0x13d69d;_0x5dfd84['sockets']['emit'](_0x1140('0x50'),_0x13d69d);return _0x292ca7[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'serverMessage':'Connected\x20to\x20'+_0x593acd[_0x1140('0x9')][_0x1140('0x27')]+_0x1140('0x51')});}else if(_0x3d6f13>_0x220b05){console['log'](_0x1140('0x52'));clearInterval(_0x41b8a5);return _0x292ca7[_0x1140('0xb')](0x1f4)['send'](_0x1140('0x53')+_0x593acd[_0x1140('0x9')]['ssid']);}_0x3d6f13+=_0x4dc901;}else if(_0x1a562d[_0x1140('0x54')](_0x13d69d['wpa_state'])==-0x1){clearInterval(_0x41b8a5);_0x5dfd84[_0x1140('0x55')]['emit']('wifi-connection',_0x13d69d);return _0x292ca7[_0x1140('0xb')](0x1f4)[_0x1140('0xa')]('Error\x20connecting\x20to\x20'+_0x593acd['body']['ssid']);}});},_0x4dc901);});});_0x4a40a9[_0x1140('0x1a')](_0x1140('0x56'),function(_0xb97725,_0x19e6c1){if(os[_0x1140('0x1e')]()==_0x1140('0x33')){_0x19e6c1['status'](0x1f4)[_0x1140('0xa')](_0x1140('0x57'));}else{var _0x126ff9='ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a'+'update_config=1\x0a'+_0x1140('0x37');fs[_0x1140('0x43')](_0x1140('0x44'),_0x126ff9,function(_0x1c92d6){if(_0x1c92d6)return _0x19e6c1[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x1c92d6);shell['exec'](_0x1140('0x45'),{'silent':!![]});var _0xb9a37c=setInterval(function(){var _0x1b8211=[];wpa_cli[_0x1140('0xb')](_0x1140('0x4a'),function(_0x5aeb0a,_0x42b53f){if(_0x5aeb0a)return _0x19e6c1[_0x1140('0xb')](0x1f4)['send'](_0x5aeb0a);_0x127a18[_0x1140('0x4f')]['fusion_wifi_access']=_0x42b53f;_0x5dfd84[_0x1140('0x55')][_0x1140('0x58')]('wifi-connection',_0x42b53f);if(_0x42b53f[_0x1140('0x4b')]==_0x1140('0x48')||_0x42b53f[_0x1140('0x4b')]==_0x1140('0x59')){clearInterval(_0xb9a37c);_0x5dfd84[_0x1140('0x55')][_0x1140('0x58')](_0x1140('0x50'),_0x42b53f);return _0x19e6c1[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'serverMessage':_0x1140('0x5a')});}else if(connectingStatuses[_0x1140('0x54')](_0x42b53f['wpa_state'])==-0x1){clearInterval(_0xb9a37c);_0x5dfd84[_0x1140('0x55')][_0x1140('0x58')](_0x1140('0x50'),_0x42b53f);return _0x19e6c1[_0x1140('0xb')](0x1f4)['send'](_0x1140('0x5b'));}});},0x12c);});}});_0x4a40a9[_0x1140('0x1a')](_0x1140('0x5c'),function(_0x115311,_0x45ca88){var _0x6d0965=_0x1140('0x5d');fs[_0x1140('0x5e')](_0x6d0965,function(_0x1be000,_0x5d51fb){if(_0x1be000)return _0x45ca88[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x1be000);if(_0x5d51fb[_0x1140('0x5f')]>0x0){fs['readFile'](_0x6d0965+'/'+_0x5d51fb[0x0],_0x1140('0x20'),function(_0x26a4c6,_0x2cdb04){if(_0x26a4c6)return status(0x1f4)[_0x1140('0xa')](_0x1140('0x60'));_0x45ca88[_0x1140('0x61')](_0x1140('0x62'),_0x1140('0x63')+_0x5d51fb[0x0]);return _0x45ca88[_0x1140('0xb')](0xc8)[_0x1140('0x64')](_0x6d0965+'/'+_0x5d51fb[0x0]);});}else{return _0x45ca88[_0x1140('0xb')](0xc8)['send']('No\x20crash\x20files\x20found');}});});var _0x48ba13=null;_0x4a40a9[_0x1140('0x6')](_0x1140('0x65'),function(_0x15b362,_0x3654c0){if(os[_0x1140('0x1e')]()!=_0x1140('0x33')){_0x48ba13=spawn(_0x1140('0x18'),['sh',_0x1140('0x66'),_0x1140('0x67')]);_0x48ba13['stdout']['on']('data',function(_0x2ca69d){console['log'](String(_0x2ca69d));});_0x48ba13[_0x1140('0x2d')]['on'](_0x1140('0x2e'),function(_0x40777a){console[_0x1140('0x2f')](String(_0x40777a));});var _0x3a60b0=0x1;var _0x4998ea=0x3;var _0x4c8854=setInterval(function(){if(_0x3a60b0<=_0x4998ea){var _0x534d98=shell[_0x1140('0x68')](_0x1140('0x69'),{'silent':!![]})[_0x1140('0x30')];if(_0x534d98){clearInterval(_0x4c8854);_0x127a18[_0x1140('0x4f')][_0x1140('0x6a')]={'process':_0x534d98,'socket':_0x15b362['body'][_0x1140('0x6b')]};_0x5dfd84[_0x1140('0x55')][_0x1140('0x58')](_0x1140('0x6c'),_0x127a18[_0x1140('0x4f')][_0x1140('0x6a')]);return _0x3654c0['status'](0xc8)[_0x1140('0x13')]({'serverMessage':'Diagnostic\x20tool\x20started\x20successfully'});}else{_0x3a60b0++;}}else{clearInterval(_0x4c8854);return _0x3654c0['status'](0x1f4)[_0x1140('0xa')](_0x1140('0x6d'));}},0x12c);}else{return _0x3654c0[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'serverMessage':_0x1140('0x6e')});}});_0x4a40a9['get'](_0x1140('0x6f'),function(_0x4255ff,_0x18e8ef){if(os[_0x1140('0x1e')]()!=_0x1140('0x33')){shell[_0x1140('0x68')](_0x1140('0x70'),{'silent':!![]});shell['exec'](_0x1140('0x69'),{'silent':!![]},function(_0xb2d759,_0x2e2a7b,_0x3f026e){(function(_0x54898d){var _0x389917=_0x54898d[_0x1140('0x71')]();if(_0x389917){return _0x18e8ef[_0x1140('0xb')](0x1f4)[_0x1140('0xa')](_0x1140('0x72'));}else{_0x127a18[_0x1140('0x4f')][_0x1140('0x6a')]=null;_0x5dfd84['sockets'][_0x1140('0x58')](_0x1140('0x6c'),_0x127a18[_0x1140('0x4f')][_0x1140('0x6a')]);_0x48ba13=null;return _0x18e8ef[_0x1140('0xb')](0xc8)[_0x1140('0x13')]({'serverMessage':_0x1140('0x73')});}}(_0x2e2a7b['trim']()));});}else{return _0x18e8ef[_0x1140('0xb')](0xc8)['json']({'serverMessage':'Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows'});}});function _0x277d76(){return function(_0x3b049e,_0x2fe4c9,_0x4f320c){if(_0x3b049e[_0x1140('0x74')]()){return _0x4f320c();}else{_0x2fe4c9[_0x1140('0xb')](0x191)[_0x1140('0xa')](_0x1140('0x75'));}};}};