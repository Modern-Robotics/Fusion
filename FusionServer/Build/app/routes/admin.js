var _0x5eb9=['pipe','stderr','data','close','Successfully\x20changed\x20wifi\x20settings','/api/admin/wirelessConnections','platform','Wireless\x20interface\x20not\x20found','ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a','update_config=1\x0a','network={\x0a','\x09scan_ssid=1\x0a','\x09psk=\x22','\x09key_mgmt=WPA-PSK\x0a','}\x0a\x0a','exec','\x22\x20\x22','stdout','\x20\x20\x20\x20ssid=\x22','\x20\x20\x20\x20key_mgmt=NONE\x0a','hiddenNetwork','writeFile','sudo\x20wpa_cli\x20-i\x20','\x20reconfigure','SCANNING','4WAY_HANDSHAKE','DISCONNECTED','ASSOCIATING','wpa_state','COMPLETED','log','\x20assigned','SocketVariables','fusion_wifi_access','emit','wifi-connection','Connected\x20to\x20','\x20successfully','Took\x20too\x20long\x20to\x20connect.\x20Something\x20must\x20be\x20wrong.','Error\x20connecting\x20to\x20','indexOf','sockets','win32','Disconnect\x20not\x20available\x20on\x20Windows','country=US\x0a\x0a','/etc/wpa_supplicant/wpa_supplicant.conf','INACTIVE','Error\x20disconnecting','/api/admin/crashReport','.crash','readdir','Error\x20reading\x20crash\x20file','Content-disposition','attachment;\x20filename=','download','/api/diagnostics/start','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','fusion_diagnostics_running','socketId','Diagnostic\x20tool\x20started\x20successfully','Error\x20starting\x20diagnostic\x20tool','Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','Unable\x20to\x20stop\x20diagnostic\x20tool','diagnostics_running','Diagnostic\x20tool\x20stopped\x20successfully','trim','isAuthenticated','mkdirp','shelljs','wireless-tools/wpa_cli','wireless-tools/wpa_supplicant','child_process','config','get','Wifi_NIC','exports','post','/api/admin/users','findOne','status','Username\x20already\x20taken.','body','username','password','generateHash','filepath','save','send','User\x20created!','/api/admin/powerOff','json','Shut\x20Down\x20Commencing','spawn','sudo','poweroff','/api/admin/restart','Restart\x20Commencing','reboot','../../etc/config-wap/hostapd.conf__npp.sh','readFile','utf8','Wifi\x20file\x20not\x20found','split','ssid','wpa_passphrase','SSID','Password','/etc/hostapd/hostapd.conf','length','/api/admin/wirelessSettings','join','ssid_set.py','python'];(function(_0x184793,_0x22e859){var _0x2f2ef1=function(_0x114a66){while(--_0x114a66){_0x184793['push'](_0x184793['shift']());}};_0x2f2ef1(++_0x22e859);}(_0x5eb9,0xb6));var _0x1a01=function(_0x1bd018,_0x3395fd){_0x1bd018=_0x1bd018-0x0;var _0x3e070c=_0x5eb9[_0x1bd018];return _0x3e070c;};var fs=require('fs');var mkdirp=require(_0x1a01('0x0'));var os=require('os');var path=require('path');var shell=require(_0x1a01('0x1'));var wpa_cli=require(_0x1a01('0x2'));var iwlist=require('wireless-tools/iwlist');var wpa_supplicant=require(_0x1a01('0x3'));var spawn=require(_0x1a01('0x4'))['spawn'];const config=require(_0x1a01('0x5'));let nicInterface=config[_0x1a01('0x6')](_0x1a01('0x7'));module[_0x1a01('0x8')]=function(_0x50335c,_0x361d84,_0x2c09e0,_0x16ddf6,_0x4b454e){_0x50335c[_0x1a01('0x9')](_0x1a01('0xa'),_0x4cccb4(),function(_0x4b7360,_0x43611a){_0x361d84[_0x1a01('0xb')]({'username':_0x4b7360['body']['username']},function(_0x3cfc52,_0x3601aa){if(_0x3cfc52)return _0x43611a['status'](0x1f4)['send'](_0x3cfc52);if(_0x3601aa){return _0x43611a[_0x1a01('0xc')](0x1f4)['send'](_0x1a01('0xd'));}else{var _0x5de78d=new _0x361d84(_0x4b7360[_0x1a01('0xe')]);_0x5de78d[_0x1a01('0xf')]=_0x4b7360[_0x1a01('0xe')][_0x1a01('0xf')];_0x5de78d[_0x1a01('0x10')]=_0x5de78d[_0x1a01('0x11')](_0x4b7360[_0x1a01('0xe')][_0x1a01('0x10')]);_0x5de78d[_0x1a01('0x12')]=_0x5de78d['generateFileSystem'](_0x5de78d[_0x1a01('0xf')]);_0x5de78d[_0x1a01('0x13')](function(_0xd73175){if(_0xd73175)return _0x43611a[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0xd73175);return _0x43611a[_0x1a01('0xc')](0xc8)['json']({'serverMessage':_0x1a01('0x15')});});}});});_0x50335c[_0x1a01('0x6')](_0x1a01('0x16'),function(_0x3f5283,_0x5b5482){_0x5b5482[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x18')});var _0x171066=require(_0x1a01('0x4'))[_0x1a01('0x19')];var _0x5e9fc3=_0x171066(_0x1a01('0x1a'),[_0x1a01('0x1b')]);});_0x50335c[_0x1a01('0x6')](_0x1a01('0x1c'),function(_0x3a9221,_0x5b96d0){_0x5b96d0[_0x1a01('0xc')](0xc8)[_0x1a01('0x14')](_0x1a01('0x1d'));var _0xc72750=require(_0x1a01('0x4'))[_0x1a01('0x19')];var _0x342437=_0xc72750(_0x1a01('0x1a'),[_0x1a01('0x1e')]);});_0x50335c[_0x1a01('0x6')]('/api/admin/wirelessSettings',function(_0x3c0fb8,_0x45b642){var _0x10b51a;var _0x315c1e=require('os')['EOL'];var _0x5cf296;var _0x4a1f52;var _0x10e007={};if(os['platform']()=='win32'){_0x10b51a=_0x1a01('0x1f');fs[_0x1a01('0x20')](_0x10b51a,_0x1a01('0x21'),function(_0x56abc9,_0x1ea8ca){if(_0x56abc9)_0x45b642[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x1a01('0x22'));_0x5cf296=_0x1ea8ca[_0x1a01('0x23')]('\x0a');for(var _0x136311=0x0;_0x136311<_0x5cf296['length'];_0x136311++){_0x4a1f52=_0x5cf296[_0x136311][_0x1a01('0x23')]('=');if(_0x4a1f52[0x0]==_0x1a01('0x24'))_0x10e007['SSID']=_0x4a1f52[0x1];else if(_0x4a1f52[0x0]==_0x1a01('0x25'))_0x10e007['Password']=_0x4a1f52[0x1];}_0x45b642[_0x1a01('0xc')](0xc8)['json']({'SSID':_0x10e007[_0x1a01('0x26')],'Password':_0x10e007[_0x1a01('0x27')]});});}else{_0x10b51a=_0x1a01('0x28');fs['readFile'](_0x10b51a,_0x1a01('0x21'),function(_0x4170a0,_0x221050){if(_0x4170a0)_0x45b642[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x1a01('0x22'));_0x5cf296=_0x221050[_0x1a01('0x23')](_0x315c1e);for(var _0x2a40d1=0x0;_0x2a40d1<_0x5cf296[_0x1a01('0x29')];_0x2a40d1++){_0x4a1f52=_0x5cf296[_0x2a40d1][_0x1a01('0x23')]('=');if(_0x4a1f52[0x0]==_0x1a01('0x24'))_0x10e007[_0x1a01('0x26')]=_0x4a1f52[0x1];else if(_0x4a1f52[0x0]=='wpa_passphrase')_0x10e007[_0x1a01('0x27')]=_0x4a1f52[0x1];}if(!_0x10e007[_0x1a01('0x26')]){_0x10e007[_0x1a01('0x26')]='Not\x20configured..';_0x10e007[_0x1a01('0x27')]='';}_0x45b642[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'SSID':_0x10e007[_0x1a01('0x26')],'Password':_0x10e007[_0x1a01('0x27')]});});}});_0x50335c[_0x1a01('0x9')](_0x1a01('0x2a'),function(_0x4d2b68,_0x438266){try{var _0x224124;var _0x28729b;var _0x1fcf9f=path[_0x1a01('0x2b')]('..','..','etc',_0x1a01('0x2c'));if(_0x4d2b68[_0x1a01('0xe')]['ssid']==null&&_0x4d2b68[_0x1a01('0xe')][_0x1a01('0x10')]==null)_0x28729b=[_0x1a01('0x2d'),_0x1fcf9f,'-d'];else _0x28729b=[_0x1a01('0x2d'),_0x1fcf9f,'-s',_0x4d2b68[_0x1a01('0xe')]['ssid'],'-p',_0x4d2b68[_0x1a01('0xe')][_0x1a01('0x10')]];var _0x21e3ab=require(_0x1a01('0x4'))['spawn'];python_process=_0x21e3ab(_0x1a01('0x1a'),_0x28729b,{'stdio':_0x1a01('0x2e')});python_process[_0x1a01('0x2f')]['on'](_0x1a01('0x30'),function(_0x2821ce){console['log'](String(_0x2821ce));_0x224124=String(_0x2821ce);});python_process['stdout']['on'](_0x1a01('0x31'),function(_0x1fa843){if(_0x224124)return _0x438266[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x224124);else return _0x438266[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x32')});});}catch(_0x37e7e8){console['log'](_0x37e7e8);return _0x438266['status'](0x1f4)['send'](_0x37e7e8);}});_0x50335c[_0x1a01('0x6')](_0x1a01('0x33'),function(_0x1c62ec,_0x1b5495){if(os[_0x1a01('0x34')]()=='win32'){return _0x1b5495['status'](0xc8)[_0x1a01('0x14')]();}else{iwlist['scan'](nicInterface,function(_0x1231c3,_0x570261){if(_0x1231c3)return _0x1b5495['status'](0x1f4)[_0x1a01('0x14')](_0x1a01('0x35'));else return _0x1b5495[_0x1a01('0xc')](0xc8)[_0x1a01('0x14')]({'serverMessage':'Retreived\x20wireless\x20connections','data':_0x570261});});}});_0x50335c[_0x1a01('0x9')](_0x1a01('0x33'),function(_0x30955b,_0x2f20f6){var _0x39661a=undefined;var _0x4780ae=_0x1a01('0x36')+_0x1a01('0x37')+'country=US\x0a\x0a';var _0x44e5a9=_0x1a01('0x38')+'\x09ssid=\x22'+_0x30955b[_0x1a01('0xe')]['ssid']+'\x22\x0a'+_0x1a01('0x39')+_0x1a01('0x3a')+_0x30955b[_0x1a01('0xe')]['password']+'\x22\x0a'+_0x1a01('0x3b')+_0x1a01('0x3c');if(_0x30955b[_0x1a01('0xe')][_0x1a01('0x10')]){_0x39661a=shell[_0x1a01('0x3d')]('wpa_passphrase\x20\x22'+_0x30955b[_0x1a01('0xe')]['ssid']+_0x1a01('0x3e')+_0x30955b[_0x1a01('0xe')][_0x1a01('0x10')]+'\x22',{'silent':!![]})[_0x1a01('0x3f')];}else{_0x39661a=_0x1a01('0x38')+_0x1a01('0x40')+_0x30955b[_0x1a01('0xe')]['ssid']+'\x22\x0a'+_0x1a01('0x41')+'}\x0a';}let _0x367fa8='';if(_0x30955b['body'][_0x1a01('0x42')])_0x367fa8=_0x4780ae+_0x44e5a9;else _0x367fa8=_0x4780ae+_0x39661a;fs[_0x1a01('0x43')]('/etc/wpa_supplicant/wpa_supplicant.conf',_0x367fa8,function(_0xa7917){if(_0xa7917)return _0x2f20f6[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0xa7917);shell[_0x1a01('0x3d')](_0x1a01('0x44')+nicInterface+_0x1a01('0x45'),{'silent':!![]});const _0x437d48=0x3a98;var _0x31d96e=0x12c;var _0x15660a=0x0;var _0xbd433d=setInterval(function(){var _0x55b828=[_0x1a01('0x46'),_0x1a01('0x47'),'AUTHENTICATING',_0x1a01('0x48'),_0x1a01('0x49')];wpa_cli[_0x1a01('0xc')](nicInterface,function(_0x4e4a35,_0x4653ca){if(_0x4e4a35)return _0x2f20f6[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x4e4a35);if(_0x4653ca[_0x1a01('0x4a')]==_0x1a01('0x4b')){if(_0x4653ca['ip']){console[_0x1a01('0x4c')]('Ip\x20address:\x20'+_0x4653ca['ip']+_0x1a01('0x4d'));clearInterval(_0xbd433d);_0x4b454e[_0x1a01('0x4e')][_0x1a01('0x4f')]=_0x4653ca;_0x16ddf6['sockets'][_0x1a01('0x50')](_0x1a01('0x51'),_0x4653ca);return _0x2f20f6['status'](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x52')+_0x30955b[_0x1a01('0xe')][_0x1a01('0x24')]+_0x1a01('0x53')});}else if(_0x15660a>_0x437d48){console[_0x1a01('0x4c')](_0x1a01('0x54'));clearInterval(_0xbd433d);return _0x2f20f6[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x1a01('0x55')+_0x30955b[_0x1a01('0xe')][_0x1a01('0x24')]);}_0x15660a+=_0x31d96e;}else if(_0x55b828[_0x1a01('0x56')](_0x4653ca[_0x1a01('0x4a')])==-0x1){clearInterval(_0xbd433d);_0x16ddf6[_0x1a01('0x57')][_0x1a01('0x50')](_0x1a01('0x51'),_0x4653ca);return _0x2f20f6['status'](0x1f4)[_0x1a01('0x14')](_0x1a01('0x55')+_0x30955b['body'][_0x1a01('0x24')]);}});},_0x31d96e);});});_0x50335c[_0x1a01('0x6')]('/api/admin/wirelessConnections/disconnect',function(_0x106f7d,_0x342113){if(os[_0x1a01('0x34')]()==_0x1a01('0x58')){_0x342113['status'](0x1f4)[_0x1a01('0x14')](_0x1a01('0x59'));}else{var _0x4f18cb=_0x1a01('0x36')+_0x1a01('0x37')+_0x1a01('0x5a');fs['writeFile'](_0x1a01('0x5b'),_0x4f18cb,function(_0x2bb2db){if(_0x2bb2db)return _0x342113[_0x1a01('0xc')](0x1f4)['send'](_0x2bb2db);shell['exec'](_0x1a01('0x44')+nicInterface+_0x1a01('0x45'),{'silent':!![]});var _0x37c98d=setInterval(function(){var _0x9fe106=[];wpa_cli[_0x1a01('0xc')](nicInterface,function(_0x14182d,_0x2de617){if(_0x14182d)return _0x342113['status'](0x1f4)[_0x1a01('0x14')](_0x14182d);_0x4b454e[_0x1a01('0x4e')][_0x1a01('0x4f')]=_0x2de617;_0x16ddf6[_0x1a01('0x57')][_0x1a01('0x50')](_0x1a01('0x51'),_0x2de617);if(_0x2de617[_0x1a01('0x4a')]=='DISCONNECTED'||_0x2de617[_0x1a01('0x4a')]==_0x1a01('0x5c')){clearInterval(_0x37c98d);_0x16ddf6['sockets'][_0x1a01('0x50')](_0x1a01('0x51'),_0x2de617);return _0x342113[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':'Disconnected\x20successfully'});}else if(connectingStatuses[_0x1a01('0x56')](_0x2de617[_0x1a01('0x4a')])==-0x1){clearInterval(_0x37c98d);_0x16ddf6['sockets'][_0x1a01('0x50')](_0x1a01('0x51'),_0x2de617);return _0x342113['status'](0x1f4)['send'](_0x1a01('0x5d'));}});},0x12c);});}});_0x50335c[_0x1a01('0x6')](_0x1a01('0x5e'),function(_0x501ac3,_0x3b5366){var _0x514146=_0x1a01('0x5f');fs[_0x1a01('0x60')](_0x514146,function(_0x356a86,_0x3f7e14){if(_0x356a86)return _0x3b5366[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x356a86);if(_0x3f7e14[_0x1a01('0x29')]>0x0){fs['readFile'](_0x514146+'/'+_0x3f7e14[0x0],_0x1a01('0x21'),function(_0xbf5113,_0x2a3c09){if(_0xbf5113)return status(0x1f4)['send'](_0x1a01('0x61'));_0x3b5366['setHeader'](_0x1a01('0x62'),_0x1a01('0x63')+_0x3f7e14[0x0]);return _0x3b5366[_0x1a01('0xc')](0xc8)[_0x1a01('0x64')](_0x514146+'/'+_0x3f7e14[0x0]);});}else{return _0x3b5366['status'](0xc8)[_0x1a01('0x14')]('No\x20crash\x20files\x20found');}});});var _0x3f04dd=null;_0x50335c['post'](_0x1a01('0x65'),function(_0xa0bba,_0x54b752){if(os[_0x1a01('0x34')]()!='win32'){_0x3f04dd=spawn(_0x1a01('0x1a'),['sh','../../diagnostics/runRemi.sh','../../diagnostics/diagnosticGUI.py']);_0x3f04dd[_0x1a01('0x3f')]['on'](_0x1a01('0x30'),function(_0x19756f){console[_0x1a01('0x4c')](String(_0x19756f));});_0x3f04dd[_0x1a01('0x2f')]['on'](_0x1a01('0x30'),function(_0x289f93){console[_0x1a01('0x4c')](String(_0x289f93));});var _0x1c4dc4=0x1;var _0x1ce0de=0x3;var _0xa0d196=setInterval(function(){if(_0x1c4dc4<=_0x1ce0de){var _0x1f45f3=shell[_0x1a01('0x3d')](_0x1a01('0x66'),{'silent':!![]})[_0x1a01('0x3f')];if(_0x1f45f3){clearInterval(_0xa0d196);_0x4b454e['SocketVariables'][_0x1a01('0x67')]={'process':_0x1f45f3,'socket':_0xa0bba[_0x1a01('0xe')][_0x1a01('0x68')]};_0x16ddf6[_0x1a01('0x57')][_0x1a01('0x50')]('diagnostics_running',_0x4b454e[_0x1a01('0x4e')][_0x1a01('0x67')]);return _0x54b752['status'](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x69')});}else{_0x1c4dc4++;}}else{clearInterval(_0xa0d196);return _0x54b752['status'](0x1f4)[_0x1a01('0x14')](_0x1a01('0x6a'));}},0x12c);}else{return _0x54b752[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x6b')});}});_0x50335c[_0x1a01('0x6')]('/api/diagnostics/stop',function(_0x14d589,_0x459a5f){if(os['platform']()!=_0x1a01('0x58')){shell[_0x1a01('0x3d')](_0x1a01('0x6c'),{'silent':!![]});shell[_0x1a01('0x3d')](_0x1a01('0x66'),{'silent':!![]},function(_0xf38e42,_0x5e7032,_0x3cc0b9){(function(_0x17eece){var _0x58fa0d=_0x17eece['trim']();if(_0x58fa0d){return _0x459a5f[_0x1a01('0xc')](0x1f4)[_0x1a01('0x14')](_0x1a01('0x6d'));}else{_0x4b454e[_0x1a01('0x4e')][_0x1a01('0x67')]=null;_0x16ddf6['sockets']['emit'](_0x1a01('0x6e'),_0x4b454e[_0x1a01('0x4e')][_0x1a01('0x67')]);_0x3f04dd=null;return _0x459a5f[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x6f')});}}(_0x5e7032[_0x1a01('0x70')]()));});}else{return _0x459a5f[_0x1a01('0xc')](0xc8)[_0x1a01('0x17')]({'serverMessage':_0x1a01('0x6b')});}});function _0x4cccb4(){return function(_0x9e575,_0x5626de,_0x39196b){if(_0x9e575[_0x1a01('0x71')]()){return _0x39196b();}else{_0x5626de[_0x1a01('0xc')](0x191)[_0x1a01('0x14')]('User\x20Unauthenticated');}};}};