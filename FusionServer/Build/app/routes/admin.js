var _0x49a4=['etc','ssid_set.py','python','pipe','stderr','log','/api/admin/wirelessConnections','win32','scan','Wireless\x20interface\x20not\x20found','ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a','update_config=1\x0a','country=US\x0a\x0a','\x09ssid=\x22','\x09scan_ssid=1\x0a','exec','wpa_passphrase\x20\x22','\x22\x20\x22','stdout','\x20\x20\x20\x20key_mgmt=NONE\x0a','hiddenNetwork','/etc/wpa_supplicant/wpa_supplicant.conf','\x20reconfigure','SCANNING','4WAY_HANDSHAKE','AUTHENTICATING','DISCONNECTED','ASSOCIATING','wpa_state','COMPLETED','Ip\x20address:\x20','SocketVariables','sockets','wifi-connection','Connected\x20to\x20','\x20successfully','Took\x20too\x20long\x20to\x20connect.\x20Something\x20must\x20be\x20wrong.','Error\x20connecting\x20to\x20','emit','/api/admin/wirelessConnections/disconnect','sudo\x20wpa_cli\x20-i\x20','fusion_wifi_access','INACTIVE','indexOf','Error\x20disconnecting','/api/admin/crashReport','.crash','readFile','Error\x20reading\x20crash\x20file','setHeader','Content-disposition','attachment;\x20filename=','No\x20crash\x20files\x20found','/api/diagnostics/start','../../diagnostics/diagnosticGUI.py','data','fusion_diagnostics_running','diagnostics_running','Diagnostic\x20tool\x20started\x20successfully','Error\x20starting\x20diagnostic\x20tool','/api/diagnostics/stop','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','trim','Unable\x20to\x20stop\x20diagnostic\x20tool','Diagnostic\x20tool\x20stopped\x20successfully','Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows','isAuthenticated','User\x20Unauthenticated','path','shelljs','wireless-tools/iwlist','child_process','spawn','config','Wifi_NIC','exports','post','/api/admin/users','findOne','body','username','status','send','Username\x20already\x20taken.','password','generateHash','filepath','generateFileSystem','json','User\x20created!','get','/api/admin/powerOff','Shut\x20Down\x20Commencing','sudo','poweroff','/api/admin/restart','Restart\x20Commencing','reboot','EOL','platform','../../etc/config-wap/hostapd.conf__npp.sh','utf8','split','length','ssid','wpa_passphrase','SSID','Password','/etc/hostapd/hostapd.conf','Wifi\x20file\x20not\x20found','Not\x20configured..','/api/admin/wirelessSettings','join'];(function(_0x372951,_0x285ee2){var _0x1a7599=function(_0x42e5cb){while(--_0x42e5cb){_0x372951['push'](_0x372951['shift']());}};_0x1a7599(++_0x285ee2);}(_0x49a4,0x19b));var _0x3703=function(_0x3fee69,_0x188cfd){_0x3fee69=_0x3fee69-0x0;var _0x260384=_0x49a4[_0x3fee69];return _0x260384;};var fs=require('fs');var mkdirp=require('mkdirp');var os=require('os');var path=require(_0x3703('0x0'));var shell=require(_0x3703('0x1'));var wpa_cli=require('wireless-tools/wpa_cli');var iwlist=require(_0x3703('0x2'));var wpa_supplicant=require('wireless-tools/wpa_supplicant');var spawn=require(_0x3703('0x3'))[_0x3703('0x4')];const config=require(_0x3703('0x5'));let nicInterface=config['get'](_0x3703('0x6'));module[_0x3703('0x7')]=function(_0x1c4bf0,_0x41fe65,_0x3603bd,_0x1abac2,_0x530b49){_0x1c4bf0[_0x3703('0x8')](_0x3703('0x9'),_0x22f007(),function(_0x37eb9a,_0x328286){_0x41fe65[_0x3703('0xa')]({'username':_0x37eb9a[_0x3703('0xb')][_0x3703('0xc')]},function(_0x31f514,_0x165164){if(_0x31f514)return _0x328286[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x31f514);if(_0x165164){return _0x328286['status'](0x1f4)[_0x3703('0xe')](_0x3703('0xf'));}else{var _0x171f98=new _0x41fe65(_0x37eb9a[_0x3703('0xb')]);_0x171f98['username']=_0x37eb9a['body']['username'];_0x171f98[_0x3703('0x10')]=_0x171f98[_0x3703('0x11')](_0x37eb9a[_0x3703('0xb')][_0x3703('0x10')]);_0x171f98[_0x3703('0x12')]=_0x171f98[_0x3703('0x13')](_0x171f98[_0x3703('0xc')]);_0x171f98['save'](function(_0x2b8db9){if(_0x2b8db9)return _0x328286[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x2b8db9);return _0x328286['status'](0xc8)[_0x3703('0x14')]({'serverMessage':_0x3703('0x15')});});}});});_0x1c4bf0[_0x3703('0x16')](_0x3703('0x17'),function(_0x5d309e,_0x1f9fd4){_0x1f9fd4['status'](0xc8)[_0x3703('0x14')]({'serverMessage':_0x3703('0x18')});var _0x147a5b=require('child_process')[_0x3703('0x4')];var _0x7a9076=_0x147a5b(_0x3703('0x19'),[_0x3703('0x1a')]);});_0x1c4bf0[_0x3703('0x16')](_0x3703('0x1b'),function(_0x22e341,_0x4c9c0a){_0x4c9c0a[_0x3703('0xd')](0xc8)['send'](_0x3703('0x1c'));var _0x120401=require(_0x3703('0x3'))[_0x3703('0x4')];var _0x16c7ce=_0x120401('sudo',[_0x3703('0x1d')]);});_0x1c4bf0[_0x3703('0x16')]('/api/admin/wirelessSettings',function(_0x365f7d,_0x4f8279){var _0xadbc82;var _0x34ece6=require('os')[_0x3703('0x1e')];var _0x32c924;var _0x39f06d;var _0x37a540={};if(os[_0x3703('0x1f')]()=='win32'){_0xadbc82=_0x3703('0x20');fs['readFile'](_0xadbc82,_0x3703('0x21'),function(_0x58eed8,_0x374c01){if(_0x58eed8)_0x4f8279['status'](0x1f4)[_0x3703('0xe')]('Wifi\x20file\x20not\x20found');_0x32c924=_0x374c01[_0x3703('0x22')]('\x0a');for(var _0x2115d8=0x0;_0x2115d8<_0x32c924[_0x3703('0x23')];_0x2115d8++){_0x39f06d=_0x32c924[_0x2115d8]['split']('=');if(_0x39f06d[0x0]==_0x3703('0x24'))_0x37a540['SSID']=_0x39f06d[0x1];else if(_0x39f06d[0x0]==_0x3703('0x25'))_0x37a540['Password']=_0x39f06d[0x1];}_0x4f8279[_0x3703('0xd')](0xc8)['json']({'SSID':_0x37a540[_0x3703('0x26')],'Password':_0x37a540[_0x3703('0x27')]});});}else{_0xadbc82=_0x3703('0x28');fs['readFile'](_0xadbc82,_0x3703('0x21'),function(_0x1e40ff,_0x265106){if(_0x1e40ff)_0x4f8279['status'](0x1f4)[_0x3703('0xe')](_0x3703('0x29'));_0x32c924=_0x265106['split'](_0x34ece6);for(var _0x221544=0x0;_0x221544<_0x32c924[_0x3703('0x23')];_0x221544++){_0x39f06d=_0x32c924[_0x221544][_0x3703('0x22')]('=');if(_0x39f06d[0x0]==_0x3703('0x24'))_0x37a540[_0x3703('0x26')]=_0x39f06d[0x1];else if(_0x39f06d[0x0]==_0x3703('0x25'))_0x37a540[_0x3703('0x27')]=_0x39f06d[0x1];}if(!_0x37a540[_0x3703('0x26')]){_0x37a540['SSID']=_0x3703('0x2a');_0x37a540[_0x3703('0x27')]='';}_0x4f8279[_0x3703('0xd')](0xc8)[_0x3703('0x14')]({'SSID':_0x37a540['SSID'],'Password':_0x37a540[_0x3703('0x27')]});});}});_0x1c4bf0[_0x3703('0x8')](_0x3703('0x2b'),function(_0x3aef91,_0x3e88cb){try{var _0xf77734;var _0xa612ba;var _0x5753bf=path[_0x3703('0x2c')]('..','..',_0x3703('0x2d'),_0x3703('0x2e'));if(_0x3aef91[_0x3703('0xb')][_0x3703('0x24')]==null&&_0x3aef91[_0x3703('0xb')]['password']==null)_0xa612ba=[_0x3703('0x2f'),_0x5753bf,'-d'];else _0xa612ba=[_0x3703('0x2f'),_0x5753bf,'-s',_0x3aef91['body'][_0x3703('0x24')],'-p',_0x3aef91['body'][_0x3703('0x10')]];var _0x4d8a23=require(_0x3703('0x3'))[_0x3703('0x4')];python_process=_0x4d8a23(_0x3703('0x19'),_0xa612ba,{'stdio':_0x3703('0x30')});python_process[_0x3703('0x31')]['on']('data',function(_0x5046b2){console['log'](String(_0x5046b2));_0xf77734=String(_0x5046b2);});python_process['stdout']['on']('close',function(_0x2dd785){if(_0xf77734)return _0x3e88cb[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0xf77734);else return _0x3e88cb['status'](0xc8)['json']({'serverMessage':'Successfully\x20changed\x20wifi\x20settings'});});}catch(_0x2c02c4){console[_0x3703('0x32')](_0x2c02c4);return _0x3e88cb[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x2c02c4);}});_0x1c4bf0[_0x3703('0x16')](_0x3703('0x33'),function(_0x4a61bf,_0x2af2d7){if(os['platform']()==_0x3703('0x34')){return _0x2af2d7[_0x3703('0xd')](0xc8)['send']();}else{iwlist[_0x3703('0x35')](nicInterface,function(_0x1047f5,_0x10d76b){if(_0x1047f5)return _0x2af2d7[_0x3703('0xd')](0x1f4)['send'](_0x3703('0x36'));else return _0x2af2d7[_0x3703('0xd')](0xc8)[_0x3703('0xe')]({'serverMessage':'Retreived\x20wireless\x20connections','data':_0x10d76b});});}});_0x1c4bf0['post']('/api/admin/wirelessConnections',function(_0x57c4a8,_0x191d40){var _0x5d1523=undefined;var _0x2229cb=_0x3703('0x37')+_0x3703('0x38')+_0x3703('0x39');var _0x5a6764='network={\x0a'+_0x3703('0x3a')+_0x57c4a8[_0x3703('0xb')][_0x3703('0x24')]+'\x22\x0a'+_0x3703('0x3b')+'\x09psk=\x22'+_0x57c4a8[_0x3703('0xb')]['password']+'\x22\x0a'+'\x09key_mgmt=WPA-PSK\x0a'+'}\x0a\x0a';if(_0x57c4a8[_0x3703('0xb')][_0x3703('0x10')]){_0x5d1523=shell[_0x3703('0x3c')](_0x3703('0x3d')+_0x57c4a8[_0x3703('0xb')][_0x3703('0x24')]+_0x3703('0x3e')+_0x57c4a8[_0x3703('0xb')][_0x3703('0x10')]+'\x22',{'silent':!![]})[_0x3703('0x3f')];}else{_0x5d1523='network={\x0a'+'\x20\x20\x20\x20ssid=\x22'+_0x57c4a8[_0x3703('0xb')][_0x3703('0x24')]+'\x22\x0a'+_0x3703('0x40')+'}\x0a';}let _0x4a6789='';if(_0x57c4a8[_0x3703('0xb')][_0x3703('0x41')])_0x4a6789=_0x2229cb+_0x5a6764;else _0x4a6789=_0x2229cb+_0x5d1523;fs['writeFile'](_0x3703('0x42'),_0x4a6789,function(_0x5b22cd){if(_0x5b22cd)return _0x191d40[_0x3703('0xd')](0x1f4)['send'](_0x5b22cd);shell['exec']('sudo\x20wpa_cli\x20-i\x20'+nicInterface+_0x3703('0x43'),{'silent':!![]});const _0x37353c=0x3a98;var _0x144f12=0x12c;var _0x38074a=0x0;var _0x10255f=setInterval(function(){var _0x5aa0d1=[_0x3703('0x44'),_0x3703('0x45'),_0x3703('0x46'),_0x3703('0x47'),_0x3703('0x48')];wpa_cli[_0x3703('0xd')](nicInterface,function(_0x598fe0,_0x55f1b8){if(_0x598fe0)return _0x191d40[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x598fe0);if(_0x55f1b8[_0x3703('0x49')]==_0x3703('0x4a')){if(_0x55f1b8['ip']){console[_0x3703('0x32')](_0x3703('0x4b')+_0x55f1b8['ip']+'\x20assigned');clearInterval(_0x10255f);_0x530b49[_0x3703('0x4c')]['fusion_wifi_access']=_0x55f1b8;_0x1abac2[_0x3703('0x4d')]['emit'](_0x3703('0x4e'),_0x55f1b8);return _0x191d40[_0x3703('0xd')](0xc8)['json']({'serverMessage':_0x3703('0x4f')+_0x57c4a8[_0x3703('0xb')][_0x3703('0x24')]+_0x3703('0x50')});}else if(_0x38074a>_0x37353c){console[_0x3703('0x32')](_0x3703('0x51'));clearInterval(_0x10255f);return _0x191d40[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x3703('0x52')+_0x57c4a8[_0x3703('0xb')][_0x3703('0x24')]);}_0x38074a+=_0x144f12;}else if(_0x5aa0d1['indexOf'](_0x55f1b8[_0x3703('0x49')])==-0x1){clearInterval(_0x10255f);_0x1abac2[_0x3703('0x4d')][_0x3703('0x53')](_0x3703('0x4e'),_0x55f1b8);return _0x191d40[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x3703('0x52')+_0x57c4a8['body'][_0x3703('0x24')]);}});},_0x144f12);});});_0x1c4bf0[_0x3703('0x16')](_0x3703('0x54'),function(_0x46c05e,_0x1be5fe){if(os['platform']()==_0x3703('0x34')){_0x1be5fe['status'](0x1f4)[_0x3703('0xe')]('Disconnect\x20not\x20available\x20on\x20Windows');}else{var _0x337730=_0x3703('0x37')+_0x3703('0x38')+_0x3703('0x39');fs['writeFile']('/etc/wpa_supplicant/wpa_supplicant.conf',_0x337730,function(_0x500451){if(_0x500451)return _0x1be5fe[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x500451);shell[_0x3703('0x3c')](_0x3703('0x55')+nicInterface+'\x20reconfigure',{'silent':!![]});var _0x48e5ba=setInterval(function(){var _0x1bc551=[];wpa_cli['status'](nicInterface,function(_0x218a03,_0x3d8833){if(_0x218a03)return _0x1be5fe[_0x3703('0xd')](0x1f4)['send'](_0x218a03);_0x530b49[_0x3703('0x4c')][_0x3703('0x56')]=_0x3d8833;_0x1abac2['sockets'][_0x3703('0x53')](_0x3703('0x4e'),_0x3d8833);if(_0x3d8833['wpa_state']==_0x3703('0x47')||_0x3d8833[_0x3703('0x49')]==_0x3703('0x57')){clearInterval(_0x48e5ba);_0x1abac2[_0x3703('0x4d')]['emit']('wifi-connection',_0x3d8833);return _0x1be5fe[_0x3703('0xd')](0xc8)['json']({'serverMessage':'Disconnected\x20successfully'});}else if(connectingStatuses[_0x3703('0x58')](_0x3d8833[_0x3703('0x49')])==-0x1){clearInterval(_0x48e5ba);_0x1abac2[_0x3703('0x4d')][_0x3703('0x53')]('wifi-connection',_0x3d8833);return _0x1be5fe['status'](0x1f4)[_0x3703('0xe')](_0x3703('0x59'));}});},0x12c);});}});_0x1c4bf0['get'](_0x3703('0x5a'),function(_0x161616,_0x50a393){var _0x79169b=_0x3703('0x5b');fs['readdir'](_0x79169b,function(_0x22bb38,_0x519c40){if(_0x22bb38)return _0x50a393[_0x3703('0xd')](0x1f4)['send'](_0x22bb38);if(_0x519c40[_0x3703('0x23')]>0x0){fs[_0x3703('0x5c')](_0x79169b+'/'+_0x519c40[0x0],_0x3703('0x21'),function(_0x488728,_0x24dced){if(_0x488728)return status(0x1f4)['send'](_0x3703('0x5d'));_0x50a393[_0x3703('0x5e')](_0x3703('0x5f'),_0x3703('0x60')+_0x519c40[0x0]);return _0x50a393[_0x3703('0xd')](0xc8)['download'](_0x79169b+'/'+_0x519c40[0x0]);});}else{return _0x50a393[_0x3703('0xd')](0xc8)[_0x3703('0xe')](_0x3703('0x61'));}});});var _0x29d1bf=null;_0x1c4bf0[_0x3703('0x8')](_0x3703('0x62'),function(_0x5d78ad,_0x28bbf8){if(os[_0x3703('0x1f')]()!='win32'){_0x29d1bf=spawn(_0x3703('0x19'),['sh','../../diagnostics/runRemi.sh',_0x3703('0x63')]);_0x29d1bf[_0x3703('0x3f')]['on'](_0x3703('0x64'),function(_0x2530ea){console['log'](String(_0x2530ea));});_0x29d1bf[_0x3703('0x31')]['on'](_0x3703('0x64'),function(_0x2c5879){console[_0x3703('0x32')](String(_0x2c5879));});var _0x44fe4d=0x1;var _0x337af7=0x3;var _0x5b91b8=setInterval(function(){if(_0x44fe4d<=_0x337af7){var _0x3e318d=shell[_0x3703('0x3c')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})['stdout'];if(_0x3e318d){clearInterval(_0x5b91b8);_0x530b49[_0x3703('0x4c')][_0x3703('0x65')]={'process':_0x3e318d,'socket':_0x5d78ad[_0x3703('0xb')]['socketId']};_0x1abac2[_0x3703('0x4d')][_0x3703('0x53')](_0x3703('0x66'),_0x530b49[_0x3703('0x4c')][_0x3703('0x65')]);return _0x28bbf8[_0x3703('0xd')](0xc8)[_0x3703('0x14')]({'serverMessage':_0x3703('0x67')});}else{_0x44fe4d++;}}else{clearInterval(_0x5b91b8);return _0x28bbf8[_0x3703('0xd')](0x1f4)[_0x3703('0xe')](_0x3703('0x68'));}},0x12c);}else{return _0x28bbf8[_0x3703('0xd')](0xc8)['json']({'serverMessage':'Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows'});}});_0x1c4bf0[_0x3703('0x16')](_0x3703('0x69'),function(_0x2f125f,_0x265c16){if(os[_0x3703('0x1f')]()!=_0x3703('0x34')){shell['exec'](_0x3703('0x6a'),{'silent':!![]});shell[_0x3703('0x3c')](_0x3703('0x6b'),{'silent':!![]},function(_0x286ae4,_0x3927e3,_0x4c0383){(function(_0xc7d538){var _0x1f1fda=_0xc7d538[_0x3703('0x6c')]();if(_0x1f1fda){return _0x265c16[_0x3703('0xd')](0x1f4)['send'](_0x3703('0x6d'));}else{_0x530b49[_0x3703('0x4c')][_0x3703('0x65')]=null;_0x1abac2[_0x3703('0x4d')][_0x3703('0x53')](_0x3703('0x66'),_0x530b49[_0x3703('0x4c')][_0x3703('0x65')]);_0x29d1bf=null;return _0x265c16[_0x3703('0xd')](0xc8)[_0x3703('0x14')]({'serverMessage':_0x3703('0x6e')});}}(_0x3927e3[_0x3703('0x6c')]()));});}else{return _0x265c16[_0x3703('0xd')](0xc8)['json']({'serverMessage':_0x3703('0x6f')});}});function _0x22f007(){return function(_0x1d9b9e,_0x102205,_0x32dc3b){if(_0x1d9b9e[_0x3703('0x70')]()){return _0x32dc3b();}else{_0x102205[_0x3703('0xd')](0x191)[_0x3703('0xe')](_0x3703('0x71'));}};}};