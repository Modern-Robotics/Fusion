var _0xd9ca=['ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','fusion_diagnostics_running','socketId','diagnostics_running','Diagnostic\x20tool\x20started\x20successfully','Error\x20starting\x20diagnostic\x20tool','Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows','/api/diagnostics/stop','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../diagnostics/diagnosticGUI.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','Diagnostic\x20tool\x20stopped\x20successfully','trim','mkdirp','path','shelljs','wireless-tools/wpa_cli','wireless-tools/iwlist','wireless-tools/wpa_supplicant','child_process','spawn','exports','post','/api/admin/users','findOne','username','send','status','Username\x20already\x20taken.','body','password','generateHash','filepath','save','json','User\x20created!','/api/admin/powerOff','Shut\x20Down\x20Commencing','poweroff','/api/admin/restart','sudo','reboot','get','/api/admin/wirelessSettings','EOL','platform','readFile','utf8','Wifi\x20file\x20not\x20found','split','length','ssid','SSID','Password','/etc/hostapd/hostapd.conf','wpa_passphrase','join','etc','ssid_set.py','python','pipe','log','close','Successfully\x20changed\x20wifi\x20settings','win32','scan','wlan1','Wireless\x20interface\x20not\x20found','/api/admin/wirelessConnections','ctrl_interface=DIR=/var/run/wpa_supplicant\x20GROUP=netdev\x0a','country=US\x0a\x0a','\x09ssid=\x22','\x09psk=\x22','\x09key_mgmt=WPA-PSK\x0a','}\x0a\x0a','exec','wpa_passphrase\x20\x22','\x22\x20\x22','stdout','network={\x0a','\x20\x20\x20\x20key_mgmt=NONE\x0a','/etc/wpa_supplicant/wpa_supplicant.conf','SCANNING','4WAY_HANDSHAKE','AUTHENTICATING','DISCONNECTED','ASSOCIATING','wpa_state','Ip\x20address:\x20','SocketVariables','fusion_wifi_access','sockets','emit','Connected\x20to\x20','\x20successfully','Took\x20too\x20long\x20to\x20connect.\x20Something\x20must\x20be\x20wrong.','Error\x20connecting\x20to\x20','indexOf','/api/admin/wirelessConnections/disconnect','update_config=1\x0a','sudo\x20wpa_cli\x20-i\x20wlan1\x20reconfigure','wifi-connection','INACTIVE','Disconnected\x20successfully','Error\x20disconnecting','/api/admin/crashReport','readdir','Error\x20reading\x20crash\x20file','attachment;\x20filename=','download','/api/diagnostics/start','../../diagnostics/runRemi.sh','../../diagnostics/diagnosticGUI.py','stderr','data'];(function(_0x4e7750,_0x5d1dcd){var _0x532cdd=function(_0x1295e6){while(--_0x1295e6){_0x4e7750['push'](_0x4e7750['shift']());}};_0x532cdd(++_0x5d1dcd);}(_0xd9ca,0xed));var _0x4c5d=function(_0x2f9fc3,_0xc1a977){_0x2f9fc3=_0x2f9fc3-0x0;var _0x56f378=_0xd9ca[_0x2f9fc3];return _0x56f378;};var fs=require('fs');var mkdirp=require(_0x4c5d('0x0'));var os=require('os');var path=require(_0x4c5d('0x1'));var shell=require(_0x4c5d('0x2'));var wpa_cli=require(_0x4c5d('0x3'));var iwlist=require(_0x4c5d('0x4'));var wpa_supplicant=require(_0x4c5d('0x5'));var spawn=require(_0x4c5d('0x6'))[_0x4c5d('0x7')];module[_0x4c5d('0x8')]=function(_0x230bdb,_0x32adb3,_0xb912df,_0x34bd36,_0xd29144){_0x230bdb[_0x4c5d('0x9')](_0x4c5d('0xa'),_0x1063af(),function(_0x4fd85b,_0xf0c8b2){_0x32adb3[_0x4c5d('0xb')]({'username':_0x4fd85b['body'][_0x4c5d('0xc')]},function(_0x522a8e,_0x283455){if(_0x522a8e)return _0xf0c8b2['status'](0x1f4)[_0x4c5d('0xd')](_0x522a8e);if(_0x283455){return _0xf0c8b2[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0xf'));}else{var _0x3eb73f=new _0x32adb3(_0x4fd85b[_0x4c5d('0x10')]);_0x3eb73f['username']=_0x4fd85b['body'][_0x4c5d('0xc')];_0x3eb73f[_0x4c5d('0x11')]=_0x3eb73f[_0x4c5d('0x12')](_0x4fd85b[_0x4c5d('0x10')]['password']);_0x3eb73f[_0x4c5d('0x13')]=_0x3eb73f['generateFileSystem'](_0x3eb73f[_0x4c5d('0xc')]);_0x3eb73f[_0x4c5d('0x14')](function(_0xd9c941){if(_0xd9c941)return _0xf0c8b2['status'](0x1f4)[_0x4c5d('0xd')](_0xd9c941);return _0xf0c8b2[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x16')});});}});});_0x230bdb['get'](_0x4c5d('0x17'),function(_0x5e52cb,_0xadb76b){_0xadb76b[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x18')});var _0x1f6970=require(_0x4c5d('0x6'))[_0x4c5d('0x7')];var _0x2b8658=_0x1f6970('sudo',[_0x4c5d('0x19')]);});_0x230bdb['get'](_0x4c5d('0x1a'),function(_0x23a568,_0x30dfc0){_0x30dfc0[_0x4c5d('0xe')](0xc8)['send']('Restart\x20Commencing');var _0x49ca88=require('child_process')[_0x4c5d('0x7')];var _0x1ab336=_0x49ca88(_0x4c5d('0x1b'),[_0x4c5d('0x1c')]);});_0x230bdb[_0x4c5d('0x1d')](_0x4c5d('0x1e'),function(_0x3e6913,_0x48d2e0){var _0x3acd7f;var _0x350723=require('os')[_0x4c5d('0x1f')];var _0x25eecf;var _0x27b9c0;var _0x55a90c={};if(os[_0x4c5d('0x20')]()=='win32'){_0x3acd7f='../../etc/hostapd.conf';fs[_0x4c5d('0x21')](_0x3acd7f,_0x4c5d('0x22'),function(_0x38364f,_0x260b51){if(_0x38364f)_0x48d2e0[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x23'));_0x25eecf=_0x260b51[_0x4c5d('0x24')]('\x0a');for(var _0x22022d=0x0;_0x22022d<_0x25eecf[_0x4c5d('0x25')];_0x22022d++){_0x27b9c0=_0x25eecf[_0x22022d][_0x4c5d('0x24')]('=');if(_0x27b9c0[0x0]==_0x4c5d('0x26'))_0x55a90c[_0x4c5d('0x27')]=_0x27b9c0[0x1];else if(_0x27b9c0[0x0]=='wpa_passphrase')_0x55a90c[_0x4c5d('0x28')]=_0x27b9c0[0x1];}_0x48d2e0[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'SSID':_0x55a90c['SSID'],'Password':_0x55a90c[_0x4c5d('0x28')]});});}else{_0x3acd7f=_0x4c5d('0x29');fs['readFile'](_0x3acd7f,'utf8',function(_0x36f93d,_0x52cd17){if(_0x36f93d)_0x48d2e0['status'](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x23'));_0x25eecf=_0x52cd17['split'](_0x350723);for(var _0x39320d=0x0;_0x39320d<_0x25eecf[_0x4c5d('0x25')];_0x39320d++){_0x27b9c0=_0x25eecf[_0x39320d][_0x4c5d('0x24')]('=');if(_0x27b9c0[0x0]==_0x4c5d('0x26'))_0x55a90c['SSID']=_0x27b9c0[0x1];else if(_0x27b9c0[0x0]==_0x4c5d('0x2a'))_0x55a90c[_0x4c5d('0x28')]=_0x27b9c0[0x1];}_0x48d2e0[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'SSID':_0x55a90c[_0x4c5d('0x27')],'Password':_0x55a90c[_0x4c5d('0x28')]});});}});_0x230bdb[_0x4c5d('0x9')](_0x4c5d('0x1e'),function(_0x402dee,_0x27acf0){try{var _0x2647ef;var _0x4d602b;var _0x3386f7=path[_0x4c5d('0x2b')]('..','..',_0x4c5d('0x2c'),_0x4c5d('0x2d'));if(_0x402dee[_0x4c5d('0x10')][_0x4c5d('0x26')]==null&&_0x402dee[_0x4c5d('0x10')][_0x4c5d('0x11')]==null)_0x4d602b=[_0x4c5d('0x2e'),_0x3386f7,'-d'];else _0x4d602b=[_0x4c5d('0x2e'),_0x3386f7,'-s',_0x402dee[_0x4c5d('0x10')]['ssid'],'-p',_0x402dee[_0x4c5d('0x10')][_0x4c5d('0x11')]];var _0x16bca6=require(_0x4c5d('0x6'))['spawn'];python_process=_0x16bca6('sudo',_0x4d602b,{'stdio':_0x4c5d('0x2f')});python_process['stderr']['on']('data',function(_0x593605){console[_0x4c5d('0x30')](String(_0x593605));_0x2647ef=String(_0x593605);});python_process['stdout']['on'](_0x4c5d('0x31'),function(_0x5ad0ef){if(_0x2647ef)return _0x27acf0[_0x4c5d('0xe')](0x1f4)['send'](_0x2647ef);else return _0x27acf0[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x32')});});}catch(_0x1ca40d){console[_0x4c5d('0x30')](_0x1ca40d);return _0x27acf0['status'](0x1f4)[_0x4c5d('0xd')](_0x1ca40d);}});_0x230bdb[_0x4c5d('0x1d')]('/api/admin/wirelessConnections',function(_0x882bd0,_0x25cd45){if(os[_0x4c5d('0x20')]()==_0x4c5d('0x33')){return _0x25cd45[_0x4c5d('0xe')](0xc8)[_0x4c5d('0xd')]();}else{iwlist[_0x4c5d('0x34')](_0x4c5d('0x35'),function(_0x256a76,_0x5ae5ce){if(_0x256a76)return _0x25cd45[_0x4c5d('0xe')](0x1f4)['send'](_0x4c5d('0x36'));else return _0x25cd45['status'](0xc8)[_0x4c5d('0xd')]({'serverMessage':'Retreived\x20wireless\x20connections','data':_0x5ae5ce});});}});_0x230bdb[_0x4c5d('0x9')](_0x4c5d('0x37'),function(_0x2ff64a,_0x49581d){var _0x30bdc0=undefined;var _0x154621=_0x4c5d('0x38')+'update_config=1\x0a'+_0x4c5d('0x39');var _0x1c7cb6='network={\x0a'+_0x4c5d('0x3a')+_0x2ff64a['body'][_0x4c5d('0x26')]+'\x22\x0a'+'\x09scan_ssid=1\x0a'+_0x4c5d('0x3b')+_0x2ff64a[_0x4c5d('0x10')]['password']+'\x22\x0a'+_0x4c5d('0x3c')+_0x4c5d('0x3d');if(_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x11')]){_0x30bdc0=shell[_0x4c5d('0x3e')](_0x4c5d('0x3f')+_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x26')]+_0x4c5d('0x40')+_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x11')]+'\x22',{'silent':!![]})[_0x4c5d('0x41')];}else{_0x30bdc0=_0x4c5d('0x42')+'\x20\x20\x20\x20ssid=\x22'+_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x26')]+'\x22\x0a'+_0x4c5d('0x43')+'}\x0a';}let _0x50abaf='';if(_0x2ff64a[_0x4c5d('0x10')]['hiddenNetwork'])_0x50abaf=_0x154621+_0x1c7cb6;else _0x50abaf=_0x154621+_0x30bdc0;fs['writeFile'](_0x4c5d('0x44'),_0x50abaf,function(_0x46438d){if(_0x46438d)return _0x49581d['status'](0x1f4)[_0x4c5d('0xd')](_0x46438d);shell['exec']('sudo\x20wpa_cli\x20-i\x20wlan1\x20reconfigure',{'silent':!![]});const _0x443be7=0x3a98;var _0x3608b0=0x12c;var _0x1cffbf=0x0;var _0x15d37d=setInterval(function(){var _0x220b4e=[_0x4c5d('0x45'),_0x4c5d('0x46'),_0x4c5d('0x47'),_0x4c5d('0x48'),_0x4c5d('0x49')];wpa_cli['status'](_0x4c5d('0x35'),function(_0x19ce49,_0xbefb73){if(_0x19ce49)return _0x49581d[_0x4c5d('0xe')](0x1f4)['send'](_0x19ce49);if(_0xbefb73[_0x4c5d('0x4a')]=='COMPLETED'){if(_0xbefb73['ip']){console[_0x4c5d('0x30')](_0x4c5d('0x4b')+_0xbefb73['ip']+'\x20assigned');clearInterval(_0x15d37d);_0xd29144[_0x4c5d('0x4c')][_0x4c5d('0x4d')]=_0xbefb73;_0x34bd36[_0x4c5d('0x4e')][_0x4c5d('0x4f')]('wifi-connection',_0xbefb73);return _0x49581d[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x50')+_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x26')]+_0x4c5d('0x51')});}else if(_0x1cffbf>_0x443be7){console[_0x4c5d('0x30')](_0x4c5d('0x52'));clearInterval(_0x15d37d);return _0x49581d[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x53')+_0x2ff64a[_0x4c5d('0x10')][_0x4c5d('0x26')]);}_0x1cffbf+=_0x3608b0;}else if(_0x220b4e[_0x4c5d('0x54')](_0xbefb73[_0x4c5d('0x4a')])==-0x1){clearInterval(_0x15d37d);_0x34bd36['sockets'][_0x4c5d('0x4f')]('wifi-connection',_0xbefb73);return _0x49581d[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x53')+_0x2ff64a[_0x4c5d('0x10')]['ssid']);}});},_0x3608b0);});});_0x230bdb[_0x4c5d('0x1d')](_0x4c5d('0x55'),function(_0x3e9aa5,_0x3b9f36){if(os[_0x4c5d('0x20')]()==_0x4c5d('0x33')){_0x3b9f36['status'](0x1f4)['send']('Disconnect\x20not\x20available\x20on\x20Windows');}else{var _0x2d0814=_0x4c5d('0x38')+_0x4c5d('0x56')+_0x4c5d('0x39');fs['writeFile'](_0x4c5d('0x44'),_0x2d0814,function(_0x4b37f9){if(_0x4b37f9)return _0x3b9f36[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4b37f9);shell['exec'](_0x4c5d('0x57'),{'silent':!![]});var _0xfac580=setInterval(function(){var _0x4f994f=[];wpa_cli[_0x4c5d('0xe')](_0x4c5d('0x35'),function(_0x33371a,_0x59cbd6){if(_0x33371a)return _0x3b9f36['status'](0x1f4)[_0x4c5d('0xd')](_0x33371a);_0xd29144[_0x4c5d('0x4c')][_0x4c5d('0x4d')]=_0x59cbd6;_0x34bd36[_0x4c5d('0x4e')][_0x4c5d('0x4f')](_0x4c5d('0x58'),_0x59cbd6);if(_0x59cbd6[_0x4c5d('0x4a')]==_0x4c5d('0x48')||_0x59cbd6[_0x4c5d('0x4a')]==_0x4c5d('0x59')){clearInterval(_0xfac580);_0x34bd36[_0x4c5d('0x4e')][_0x4c5d('0x4f')]('wifi-connection',_0x59cbd6);return _0x3b9f36[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x5a')});}else if(connectingStatuses[_0x4c5d('0x54')](_0x59cbd6[_0x4c5d('0x4a')])==-0x1){clearInterval(_0xfac580);_0x34bd36[_0x4c5d('0x4e')]['emit'](_0x4c5d('0x58'),_0x59cbd6);return _0x3b9f36[_0x4c5d('0xe')](0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x5b'));}});},0x12c);});}});_0x230bdb[_0x4c5d('0x1d')](_0x4c5d('0x5c'),function(_0x25870e,_0x2f1599){var _0x144ca9='.crash';fs[_0x4c5d('0x5d')](_0x144ca9,function(_0x460d46,_0xb22f09){if(_0x460d46)return _0x2f1599['status'](0x1f4)['send'](_0x460d46);if(_0xb22f09[_0x4c5d('0x25')]>0x0){fs['readFile'](_0x144ca9+'/'+_0xb22f09[0x0],_0x4c5d('0x22'),function(_0xbb8fa9,_0x18e747){if(_0xbb8fa9)return status(0x1f4)[_0x4c5d('0xd')](_0x4c5d('0x5e'));_0x2f1599['setHeader']('Content-disposition',_0x4c5d('0x5f')+_0xb22f09[0x0]);return _0x2f1599[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x60')](_0x144ca9+'/'+_0xb22f09[0x0]);});}else{return _0x2f1599['status'](0xc8)[_0x4c5d('0xd')]('No\x20crash\x20files\x20found');}});});var _0x45bd37=null;_0x230bdb[_0x4c5d('0x9')](_0x4c5d('0x61'),function(_0xec9c7f,_0x53d979){if(os[_0x4c5d('0x20')]()!=_0x4c5d('0x33')){_0x45bd37=spawn(_0x4c5d('0x1b'),['sh',_0x4c5d('0x62'),_0x4c5d('0x63')]);_0x45bd37[_0x4c5d('0x41')]['on']('data',function(_0x157a5b){console[_0x4c5d('0x30')](String(_0x157a5b));});_0x45bd37[_0x4c5d('0x64')]['on'](_0x4c5d('0x65'),function(_0x2d4428){console[_0x4c5d('0x30')](String(_0x2d4428));});var _0x12c9cb=0x1;var _0x3d494e=0x3;var _0x406abb=setInterval(function(){if(_0x12c9cb<=_0x3d494e){var _0x5a0df4=shell['exec'](_0x4c5d('0x66'),{'silent':!![]})['stdout'];if(_0x5a0df4){clearInterval(_0x406abb);_0xd29144[_0x4c5d('0x4c')][_0x4c5d('0x67')]={'process':_0x5a0df4,'socket':_0xec9c7f[_0x4c5d('0x10')][_0x4c5d('0x68')]};_0x34bd36[_0x4c5d('0x4e')][_0x4c5d('0x4f')](_0x4c5d('0x69'),_0xd29144[_0x4c5d('0x4c')][_0x4c5d('0x67')]);return _0x53d979[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':_0x4c5d('0x6a')});}else{_0x12c9cb++;}}else{clearInterval(_0x406abb);return _0x53d979[_0x4c5d('0xe')](0x1f4)['send'](_0x4c5d('0x6b'));}},0x12c);}else{return _0x53d979[_0x4c5d('0xe')](0xc8)['json']({'serverMessage':_0x4c5d('0x6c')});}});_0x230bdb['get'](_0x4c5d('0x6d'),function(_0x553e7a,_0x1abccc){if(os[_0x4c5d('0x20')]()!=_0x4c5d('0x33')){shell[_0x4c5d('0x3e')](_0x4c5d('0x6e'),{'silent':!![]});shell[_0x4c5d('0x3e')](_0x4c5d('0x66'),{'silent':!![]},function(_0x2d81ff,_0x14ee9b,_0x4c1094){(function(_0x34180a){var _0x36d53e=_0x34180a['trim']();if(_0x36d53e){return _0x1abccc['status'](0x1f4)[_0x4c5d('0xd')]('Unable\x20to\x20stop\x20diagnostic\x20tool');}else{_0xd29144[_0x4c5d('0x4c')][_0x4c5d('0x67')]=null;_0x34bd36['sockets'][_0x4c5d('0x4f')]('diagnostics_running',_0xd29144['SocketVariables']['fusion_diagnostics_running']);_0x45bd37=null;return _0x1abccc[_0x4c5d('0xe')](0xc8)['json']({'serverMessage':_0x4c5d('0x6f')});}}(_0x14ee9b[_0x4c5d('0x70')]()));});}else{return _0x1abccc[_0x4c5d('0xe')](0xc8)[_0x4c5d('0x15')]({'serverMessage':'Diagnostic\x20tool\x20does\x20not\x20run\x20on\x20windows'});}});function _0x1063af(){return function(_0x172bba,_0x34bfd9,_0x3977d9){if(_0x172bba['isAuthenticated']()){return _0x3977d9();}else{_0x34bfd9[_0x4c5d('0xe')](0x191)[_0x4c5d('0xd')]('User\x20Unauthenticated');}};}};