const _0x2407=['User\x20does\x20not\x20exist','Logged\x20out\x20successfully','mtimeMs','Error\x20downloading\x20file:\x20','fastGet','logIn','status','create','Guest','User\x27s\x20editor\x20directory\x20found','Remote\x20mtime:\x20','fusion_program_running','exec','toLowerCase','Error\x20reading\x20user\x20file\x20system:\x20','User_Id','request-promise','length','root','Error\x20reading\x20classroom\x20editor\x20files:\x20','authenticate','Admin','Local\x20Path:\x20','SocketVariables','connect','connected','body','trim','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','Moving:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Editor','User','Successfully\x20deleted','mtime','username','push','Uploaded\x20','firstname','attrs','findOne','Local\x20\x22','delete','mkdir','Retrieving\x20files','filename','../../express','User\x27s\x20editor\x20directory\x20created','../../classroom/connection','passport','defaultprogramminglanguage','Local\x20mtime:\x20','ssh2','c3:root@172.16.0.1:','end','Getting\x20data\x20for\x20','Another\x20user\x20is\x20already\x20logged\x20in.','../../fusionProgram','/api/users','params','info','filepath','/api/recovery','User\x20Unauthenticated','Blockly','Remote\x20path:\x20','isAuthenticated','/home/c3/FusionFilesystem/','json','user','User\x27s\x20blockly\x20directory\x20created','usergroup','login','User\x27s\x20classroom\x20file\x20system\x20created','get','Error\x20creating\x20blockly\x20directory:\x20','Remote\x20\x22','/Editor','unshift','Blockly\x20directory\x20created','Classroom\x20file\x20system\x20found','\x22\x20newer,\x20updating\x20local\x20version','/api/users/:User_Id','/Editor/','\x22\x20newer,\x20updating\x20classroom\x20version','/api/users/logout','password','\x20not\x20a\x20common\x20file!','put','stringify','/api/recovery/:User_Id','POST','User\x20updated!','lastname','scp2','Error','connectedClients','local-recovery','Editor\x20directory\x20created','language','exports','sftp','post','name','email','/api/users/cloudLogin','User\x27s\x20classroom\x20file\x20system\x20found','readdir','securityanswer','10.200.200.1','generateHash','securityquestion','REGISTER.CREATED','Error\x20uploading\x20file:\x20','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','floor','User\x20c3\x20directory\x20created','send','socketId','find','remove','Login\x20Successful','../../global/fusionSettings','\x20to\x20','LOGIN.MULTIUSER_DENIED','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','https://172.16.0.1/backend/auth/ldap','KillProgram','stat','Error\x20creating\x20user\x20file\x20system:\x20','Client','/Blockly/','logout','User\x27s\x20blockly\x20directory\x20found','message','local-signup','scp','LOGIN.SUCCESS','removeFileSystem','MultiUserAccess'];(function(_0x156408,_0x2407a2){const _0x4e9cdb=function(_0x73822c){while(--_0x73822c){_0x156408['push'](_0x156408['shift']());}};_0x4e9cdb(++_0x2407a2);}(_0x2407,0xbd));const _0x4e9c=function(_0x156408,_0x2407a2){_0x156408=_0x156408-0x0;let _0x4e9cdb=_0x2407[_0x156408];return _0x4e9cdb;};var SCP=require(_0x4e9c('0x2f'));var SSH=require(_0x4e9c('0x5'))[_0x4e9c('0x55')];var fs=require('fs-extra');var path=require('path');var rp=require(_0x4e9c('0x6f'));const classroomConnection=require(_0x4e9c('0x1'));const logger=require('../../utils/logger');const app=require(_0x4e9c('0x8d'));const User=require('../../models/user');const passport=require(_0x4e9c('0x2'));const FusionSettings=require(_0x4e9c('0x4b'));const fusionProgram=require(_0x4e9c('0xa'));module[_0x4e9c('0x35')]=function(){app[_0x4e9c('0x1b')]('/api/users',_0x486093(),function(_0x5c6414,_0x20e006){User[_0x4e9c('0x48')]({'usergroup':{'$ne':_0x4e9c('0x67')}},function(_0x59d8cb,_0x23bc5c){if(_0x59d8cb)_0x20e006[_0x4e9c('0x46')](_0x59d8cb);_0x20e006['json'](_0x23bc5c);});});app[_0x4e9c('0x37')](_0x4e9c('0xb'),function(_0x48ad22,_0x43d2f4,_0x555e39){passport['authenticate'](_0x4e9c('0x5a'),async function(_0x57d7e1,_0x51fa30,_0x577b5b){if(_0x57d7e1)return _0x43d2f4[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x57d7e1);if(_0x577b5b&&_0x577b5b[_0x4e9c('0x59')])return _0x43d2f4[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x48ad22['__'](_0x577b5b[_0x4e9c('0x59')]));if(FusionSettings[_0x4e9c('0x5e')]){if(classroomConnection[_0x4e9c('0x78')]){await _0x395fae(_0x51fa30);}_0x48ad22['logIn'](_0x51fa30,function(_0x10bf12){if(_0x10bf12){return _0x555e39(_0x10bf12);}_0x306463(_0x48ad22[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x51fa30);return _0x43d2f4[_0x4e9c('0x65')](0xc8)['json']({'serverMessage':_0x48ad22['__'](_0x4e9c('0x41')),'user':_0x51fa30});});}else{if(_0x13c7da()==0x0){_0x306463(_0x48ad22[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x51fa30);if(classroomConnection[_0x4e9c('0x78')]){await _0x395fae(_0x51fa30);}_0x48ad22[_0x4e9c('0x64')](_0x51fa30,function(_0x342792){if(_0x342792){return _0x555e39(_0x342792);}_0x306463(_0x48ad22['body']['socketId'],_0x51fa30);return _0x43d2f4['status'](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x48ad22['__'](_0x4e9c('0x41')),'user':_0x51fa30});});}else{return _0x43d2f4[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x48ad22['__'](_0x4e9c('0x7b')));}}})(_0x48ad22,_0x43d2f4,_0x555e39);});app[_0x4e9c('0x37')](_0x4e9c('0xb'),passport[_0x4e9c('0x73')]('local-signup',{'session':!![]}),function(_0x1805a9,_0x1f5585){if(_0x1805a9[_0x4e9c('0x16')][_0x4e9c('0x30')]){return _0x1f5585[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x1805a9[_0x4e9c('0x16')][_0x4e9c('0x30')]);}else{}});app[_0x4e9c('0x1b')]('/api/users/:User_Id',_0x486093(),function(_0x15c11a,_0x34f57d){User[_0x4e9c('0x87')]({'username':_0x15c11a[_0x4e9c('0xc')]['User_Id'][_0x4e9c('0x6c')]()[_0x4e9c('0x7a')]()},function(_0x1c92fa,_0x16a834){if(_0x1c92fa)_0x34f57d[_0x4e9c('0x46')](_0x1c92fa);_0x34f57d[_0x4e9c('0x15')](_0x16a834);});});app[_0x4e9c('0x29')]('/api/users/:User_Id',_0x486093(),function(_0x20295e,_0x1443cb){User[_0x4e9c('0x87')]({'username':_0x20295e[_0x4e9c('0xc')][_0x4e9c('0x6e')][_0x4e9c('0x6c')]()[_0x4e9c('0x7a')]()},function(_0x517087,_0x5ddfa7){if(_0x517087)_0x1443cb[_0x4e9c('0x46')](_0x517087);if(_0x20295e['body'][_0x4e9c('0x27')]){_0x5ddfa7[_0x4e9c('0x27')]=_0x5ddfa7[_0x4e9c('0x3f')](_0x20295e[_0x4e9c('0x79')]['password']);}if(_0x20295e[_0x4e9c('0x79')]['firstname']){_0x5ddfa7[_0x4e9c('0x85')]=_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x85')];}if(_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x2e')]){_0x5ddfa7[_0x4e9c('0x2e')]=_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x2e')];}if(_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x34')]){_0x5ddfa7['language']=_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x34')];}if(_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x39')]){_0x5ddfa7[_0x4e9c('0x39')]=_0x20295e[_0x4e9c('0x79')]['email'];}if(_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x3')]){_0x5ddfa7[_0x4e9c('0x3')]=_0x20295e[_0x4e9c('0x79')][_0x4e9c('0x3')];}if(_0x20295e['body']['securityquestion']){_0x5ddfa7[_0x4e9c('0x40')]=_0x20295e[_0x4e9c('0x79')]['securityquestion'];}if(_0x20295e[_0x4e9c('0x79')]['securityanswer']){_0x5ddfa7[_0x4e9c('0x3d')]=_0x20295e[_0x4e9c('0x79')]['securityanswer'];}if(_0x20295e['body'][_0x4e9c('0x18')]){_0x5ddfa7[_0x4e9c('0x18')]=_0x20295e['body'][_0x4e9c('0x18')];}_0x5ddfa7['save'](function(_0x102722){if(_0x102722)_0x1443cb[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x102722);_0x1443cb[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x4e9c('0x2d')});});});});app[_0x4e9c('0x89')](_0x4e9c('0x23'),_0x486093(),function(_0x515642,_0x51095c){if(_0x515642[_0x4e9c('0xc')][_0x4e9c('0x6e')][_0x4e9c('0x6c')]()[_0x4e9c('0x7a')]()==_0x515642[_0x4e9c('0x16')][_0x4e9c('0x82')]){if(FusionSettings[_0x4e9c('0x76')][_0x4e9c('0x6a')])if(FusionSettings['SocketVariables'][_0x4e9c('0x6a')][_0x4e9c('0x7f')]==_0x515642[_0x4e9c('0x16')][_0x4e9c('0x82')])fusionProgram[_0x4e9c('0x52')]();_0x409507(_0x515642['user'][_0x4e9c('0x82')]);_0x515642['logout']();}User[_0x4e9c('0x49')]({'username':_0x515642[_0x4e9c('0xc')][_0x4e9c('0x6e')]['toLowerCase']()[_0x4e9c('0x7a')]()},function(_0x393645,_0x1b2bc8){if(_0x393645)return _0x51095c[_0x4e9c('0x46')](_0x393645);User[_0x4e9c('0x5d')](_0x515642[_0x4e9c('0xc')][_0x4e9c('0x6e')]['toLowerCase']()[_0x4e9c('0x7a')]());return _0x51095c[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x4e9c('0x80')});});});app['post']('/api/users/login',function(_0x25539c,_0x50bf8d,_0x55fe99){passport[_0x4e9c('0x73')]('local-login',async function(_0x5e0f01,_0x31607c,_0x413306){if(_0x5e0f01)return _0x50bf8d[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x25539c['__'](_0x5e0f01[_0x4e9c('0x59')]));if(!_0x31607c)return _0x50bf8d[_0x4e9c('0x65')](0x191)[_0x4e9c('0x46')](_0x25539c['__'](_0x413306[_0x4e9c('0x59')]));if(FusionSettings[_0x4e9c('0x5e')]){if(classroomConnection[_0x4e9c('0x78')]){await _0x395fae(_0x31607c);}_0x25539c[_0x4e9c('0x64')](_0x31607c,function(_0x1b29e3){if(_0x1b29e3){return _0x55fe99(_0x1b29e3);}_0x306463(_0x25539c[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x31607c);return _0x50bf8d[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x25539c['__'](_0x4e9c('0x5c')),'user':_0x31607c});});}else{if(_0x13c7da()==0x0){_0x306463(_0x25539c[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x31607c);if(classroomConnection[_0x4e9c('0x78')]){await _0x395fae(_0x31607c);}_0x25539c[_0x4e9c('0x64')](_0x31607c,function(_0xde29cf){if(_0xde29cf){return _0x55fe99(_0xde29cf);}_0x306463(_0x25539c[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x31607c);return _0x50bf8d['status'](0xc8)['json']({'serverMessage':_0x25539c['__'](_0x4e9c('0x5c')),'user':_0x31607c});});}else{return _0x50bf8d[_0x4e9c('0x65')](0x1f4)['send'](_0x25539c['__'](_0x4e9c('0x4d')));}}})(_0x25539c,_0x50bf8d,_0x55fe99);});app[_0x4e9c('0x37')](_0x4e9c('0x3a'),async function(_0x444be3,_0x4f0987){logger[_0x4e9c('0xd')]('in\x20cloud\x20login');var _0x4a49c9={'method':_0x4e9c('0x2c'),'uri':_0x4e9c('0x51'),'body':{'username':_0x444be3[_0x4e9c('0x79')][_0x4e9c('0x82')],'password':_0x444be3[_0x4e9c('0x79')][_0x4e9c('0x27')]},'json':!![],'rejectUnauthorized':![]};try{let _0x3514d2=await rp(_0x4a49c9);let _0x4be0e4=await User[_0x4e9c('0x87')]({'username':_0x444be3[_0x4e9c('0x79')][_0x4e9c('0x82')]})[_0x4e9c('0x6b')]();if(_0x4be0e4){return _0x4f0987[_0x4e9c('0x65')](0xc8)['send'](_0x4e9c('0x19'));}else{return _0x4f0987[_0x4e9c('0x65')](0xc8)['send'](_0x4e9c('0x66'));}}catch(_0x58219c){logger['info']('Error\x20with\x20request\x20promise.\x20'+_0x58219c);return _0x4f0987[_0x4e9c('0x65')](0x1f4)['send'](_0x58219c);}});app[_0x4e9c('0x37')](_0x4e9c('0x26'),_0x486093(),function(_0x179487,_0x1d528d){if(FusionSettings[_0x4e9c('0x76')][_0x4e9c('0x6a')])if(FusionSettings[_0x4e9c('0x76')][_0x4e9c('0x6a')][_0x4e9c('0x7f')]==_0x179487['user'][_0x4e9c('0x82')])fusionProgram[_0x4e9c('0x52')]();_0x44bf4a(_0x179487['body'][_0x4e9c('0x47')]);_0x179487[_0x4e9c('0x57')]();_0x1d528d[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x4e9c('0x60')});});app[_0x4e9c('0x1b')](_0x4e9c('0x2b'),function(_0x1b6391,_0x56c1b7){User[_0x4e9c('0x87')]({'username':_0x1b6391[_0x4e9c('0xc')]['User_Id'][_0x4e9c('0x6c')]()[_0x4e9c('0x7a')]()},function(_0x29cef6,_0x315280){if(_0x29cef6)return _0x56c1b7[_0x4e9c('0x65')](0x1f4)['send'](_0x29cef6);if(!_0x315280)return _0x56c1b7[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x4e9c('0x5f'));else return _0x56c1b7[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')](_0x315280['securityquestion']);});});app[_0x4e9c('0x37')](_0x4e9c('0xf'),passport['authenticate'](_0x4e9c('0x32'),{'session':!![]}),function(_0x4504a4,_0x252a9e){if(FusionSettings[_0x4e9c('0x5e')]){if(classroomConnection[_0x4e9c('0x78')]){_0x395fae(_0x4504a4[_0x4e9c('0x16')]);}_0x306463(_0x4504a4[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x4504a4[_0x4e9c('0x16')]);return _0x252a9e[_0x4e9c('0x65')](0xc8)['json']({'serverMessage':_0x4e9c('0x4a'),'user':_0x4504a4[_0x4e9c('0x16')]});}else{if(_0x13c7da()==0x0){_0x306463(_0x4504a4[_0x4e9c('0x79')][_0x4e9c('0x47')],_0x4504a4[_0x4e9c('0x16')]);if(classroomConnection[_0x4e9c('0x78')]){_0x395fae(_0x4504a4[_0x4e9c('0x16')]);}return _0x252a9e[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x15')]({'serverMessage':_0x4e9c('0x4a'),'user':_0x4504a4['user']});}else{_0x4504a4['logout']();return _0x252a9e[_0x4e9c('0x65')](0x1f4)[_0x4e9c('0x46')](_0x4e9c('0x9'));}}});app['get']('/api/allowedUserGroups',function(_0x406471,_0x50c6e5){var _0x319f02=[_0x4e9c('0x7f')];User[_0x4e9c('0x87')]({'usergroup':'Admin'},function(_0x3c4efe,_0x4f7e8a){if(_0x3c4efe)return _0x50c6e5[_0x4e9c('0x65')](0xc8)[_0x4e9c('0x46')](_0x319f02);if(!_0x4f7e8a)_0x319f02[_0x4e9c('0x1f')](_0x4e9c('0x74'));return _0x50c6e5['status'](0xc8)['send'](_0x319f02);});});function _0x13c7da(){var _0x153f9e=0x0;for(var _0x4b6e35=0x0;_0x4b6e35<FusionSettings[_0x4e9c('0x31')][_0x4e9c('0x70')];_0x4b6e35++){if(FusionSettings[_0x4e9c('0x31')][_0x4b6e35][_0x4e9c('0x7f')]){_0x153f9e++;}}return _0x153f9e;}function _0x306463(_0x58a327,_0xe6452){for(var _0x3cc16c=0x0;_0x3cc16c<FusionSettings[_0x4e9c('0x31')]['length'];_0x3cc16c++){if(FusionSettings['connectedClients'][_0x3cc16c]['id']==_0x58a327){FusionSettings['connectedClients'][_0x3cc16c][_0x4e9c('0x7f')]=_0xe6452;break;}}}function _0x44bf4a(_0x17717a){for(var _0x1aaf90=0x0;_0x1aaf90<FusionSettings[_0x4e9c('0x31')]['length'];_0x1aaf90++){if(FusionSettings[_0x4e9c('0x31')][_0x1aaf90]['id']==_0x17717a){FusionSettings[_0x4e9c('0x31')][_0x1aaf90]['User']=undefined;break;}}}function _0x409507(_0xbd3f75){for(var _0x84e69c=0x0;_0x84e69c<FusionSettings[_0x4e9c('0x31')]['length'];_0x84e69c++){if(FusionSettings['connectedClients'][_0x84e69c]['User'][_0x4e9c('0x82')]==_0xbd3f75){FusionSettings[_0x4e9c('0x31')][_0x84e69c][_0x4e9c('0x7f')]=undefined;break;}}}function _0x486093(){return function(_0x473354,_0x68c3f1,_0x207790){if(_0x473354[_0x4e9c('0x13')]()){return _0x207790();}else{return _0x68c3f1[_0x4e9c('0x65')](0x191)[_0x4e9c('0x46')](_0x4e9c('0x10'));}};}async function _0x395fae(_0x5122a2){try{await _0x219d7a(_0x5122a2);}catch(_0x4681ff){logger[_0x4e9c('0xd')](_0x4681ff);logger[_0x4e9c('0xd')](_0x4e9c('0x4f')+_0x5122a2[_0x4e9c('0x82')]);}};function _0x219d7a(_0x5c621f){return new Promise(function(_0x2b8638,_0x1eba7f){var _0x27e466=new SSH();_0x27e466['on'](_0x4e9c('0x50'),function(){_0x27e466[_0x4e9c('0x36')](async function(_0x391731,_0x14228b){if(_0x391731){logger[_0x4e9c('0xd')]('Error\x20communicating\x20with\x20c3:\x20'+_0x391731);_0x27e466[_0x4e9c('0x7')]();return _0x1eba7f(_0x391731);}try{await _0x31ac18(_0x14228b);await _0x539cdd(_0x14228b,_0x5c621f[_0x4e9c('0x82')]);await _0x5025b5(_0x14228b,_0x5c621f['username']);await _0x445d04(_0x14228b,_0x5c621f['username']);let _0x24533a=await _0x2e811f(_0x14228b,_0x5c621f[_0x4e9c('0x82')]);logger[_0x4e9c('0xd')](JSON[_0x4e9c('0x2a')](_0x24533a));let _0x24b655=await _0x400fc7(_0x5c621f[_0x4e9c('0xe')]);logger[_0x4e9c('0xd')](JSON['stringify'](_0x24b655));await _0x53ab1f(_0x14228b,_0x5c621f,_0x24533a,_0x24b655);_0x27e466['end']();return _0x2b8638();}catch(_0x4bd8ef){logger[_0x4e9c('0xd')](_0x4bd8ef);_0x27e466[_0x4e9c('0x7')]();return _0x1eba7f(_0x4bd8ef);}});})[_0x4e9c('0x77')]({'host':_0x4e9c('0x3e'),'port':0x16,'username':'c3','password':_0x4e9c('0x71')});});};function _0x31ac18(_0xd5cebd){return new Promise(function(_0x144122,_0x2a0ab8){_0xd5cebd[_0x4e9c('0x3c')](_0x4e9c('0x14'),function(_0x174a42){if(_0x174a42){_0xd5cebd[_0x4e9c('0x8a')](_0x4e9c('0x14'),function(_0x43eb07){if(_0x43eb07){return _0x2a0ab8('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x43eb07);}else{logger[_0x4e9c('0xd')]('Classroom\x20file\x20system\x20created');return _0x144122();}});}else{logger[_0x4e9c('0xd')](_0x4e9c('0x21'));return _0x144122();}});});};function _0x539cdd(_0x2f82ee,_0x453756){return new Promise(function(_0x50168f,_0x7cef0a){_0x2f82ee[_0x4e9c('0x3c')](_0x4e9c('0x14')+_0x453756,function(_0x5be212){if(_0x5be212){_0x2f82ee[_0x4e9c('0x8a')](_0x4e9c('0x14')+_0x453756,function(_0x308ddd){if(_0x308ddd){return _0x7cef0a(_0x4e9c('0x4e')+_0x308ddd);}else{logger['info'](_0x4e9c('0x1a'));return _0x50168f();}});}else{logger[_0x4e9c('0xd')](_0x4e9c('0x3b'));return _0x50168f();}});});};function _0x5025b5(_0x1b8aee,_0xb679e3){return new Promise(function(_0x3b6ba4,_0x1e99e7){_0x1b8aee[_0x4e9c('0x3c')]('/home/c3/FusionFilesystem/'+_0xb679e3+_0x4e9c('0x24'),function(_0x557b0e){if(_0x557b0e){_0x1b8aee['mkdir'](_0x4e9c('0x14')+_0xb679e3+_0x4e9c('0x24'),function(_0x556d73){if(_0x556d73){return _0x1e99e7(_0x4e9c('0x43')+_0x556d73);}else{logger[_0x4e9c('0xd')](_0x4e9c('0x0'));return _0x3b6ba4();}});}else{logger[_0x4e9c('0xd')](_0x4e9c('0x68'));return _0x3b6ba4();}});});};function _0x445d04(_0x6b4587,_0x2f6b00){return new Promise(function(_0x3fdf0d,_0x48f440){_0x6b4587['readdir']('/home/c3/FusionFilesystem/'+_0x2f6b00+'/Blockly/',function(_0x25868a){if(_0x25868a){_0x6b4587[_0x4e9c('0x8a')](_0x4e9c('0x14')+_0x2f6b00+_0x4e9c('0x56'),function(_0x312730){if(_0x312730){return _0x48f440('Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20'+_0x312730);}else{logger[_0x4e9c('0xd')](_0x4e9c('0x17'));return _0x3fdf0d();}});}else{logger['info'](_0x4e9c('0x58'));return _0x3fdf0d();}});});};function _0x2e811f(_0x381176,_0x1756cb){return new Promise(async function(_0x250d07,_0x1f61a1){try{let _0x3911ee={};_0x3911ee[_0x4e9c('0x7e')]=await _0x4f295a(_0x381176,_0x1756cb);_0x3911ee[_0x4e9c('0x11')]=await _0x2cb42a(_0x381176,_0x1756cb);return _0x250d07(_0x3911ee);}catch(_0x3fb918){return _0x1f61a1(_0x3fb918);}});};function _0x4f295a(_0x55a898,_0x39cc29){return new Promise(function(_0x501b80,_0x4e6da5){_0x55a898[_0x4e9c('0x3c')](_0x4e9c('0x14')+_0x39cc29+'/Editor/',function(_0x4a9ff9,_0x3b1989){if(_0x4a9ff9)return _0x4e6da5(_0x4a9ff9);let _0x50fa33=[];for(let _0x551640=0x0;_0x551640<_0x3b1989['length'];_0x551640++){logger[_0x4e9c('0xd')]('Getting\x20data\x20for\x20'+_0x3b1989[_0x551640]['filename']);_0x50fa33['push'](_0x3b1989[_0x551640]);}return _0x501b80(_0x50fa33);});});};function _0x2cb42a(_0x5a64b2,_0x5873da){return new Promise(function(_0x3060a9,_0x877e4e){_0x5a64b2[_0x4e9c('0x3c')](_0x4e9c('0x14')+_0x5873da+'/Blockly/',function(_0x536ba3,_0x4c9b0e){if(_0x536ba3)return _0x877e4e(_0x536ba3);let _0xb15ce2=[];for(let _0x13537d=0x0;_0x13537d<_0x4c9b0e[_0x4e9c('0x70')];_0x13537d++){logger[_0x4e9c('0xd')]('Getting\x20data\x20for\x20'+_0x4c9b0e[_0x13537d]['filename']);_0xb15ce2[_0x4e9c('0x83')](_0x4c9b0e[_0x13537d]);}return _0x3060a9(_0xb15ce2);});});};function _0x400fc7(_0x2ae5d1){return new Promise(async function(_0x67821d,_0x5352ea){try{let _0x379580={};_0x379580[_0x4e9c('0x7e')]=await _0x4cb5e0(_0x2ae5d1);_0x379580[_0x4e9c('0x11')]=await _0x4fbf84(_0x2ae5d1);return _0x67821d(_0x379580);}catch(_0x36b65a){return _0x5352ea(_0x36b65a);}});};function _0x4cb5e0(_0x491fc1){return new Promise(async function(_0x1a9917,_0x457de1){try{let _0x5f56d8=[];let _0x5aba8d=await fs[_0x4e9c('0x3c')](_0x491fc1+_0x4e9c('0x1e'));for(let _0x1bd34b=0x0;_0x1bd34b<_0x5aba8d['length'];_0x1bd34b++){logger['info'](_0x4e9c('0x8')+_0x5aba8d[_0x1bd34b]);let _0x35315f=await fs[_0x4e9c('0x53')](_0x491fc1+_0x4e9c('0x24')+_0x5aba8d[_0x1bd34b]);_0x35315f[_0x4e9c('0x38')]=_0x5aba8d[_0x1bd34b];_0x5f56d8[_0x4e9c('0x83')](_0x35315f);}return _0x1a9917(_0x5f56d8);}catch(_0x46560d){return _0x457de1(_0x46560d);}});};function _0x4fbf84(_0x11fa35){return new Promise(async function(_0xe4b104,_0x13cf15){try{let _0x4e73c4=[];let _0x263c76=await fs[_0x4e9c('0x3c')](_0x11fa35+'/Blockly');for(let _0x392f79=0x0;_0x392f79<_0x263c76['length'];_0x392f79++){logger[_0x4e9c('0xd')]('Getting\x20data\x20for\x20'+_0x263c76[_0x392f79]);let _0xe51dc5=await fs['stat'](_0x11fa35+_0x4e9c('0x56')+_0x263c76[_0x392f79]);_0xe51dc5[_0x4e9c('0x38')]=_0x263c76[_0x392f79];_0x4e73c4['push'](_0xe51dc5);}return _0xe4b104(_0x4e73c4);}catch(_0x44bbb3){return _0x13cf15(_0x44bbb3);}});};function _0x53ab1f(_0x21c3e8,_0x16d1a4,_0x25a1e6,_0x3845e5){return new Promise(async function(_0x2f594b,_0x348580){try{for(let _0x14b2c2=0x0;_0x14b2c2<_0x25a1e6[_0x4e9c('0x7e')][_0x4e9c('0x70')];_0x14b2c2++){let _0x4d5e35=![];for(let _0x4fbf56=0x0;_0x4fbf56<_0x3845e5[_0x4e9c('0x7e')][_0x4e9c('0x70')];_0x4fbf56++){if(_0x3845e5['Editor'][_0x4fbf56]['name']==_0x25a1e6['Editor'][_0x14b2c2][_0x4e9c('0x8c')]){logger[_0x4e9c('0xd')]('Local\x20mtime:\x20'+Math[_0x4e9c('0x44')](_0x3845e5['Editor'][_0x4fbf56][_0x4e9c('0x61')]/0x3e8));logger['info'](_0x4e9c('0x69')+_0x25a1e6[_0x4e9c('0x7e')][_0x14b2c2]['attrs'][_0x4e9c('0x81')]);if(Math['floor'](_0x3845e5[_0x4e9c('0x7e')][_0x4fbf56][_0x4e9c('0x61')]/0x3e8)>_0x25a1e6[_0x4e9c('0x7e')][_0x14b2c2][_0x4e9c('0x86')][_0x4e9c('0x81')]){_0x4d5e35=!![];logger[_0x4e9c('0xd')]('Local\x20\x22'+_0x3845e5[_0x4e9c('0x7e')][_0x4fbf56]['name']+_0x4e9c('0x25'));try{await _0x2f45a4(_0x21c3e8,_0x16d1a4,_0x25a1e6[_0x4e9c('0x7e')][_0x14b2c2][_0x4e9c('0x8c')],_0x4e9c('0x7e'));}catch(_0x9cebc2){return _0x348580(_0x9cebc2);}break;}else{_0x4d5e35=!![];logger['info']('Remote\x20\x22'+_0x3845e5[_0x4e9c('0x7e')][_0x4fbf56][_0x4e9c('0x38')]+_0x4e9c('0x22'));try{await _0x415cc3(_0x21c3e8,_0x16d1a4,_0x25a1e6[_0x4e9c('0x7e')][_0x14b2c2][_0x4e9c('0x8c')],_0x4e9c('0x7e'));}catch(_0x1a5595){logger[_0x4e9c('0xd')]('Error:\x20'+_0x1a5595);return _0x348580(_0x1a5595);}break;}}}if(!_0x4d5e35){logger[_0x4e9c('0xd')](_0x25a1e6['Editor'][_0x14b2c2][_0x4e9c('0x8c')]+_0x4e9c('0x28'));try{await _0x415cc3(_0x21c3e8,_0x16d1a4,_0x25a1e6[_0x4e9c('0x7e')][_0x14b2c2][_0x4e9c('0x8c')],'Editor');}catch(_0x3d82e5){return _0x348580(_0x3d82e5);}}}for(let _0x6be236=0x0;_0x6be236<_0x25a1e6['Blockly'][_0x4e9c('0x70')];_0x6be236++){let _0x5cb20e=![];for(let _0x238ac7=0x0;_0x238ac7<_0x3845e5[_0x4e9c('0x11')]['length'];_0x238ac7++){if(_0x3845e5[_0x4e9c('0x11')][_0x238ac7][_0x4e9c('0x38')]==_0x25a1e6[_0x4e9c('0x11')][_0x6be236]['filename']){logger[_0x4e9c('0xd')](_0x4e9c('0x4')+Math[_0x4e9c('0x44')](_0x3845e5[_0x4e9c('0x11')][_0x238ac7][_0x4e9c('0x61')]/0x3e8));logger[_0x4e9c('0xd')](_0x4e9c('0x69')+_0x25a1e6[_0x4e9c('0x11')][_0x6be236][_0x4e9c('0x86')][_0x4e9c('0x81')]);if(Math[_0x4e9c('0x44')](_0x3845e5['Blockly'][_0x238ac7][_0x4e9c('0x61')]/0x3e8)>_0x25a1e6[_0x4e9c('0x11')][_0x6be236][_0x4e9c('0x86')]['mtime']){_0x5cb20e=!![];logger[_0x4e9c('0xd')](_0x4e9c('0x88')+_0x3845e5[_0x4e9c('0x11')][_0x238ac7]['name']+_0x4e9c('0x25'));try{await _0x2f45a4(_0x21c3e8,_0x16d1a4,_0x25a1e6[_0x4e9c('0x11')][_0x6be236][_0x4e9c('0x8c')],_0x4e9c('0x11'));}catch(_0x56d0bd){return _0x348580(_0x56d0bd);}break;}else{_0x5cb20e=!![];logger['info'](_0x4e9c('0x1d')+_0x3845e5[_0x4e9c('0x11')][_0x238ac7][_0x4e9c('0x38')]+_0x4e9c('0x22'));try{await _0x415cc3(_0x21c3e8,_0x16d1a4,_0x25a1e6['Blockly'][_0x6be236][_0x4e9c('0x8c')],'Blockly');}catch(_0x180465){logger['info']('Error:\x20'+_0x180465);return _0x348580(_0x180465);}break;}}}if(!_0x5cb20e){logger[_0x4e9c('0xd')](_0x25a1e6['Blockly'][_0x6be236][_0x4e9c('0x8c')]+_0x4e9c('0x28'));try{await _0x415cc3(_0x21c3e8,_0x16d1a4,_0x25a1e6[_0x4e9c('0x11')][_0x6be236][_0x4e9c('0x8c')],'Blockly');}catch(_0x5f369a){return _0x348580(_0x5f369a);}}}return _0x2f594b();}catch(_0x57b2a3){return _0x348580(_0x57b2a3);}});};function _0x2f45a4(_0xd5ffc1,_0x33f17e,_0x1a52fc,_0x3a08b7){return new Promise((_0x4a0fb1,_0x2ff9ef)=>{try{let _0xd6585c=_0x4e9c('0x14')+_0x33f17e['username']+'/'+_0x3a08b7+'/'+_0x1a52fc;let _0x279674=_0x33f17e['filepath']+'/'+_0x3a08b7+'/'+_0x1a52fc;logger[_0x4e9c('0xd')]('Remote\x20path:\x20'+_0xd6585c);logger[_0x4e9c('0xd')](_0x4e9c('0x75')+_0x279674);_0xd5ffc1['fastPut'](_0x279674,_0xd6585c,{},function(_0x27611b){if(_0x27611b){logger[_0x4e9c('0xd')](_0x4e9c('0x42')+_0x1a52fc);return _0x2ff9ef(_0x27611b);}logger[_0x4e9c('0xd')](_0x4e9c('0x84')+_0x1a52fc);return _0x4a0fb1();});}catch(_0x4eb334){return _0x2ff9ef(_0x4eb334);}});};function _0x415cc3(_0x27c8e7,_0x5a6699,_0x5333c0,_0x482684){return new Promise((_0x4962bc,_0xfbc6fc)=>{try{let _0x319b2e=_0x4e9c('0x14')+_0x5a6699[_0x4e9c('0x82')]+'/'+_0x482684+'/'+_0x5333c0;let _0x5e810e=_0x5a6699[_0x4e9c('0xe')]+'/'+_0x482684+'/'+_0x5333c0;logger[_0x4e9c('0xd')](_0x4e9c('0x12')+_0x319b2e);logger['info']('Local\x20Path:\x20'+_0x5e810e);_0x27c8e7[_0x4e9c('0x63')](_0x319b2e,_0x5e810e,{},function(_0x3f421d){if(_0x3f421d){logger['info'](_0x4e9c('0x62')+_0x5333c0);return _0xfbc6fc(_0x3f421d);}logger['info']('Retrieved\x20'+_0x5333c0);return _0x4962bc();});}catch(_0xb46613){return _0xfbc6fc(_0xb46613);}});};function _0x493f5f(_0x1bb90a,_0x477448,_0x47f696,_0x5d78fc){_0x1bb90a[_0x4e9c('0x3c')](_0x4e9c('0x14')+_0x477448[_0x4e9c('0x82')],function(_0x5c5c0b){if(_0x5c5c0b){logger[_0x4e9c('0xd')](_0x4e9c('0x6d')+_0x5c5c0b);_0x1bb90a[_0x4e9c('0x8a')](_0x4e9c('0x14')+_0x477448[_0x4e9c('0x82')],function(_0x2004a4){if(_0x2004a4){logger[_0x4e9c('0xd')](_0x4e9c('0x54')+_0x2004a4);throw _0x2004a4;}logger[_0x4e9c('0xd')](_0x4e9c('0x45'));_0x1bb90a[_0x4e9c('0x8a')](_0x4e9c('0x14')+_0x477448[_0x4e9c('0x82')]+_0x4e9c('0x24'),function(_0x1c3134){if(_0x1c3134){logger[_0x4e9c('0xd')]('Error\x20creating\x20editor\x20directory:\x20'+_0x1c3134);throw _0x1c3134;}logger['info'](_0x4e9c('0x33'));_0x1bb90a[_0x4e9c('0x8a')]('/home/c3/FusionFilesystem/'+_0x477448[_0x4e9c('0x82')]+_0x4e9c('0x56'),function(_0x32fd77){if(_0x32fd77){logger[_0x4e9c('0xd')](_0x4e9c('0x1c')+_0x32fd77);throw _0x32fd77;}logger[_0x4e9c('0xd')](_0x4e9c('0x20'));_0x5d78fc(_0x1bb90a,_0x477448,_0x47f696);});});});}_0x5d78fc(_0x1bb90a,_0x477448,_0x47f696);});};function _0x42b632(_0x214e44,_0x49f20a,_0x14f94c){_0x214e44['readdir']('/home/c3/FusionFilesystem/'+_0x49f20a[_0x4e9c('0x82')]+_0x4e9c('0x24'),function(_0x3affe3,_0x517666){if(_0x3affe3){logger[_0x4e9c('0xd')](_0x4e9c('0x72')+_0x3affe3);throw _0x3affe3;}_0x3c2f4c(_0x49f20a,_0x4e9c('0x7e'),_0x517666,_0x14f94c);});_0x214e44[_0x4e9c('0x3c')](_0x4e9c('0x14')+_0x49f20a['username']+_0x4e9c('0x56'),function(_0xe73fc,_0x1f8f1c){if(_0xe73fc){logger[_0x4e9c('0xd')](_0x4e9c('0x7d')+_0xe73fc);throw _0xe73fc;}_0x3c2f4c(_0x49f20a,_0x4e9c('0x11'),_0x1f8f1c,_0x14f94c);});};function _0x3c2f4c(_0x230b0c,_0xe7c6c8,_0x5d015d,_0x412a83){logger[_0x4e9c('0xd')](_0x4e9c('0x8b'));if(_0xe7c6c8==_0x4e9c('0x11')&&_0x5d015d[_0x4e9c('0x70')]==0x0){_0x412a83[_0x4e9c('0x7')]();}for(var _0x4d6d40=0x0;_0x4d6d40<_0x5d015d['length'];_0x4d6d40++){let _0x29a84e=_0x4e9c('0x14')+_0x230b0c[_0x4e9c('0x82')]+'/'+_0xe7c6c8+'/'+_0x5d015d[_0x4d6d40]['filename'];let _0x2d797d='app/filesystem/'+_0x230b0c[_0x4e9c('0x82')]+'/'+_0xe7c6c8+'/';logger['info'](_0x4e9c('0x7c')+_0x29a84e+_0x4e9c('0x4c')+_0x2d797d);SCP[_0x4e9c('0x5b')](_0x4e9c('0x6')+_0x29a84e,_0x2d797d,function(_0x28ba63){if(_0x28ba63){logger[_0x4e9c('0xd')]('Error\x20downloading:\x20'+_0x29a84e+',\x20error:\x20'+_0x28ba63);}if(_0xe7c6c8==_0x4e9c('0x11')&&(_0x4d6d40=_0x5d015d[_0x4e9c('0x70')]-0x1)){_0x412a83[_0x4e9c('0x7')]();}});}};}();