const _0x221c=['Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','mkdir','https://172.16.0.1/backend/auth/ldap','get','mtime','../../utils/logger','\x20to\x20','password','Guest\x20login\x20unavailable\x20in\x20classroom\x20mode','lastname','/api/allowedUserGroups','/User/Login','find','filepath','User\x20c3\x20directory\x20created','firstname','Error\x20reading\x20user\x20file\x20system:\x20','stringify','floor','POST','User\x27s\x20editor\x20directory\x20created','User\x27s\x20classroom\x20file\x20system\x20created','exec','REGISTER.CREATED','removeFileSystem','Error\x20creating\x20editor\x20directory:\x20','Classroom\x20file\x20system\x20created','Guest','Remote\x20path:\x20','User\x27s\x20blockly\x20directory\x20created','logout','User\x27s\x20editor\x20directory\x20found','/api/users/:User_Id','Error\x20creating\x20classroom\x20file\x20system:\x20','../../classroom/connection','passport','Remote\x20\x22','c3:root@172.16.0.1:','connected','User\x27s\x20classroom\x20file\x20system\x20found','verbose','findOne','Editor\x20directory\x20created','usergroup','username','ssh2','push',',\x20error:\x20','Local\x20Path:\x20','User\x20Unauthenticated','Error\x20reading\x20classroom\x20editor\x20files:\x20','email','connectedClients','securityquestion','/home/c3/FusionFilesystem/','/api/users','\x22\x20newer,\x20updating\x20local\x20version','save','Attempting\x20standard\x20login','../../fusionProgram','exports','name','Error\x20creating\x20blockly\x20directory:\x20','/Blockly/','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','debug','local-login','stat','Getting\x20data\x20for\x20','mtimeMs','message','scp','Error\x20downloading\x20file:\x20','/Editor','172.16.0.1','Error','language','logIn','Retrieving\x20files','path','Error\x20downloading\x20classroom\x20files\x20for\x20','Moving:\x20','Successfully\x20deleted','authenticate','Error:\x20','mriguest','User_Id','Error\x20creating\x20user\x20file\x20system:\x20','Uploaded\x20','local-signup','Client','attrs','securityanswer','Another\x20user\x20is\x20already\x20logged\x20in.','end','Logged\x20out\x20successfully','Local\x20mtime:\x20','error','/api/users/login','StatusCodeError','socketId','generateHash','send','filename','Blockly\x20directory\x20created','Remote\x20mtime:\x20','User\x20does\x20not\x20exist','body','Blockly','params','fusion_program_running','Editor','Error\x20communicating\x20with\x20c3:\x20','Error\x20uploading\x20file:\x20','readdir','fastGet','LOGIN.INVALID','\x20not\x20a\x20common\x20file!','toLowerCase','Error\x20reaching\x20classroom\x20server','user','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','/api/recovery/:User_Id','info','unshift','MultiUserAccess','../../models/user','delete','../../global/fusionSettings','Local\x20\x22','post','/api/recovery','root','User\x20updated!','length','trim','json','RequestError','status','LOGIN.SUCCESS','sftp','isAuthenticated','\x22\x20newer,\x20updating\x20classroom\x20version','User','Error\x20downloading:\x20','KillProgram','SocketVariables','User\x27s\x20blockly\x20directory\x20found','Admin'];(function(_0x47d249,_0x221c78){const _0x3c39e1=function(_0x4c810e){while(--_0x4c810e){_0x47d249['push'](_0x47d249['shift']());}};_0x3c39e1(++_0x221c78);}(_0x221c,0x191));const _0x3c39=function(_0x47d249,_0x221c78){_0x47d249=_0x47d249-0x0;let _0x3c39e1=_0x221c[_0x47d249];return _0x3c39e1;};var SCP=require('scp2');var SSH=require(_0x3c39('0x5e'))[_0x3c39('0x8c')];var fs=require('fs-extra');var path=require(_0x3c39('0x81'));var rp=require('request-promise');const classroomConnection=require(_0x3c39('0x53'));const logger=require(_0x3c39('0x36'));const app=require('../../express');const User=require(_0x3c39('0x1a'));const passport=require(_0x3c39('0x54'));const FusionSettings=require(_0x3c39('0x1c'));const fusionProgram=require(_0x3c39('0x6c'));module[_0x3c39('0x6d')]=function(){app['get'](_0x3c39('0x68'),_0x3ef53a(),function(_0x493f08,_0x1f3443){User[_0x3c39('0x3d')]({'usergroup':{'$ne':_0x3c39('0x4c')}},function(_0x3861a3,_0x11f8f6){if(_0x3861a3)_0x1f3443['send'](_0x3861a3);_0x1f3443[_0x3c39('0x24')](_0x11f8f6);});});app[_0x3c39('0x1e')](_0x3c39('0x68'),async function(_0x2d4a21,_0x47289b,_0x57b7c1){await _0x21b9f2(_0x2d4a21,_0x47289b,_0x57b7c1);});async function _0x21b9f2(_0x2761ad,_0x2c8475,_0x47d74f){passport[_0x3c39('0x85')](_0x3c39('0x8b'),async function(_0x48c3c5,_0x35be32,_0xaea06){if(_0x48c3c5)return _0x2c8475['status'](0x1f4)[_0x3c39('0x2')](_0x48c3c5);if(_0xaea06&&_0xaea06[_0x3c39('0x78')])return _0x2c8475['status'](0x1f4)[_0x3c39('0x2')](_0x2761ad['__'](_0xaea06[_0x3c39('0x78')]));if(FusionSettings[_0x3c39('0x19')]){if(classroomConnection[_0x3c39('0x57')]){try{await _0xb99459(_0x35be32);}catch(_0x1e5b5a){logger['error'](_0x1e5b5a);}}_0x2761ad[_0x3c39('0x7f')](_0x35be32,function(_0x58c758){if(_0x58c758){return _0x47d74f(_0x58c758);}_0x5120f2(_0x2761ad[_0x3c39('0x7')][_0x3c39('0x0')],_0x35be32);return _0x2c8475[_0x3c39('0x26')](0xc8)['json']({'serverMessage':_0x2761ad['__']('REGISTER.CREATED'),'user':_0x35be32});});}else{if(_0x2afa9f()==0x0){if(classroomConnection[_0x3c39('0x57')]){try{await _0xb99459(_0x35be32);}catch(_0x440588){logger[_0x3c39('0x93')](_0x440588);}}_0x2761ad['logIn'](_0x35be32,function(_0x2f1ae0){if(_0x2f1ae0){return _0x47d74f(_0x2f1ae0);}_0x5120f2(_0x2761ad[_0x3c39('0x7')][_0x3c39('0x0')],_0x35be32);return _0x2c8475['status'](0xc8)['json']({'serverMessage':_0x2761ad['__'](_0x3c39('0x48')),'user':_0x35be32});});}else{return _0x2c8475[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x2761ad['__']('REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED'));}}})(_0x2761ad,_0x2c8475,_0x47d74f);};app[_0x3c39('0x1e')]('/api/users',passport[_0x3c39('0x85')](_0x3c39('0x8b'),{'session':!![]}),function(_0x2e743f,_0x5e0219){if(_0x2e743f['user'][_0x3c39('0x7d')]){return _0x5e0219[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x2e743f[_0x3c39('0x14')]['Error']);}else{}});app[_0x3c39('0x34')](_0x3c39('0x51'),_0x3ef53a(),function(_0x1100a2,_0x390fbe){User[_0x3c39('0x5a')]({'username':_0x1100a2['params'][_0x3c39('0x88')][_0x3c39('0x12')]()[_0x3c39('0x23')]()},function(_0x269006,_0x2378da){if(_0x269006)_0x390fbe[_0x3c39('0x2')](_0x269006);_0x390fbe[_0x3c39('0x24')](_0x2378da);});});app['put'](_0x3c39('0x51'),_0x3ef53a(),function(_0x3738c6,_0x1b2afc){User[_0x3c39('0x5a')]({'username':_0x3738c6[_0x3c39('0x9')][_0x3c39('0x88')][_0x3c39('0x12')]()[_0x3c39('0x23')]()},function(_0x28b4be,_0xe0e219){if(_0x28b4be)_0x1b2afc[_0x3c39('0x2')](_0x28b4be);if(_0x3738c6[_0x3c39('0x7')][_0x3c39('0x38')]){_0xe0e219[_0x3c39('0x38')]=_0xe0e219[_0x3c39('0x1')](_0x3738c6[_0x3c39('0x7')][_0x3c39('0x38')]);}if(_0x3738c6[_0x3c39('0x7')]['firstname']){_0xe0e219[_0x3c39('0x40')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x40')];}if(_0x3738c6[_0x3c39('0x7')][_0x3c39('0x3a')]){_0xe0e219[_0x3c39('0x3a')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x3a')];}if(_0x3738c6[_0x3c39('0x7')][_0x3c39('0x7e')]){_0xe0e219[_0x3c39('0x7e')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x7e')];}if(_0x3738c6[_0x3c39('0x7')]['email']){_0xe0e219[_0x3c39('0x64')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x64')];}if(_0x3738c6[_0x3c39('0x7')]['defaultprogramminglanguage']){_0xe0e219['defaultprogramminglanguage']=_0x3738c6[_0x3c39('0x7')]['defaultprogramminglanguage'];}if(_0x3738c6['body'][_0x3c39('0x66')]){_0xe0e219[_0x3c39('0x66')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x66')];}if(_0x3738c6['body']['securityanswer']){_0xe0e219[_0x3c39('0x8e')]=_0x3738c6[_0x3c39('0x7')]['securityanswer'];}if(_0x3738c6[_0x3c39('0x7')][_0x3c39('0x5c')]){_0xe0e219[_0x3c39('0x5c')]=_0x3738c6[_0x3c39('0x7')][_0x3c39('0x5c')];}_0xe0e219[_0x3c39('0x6a')](function(_0x430fb7){if(_0x430fb7)_0x1b2afc[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x430fb7);_0x1b2afc[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')]({'serverMessage':_0x3c39('0x21')});});});});app[_0x3c39('0x1b')]('/api/users/:User_Id',_0x3ef53a(),function(_0x248c89,_0x72751c){if(_0x248c89[_0x3c39('0x9')][_0x3c39('0x88')][_0x3c39('0x12')]()[_0x3c39('0x23')]()==_0x248c89[_0x3c39('0x14')][_0x3c39('0x5d')]){if(FusionSettings['SocketVariables'][_0x3c39('0xa')])if(FusionSettings[_0x3c39('0x2e')]['fusion_program_running'][_0x3c39('0x2b')]==_0x248c89[_0x3c39('0x14')][_0x3c39('0x5d')])fusionProgram['KillProgram']();_0x5517aa(_0x248c89[_0x3c39('0x14')][_0x3c39('0x5d')]);_0x248c89['logout']();}User['remove']({'username':_0x248c89['params'][_0x3c39('0x88')]['toLowerCase']()[_0x3c39('0x23')]()},function(_0x34eb75,_0x3cae03){if(_0x34eb75)return _0x72751c[_0x3c39('0x2')](_0x34eb75);User[_0x3c39('0x49')](_0x248c89[_0x3c39('0x9')][_0x3c39('0x88')][_0x3c39('0x12')]()[_0x3c39('0x23')]());return _0x72751c[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')]({'serverMessage':_0x3c39('0x84')});});});app[_0x3c39('0x1e')](_0x3c39('0x94'),async(_0x30c74f,_0x36fd85,_0x5765d5)=>{if(!FusionSettings[_0x3c39('0x19')]&&_0x2afa9f()>0x0)return _0x36fd85[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x30c74f['__']('LOGIN.MULTIUSER_DENIED'));if(!classroomConnection['connected']){logger[_0x3c39('0x73')](_0x3c39('0x6b'));await _0x1f6b79(_0x30c74f,_0x36fd85,_0x5765d5);}else{logger[_0x3c39('0x73')]('Attempting\x20classroom\x20login');if(_0x30c74f[_0x3c39('0x7')][_0x3c39('0x5d')]==_0x3c39('0x87')&&_0x30c74f[_0x3c39('0x7')][_0x3c39('0x38')]==_0x3c39('0x87')){return _0x36fd85[_0x3c39('0x26')](0x1f4)['send'](_0x3c39('0x39'));}let _0x709e9f={'method':_0x3c39('0x44'),'uri':_0x3c39('0x33'),'body':{'username':_0x30c74f[_0x3c39('0x7')][_0x3c39('0x5d')],'password':_0x30c74f[_0x3c39('0x7')]['password']},'json':!![],'rejectUnauthorized':![],'timeout':0x1388};try{await rp(_0x709e9f);let _0x1c4031=await User[_0x3c39('0x5a')]({'username':_0x30c74f['body'][_0x3c39('0x5d')]})[_0x3c39('0x47')]();if(_0x1c4031){await _0x1f6b79(_0x30c74f,_0x36fd85,_0x5765d5);}else{_0x30c74f[_0x3c39('0x7')][_0x3c39('0x66')]='Who\x20is\x20your\x20favorite\x20actor,\x20musician,\x20or\x20artist?';_0x30c74f[_0x3c39('0x7')]['securityanswer']=_0x30c74f[_0x3c39('0x7')]['username'];_0x30c74f[_0x3c39('0x7')][_0x3c39('0x5c')]=_0x3c39('0x2b');await _0x21b9f2(_0x30c74f,_0x36fd85,_0x5765d5);}}catch(_0x44e0bb){logger[_0x3c39('0x17')]('Error\x20with\x20request\x20promise.\x20'+_0x44e0bb);if(_0x44e0bb['name']==_0x3c39('0x95')){return _0x36fd85[_0x3c39('0x26')](0x191)[_0x3c39('0x2')](_0x30c74f['__'](_0x3c39('0x10')));}else if(_0x44e0bb[_0x3c39('0x6e')]==_0x3c39('0x25')){return _0x36fd85[_0x3c39('0x26')](0x1f4)['send'](_0x3c39('0x13'));}else{return _0x36fd85[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x44e0bb['message']);}}}});async function _0x1f6b79(_0x5c3602,_0xcf9201,_0xbb766b){passport[_0x3c39('0x85')](_0x3c39('0x74'),async function(_0x34e6aa,_0x2f7de7,_0x1ec26c){if(_0x34e6aa)return _0xcf9201['status'](0x1f4)[_0x3c39('0x2')](_0x5c3602['__'](_0x34e6aa[_0x3c39('0x78')]));if(!_0x2f7de7)return _0xcf9201['status'](0x191)[_0x3c39('0x2')](_0x5c3602['__'](_0x1ec26c[_0x3c39('0x78')]));_0x5c3602['logIn'](_0x2f7de7,async function(_0x52c5f1){if(_0x52c5f1){return _0xbb766b(_0x52c5f1);}_0x5120f2(_0x5c3602[_0x3c39('0x7')][_0x3c39('0x0')],_0x2f7de7);try{if(classroomConnection[_0x3c39('0x57')])await _0xb99459(_0x2f7de7);}catch(_0x442132){logger[_0x3c39('0x93')](_0x442132);}return _0xcf9201[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')]({'serverMessage':_0x5c3602['__'](_0x3c39('0x27')),'user':_0x2f7de7});});})(_0x5c3602,_0xcf9201,_0xbb766b);};app[_0x3c39('0x1e')]('/api/users/logout',_0x3ef53a(),function(_0xd539db,_0x203350){if(FusionSettings['SocketVariables'][_0x3c39('0xa')])if(FusionSettings[_0x3c39('0x2e')]['fusion_program_running'][_0x3c39('0x2b')]==_0xd539db[_0x3c39('0x14')][_0x3c39('0x5d')])fusionProgram[_0x3c39('0x2d')]();_0x237a29(_0xd539db[_0x3c39('0x7')]['socketId']);_0xd539db['logout']();_0x203350[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')]({'serverMessage':_0x3c39('0x91')});});app[_0x3c39('0x34')](_0x3c39('0x16'),function(_0x4c5c81,_0x7e0fad){User['findOne']({'username':_0x4c5c81[_0x3c39('0x9')][_0x3c39('0x88')][_0x3c39('0x12')]()[_0x3c39('0x23')]()},function(_0x524883,_0x4ccb1c){if(_0x524883)return _0x7e0fad[_0x3c39('0x26')](0x1f4)['send'](_0x524883);if(!_0x4ccb1c)return _0x7e0fad[_0x3c39('0x26')](0x1f4)[_0x3c39('0x2')](_0x3c39('0x6'));else return _0x7e0fad[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')](_0x4ccb1c[_0x3c39('0x66')]);});});app[_0x3c39('0x1e')](_0x3c39('0x1f'),passport[_0x3c39('0x85')]('local-recovery',{'session':!![]}),async function(_0x3ec380,_0x1b5dc6){if(FusionSettings[_0x3c39('0x19')]){if(classroomConnection['connected']){try{await _0xb99459(user);}catch(_0x3635d3){logger['error'](_0x3635d3);}}_0x5120f2(_0x3ec380[_0x3c39('0x7')]['socketId'],_0x3ec380[_0x3c39('0x14')]);return _0x1b5dc6[_0x3c39('0x26')](0xc8)[_0x3c39('0x24')]({'serverMessage':'Login\x20Successful','user':_0x3ec380[_0x3c39('0x14')]});}else{if(_0x2afa9f()==0x0){_0x5120f2(_0x3ec380[_0x3c39('0x7')][_0x3c39('0x0')],_0x3ec380[_0x3c39('0x14')]);if(classroomConnection['connected']){try{await _0xb99459(user);}catch(_0x111196){logger[_0x3c39('0x93')](_0x111196);}}return _0x1b5dc6['status'](0xc8)[_0x3c39('0x24')]({'serverMessage':'Login\x20Successful','user':_0x3ec380[_0x3c39('0x14')]});}else{_0x3ec380[_0x3c39('0x4f')]();return _0x1b5dc6['status'](0x1f4)[_0x3c39('0x2')](_0x3c39('0x8f'));}}});app[_0x3c39('0x34')](_0x3c39('0x3b'),function(_0x43dd38,_0x20495d){var _0x23e7db=[_0x3c39('0x2b')];User[_0x3c39('0x5a')]({'usergroup':_0x3c39('0x30')},function(_0x30e41b,_0x273001){if(_0x30e41b)return _0x20495d['status'](0xc8)[_0x3c39('0x2')](_0x23e7db);if(!_0x273001)_0x23e7db[_0x3c39('0x18')](_0x3c39('0x30'));return _0x20495d['status'](0xc8)[_0x3c39('0x2')](_0x23e7db);});});app['get'](_0x3c39('0x3c'),async(_0x4e8b61,_0x87d7cc,_0x402142)=>{_0x402142();});function _0x2afa9f(){var _0xabb939=0x0;for(var _0x130fd4=0x0;_0x130fd4<FusionSettings[_0x3c39('0x65')][_0x3c39('0x22')];_0x130fd4++){if(FusionSettings[_0x3c39('0x65')][_0x130fd4][_0x3c39('0x2b')]){_0xabb939++;}}return _0xabb939;}function _0x5120f2(_0x3793ed,_0x3fc16d){for(var _0x5e4240=0x0;_0x5e4240<FusionSettings['connectedClients']['length'];_0x5e4240++){if(FusionSettings['connectedClients'][_0x5e4240]['id']==_0x3793ed){FusionSettings['connectedClients'][_0x5e4240][_0x3c39('0x2b')]=_0x3fc16d;break;}}}function _0x237a29(_0x4043df){for(var _0x221d42=0x0;_0x221d42<FusionSettings[_0x3c39('0x65')][_0x3c39('0x22')];_0x221d42++){if(FusionSettings[_0x3c39('0x65')][_0x221d42]['id']==_0x4043df){FusionSettings[_0x3c39('0x65')][_0x221d42]['User']=undefined;break;}}}function _0x5517aa(_0x46c23){for(var _0x37fb08=0x0;_0x37fb08<FusionSettings[_0x3c39('0x65')][_0x3c39('0x22')];_0x37fb08++){if(FusionSettings[_0x3c39('0x65')][_0x37fb08][_0x3c39('0x2b')]['username']==_0x46c23){FusionSettings[_0x3c39('0x65')][_0x37fb08][_0x3c39('0x2b')]=undefined;break;}}}function _0x3ef53a(){return function(_0x23f26e,_0xd52e36,_0x7d8a41){if(_0x23f26e[_0x3c39('0x29')]()){return _0x7d8a41();}else{return _0xd52e36[_0x3c39('0x26')](0x191)['send'](_0x3c39('0x62'));}};}async function _0xb99459(_0xe13ba0){try{await _0x480c37(_0xe13ba0);}catch(_0x380a7a){logger[_0x3c39('0x93')](_0x3c39('0x82')+_0xe13ba0[_0x3c39('0x5d')]);}};function _0x480c37(_0x11ac70){return new Promise(function(_0xe2b175,_0x5bb91a){var _0x4a1645=new SSH();_0x4a1645['on']('ready',function(){_0x4a1645[_0x3c39('0x28')](async function(_0x31b30e,_0x4a122f){if(_0x31b30e){logger[_0x3c39('0x93')](_0x3c39('0xc')+_0x31b30e);_0x4a1645[_0x3c39('0x90')]();return _0x5bb91a(_0x31b30e);}try{await _0x169929(_0x4a122f);await _0x4a84a5(_0x4a122f,_0x11ac70[_0x3c39('0x5d')]);await _0x52df32(_0x4a122f,_0x11ac70[_0x3c39('0x5d')]);await _0x20fcda(_0x4a122f,_0x11ac70['username']);let _0x63ac32=await _0x197dd9(_0x4a122f,_0x11ac70[_0x3c39('0x5d')]);logger[_0x3c39('0x73')](JSON[_0x3c39('0x42')](_0x63ac32));let _0x596825=await _0x5dd16b(_0x11ac70[_0x3c39('0x3e')]);logger[_0x3c39('0x73')](JSON[_0x3c39('0x42')](_0x596825));await _0x79eee0(_0x4a122f,_0x11ac70,_0x63ac32,_0x596825);_0x4a1645['end']();return _0xe2b175();}catch(_0x406e7d){logger[_0x3c39('0x17')](_0x406e7d);_0x4a1645[_0x3c39('0x90')]();return _0x5bb91a(_0x406e7d);}});})['connect']({'host':_0x3c39('0x7c'),'port':0x16,'username':'c3','password':_0x3c39('0x20')});});};function _0x169929(_0x54dc81){return new Promise(function(_0x277779,_0x5e2771){_0x54dc81[_0x3c39('0xe')](_0x3c39('0x67'),function(_0x2ec7c1){if(_0x2ec7c1){_0x54dc81[_0x3c39('0x32')](_0x3c39('0x67'),function(_0x53f173){if(_0x53f173){return _0x5e2771(_0x3c39('0x52')+_0x53f173);}else{logger[_0x3c39('0x59')](_0x3c39('0x4b'));return _0x277779();}});}else{logger['verbose']('Classroom\x20file\x20system\x20found');return _0x277779();}});});};function _0x4a84a5(_0x1af6c9,_0x24ebc6){return new Promise(function(_0x2da1d2,_0x32497a){_0x1af6c9['readdir'](_0x3c39('0x67')+_0x24ebc6,function(_0x46d0e2){if(_0x46d0e2){_0x1af6c9[_0x3c39('0x32')](_0x3c39('0x67')+_0x24ebc6,function(_0x4a73b7){if(_0x4a73b7){return _0x32497a(_0x3c39('0x31')+_0x4a73b7);}else{logger[_0x3c39('0x59')](_0x3c39('0x46'));return _0x2da1d2();}});}else{logger['verbose'](_0x3c39('0x58'));return _0x2da1d2();}});});};function _0x52df32(_0x222019,_0x26e93c){return new Promise(function(_0x2fd50b,_0x2b1cb1){_0x222019[_0x3c39('0xe')](_0x3c39('0x67')+_0x26e93c+_0x3c39('0x71'),function(_0x228783){if(_0x228783){_0x222019['mkdir'](_0x3c39('0x67')+_0x26e93c+_0x3c39('0x71'),function(_0x453b61){if(_0x453b61){return _0x2b1cb1(_0x3c39('0x72')+_0x453b61);}else{logger[_0x3c39('0x59')](_0x3c39('0x45'));return _0x2fd50b();}});}else{logger[_0x3c39('0x59')](_0x3c39('0x50'));return _0x2fd50b();}});});};function _0x20fcda(_0x145156,_0x144272){return new Promise(function(_0x5eba49,_0x347b05){_0x145156[_0x3c39('0xe')](_0x3c39('0x67')+_0x144272+_0x3c39('0x70'),function(_0x5b33cc){if(_0x5b33cc){_0x145156['mkdir'](_0x3c39('0x67')+_0x144272+'/Blockly/',function(_0x17e089){if(_0x17e089){return _0x347b05(_0x3c39('0x15')+_0x17e089);}else{logger['verbose'](_0x3c39('0x4e'));return _0x5eba49();}});}else{logger[_0x3c39('0x59')](_0x3c39('0x2f'));return _0x5eba49();}});});};function _0x197dd9(_0x4a18f5,_0x5d9d98){return new Promise(async function(_0x3d1f12,_0x25ebed){try{let _0x5d3c9a={};_0x5d3c9a[_0x3c39('0xb')]=await _0x55bbdf(_0x4a18f5,_0x5d9d98);_0x5d3c9a['Blockly']=await _0x536e9c(_0x4a18f5,_0x5d9d98);return _0x3d1f12(_0x5d3c9a);}catch(_0x1d8d3c){return _0x25ebed(_0x1d8d3c);}});};function _0x55bbdf(_0x11d4d6,_0x1fa26b){return new Promise(function(_0x4b7c2c,_0x6e03db){_0x11d4d6['readdir'](_0x3c39('0x67')+_0x1fa26b+_0x3c39('0x71'),function(_0x3312ad,_0x100d95){if(_0x3312ad)return _0x6e03db(_0x3312ad);let _0x3ce37a=[];for(let _0x4bef37=0x0;_0x4bef37<_0x100d95['length'];_0x4bef37++){logger[_0x3c39('0x73')]('Getting\x20data\x20for\x20'+_0x100d95[_0x4bef37]['filename']);_0x3ce37a['push'](_0x100d95[_0x4bef37]);}return _0x4b7c2c(_0x3ce37a);});});};function _0x536e9c(_0x3218b5,_0x53f728){return new Promise(function(_0x10a698,_0x46b363){_0x3218b5[_0x3c39('0xe')](_0x3c39('0x67')+_0x53f728+'/Blockly/',function(_0x42ce13,_0x46b39b){if(_0x42ce13)return _0x46b363(_0x42ce13);let _0x10178b=[];for(let _0x1ff1d8=0x0;_0x1ff1d8<_0x46b39b[_0x3c39('0x22')];_0x1ff1d8++){logger['debug'](_0x3c39('0x76')+_0x46b39b[_0x1ff1d8]['filename']);_0x10178b[_0x3c39('0x5f')](_0x46b39b[_0x1ff1d8]);}return _0x10a698(_0x10178b);});});};function _0x5dd16b(_0x166b44){return new Promise(async function(_0x1d5d7c,_0x11a65e){try{let _0x52fb14={};_0x52fb14[_0x3c39('0xb')]=await _0x3527b1(_0x166b44);_0x52fb14[_0x3c39('0x8')]=await _0x3fe126(_0x166b44);return _0x1d5d7c(_0x52fb14);}catch(_0x48983d){return _0x11a65e(_0x48983d);}});};function _0x3527b1(_0x192377){return new Promise(async function(_0x4bedea,_0x5208ac){try{let _0x29757a=[];let _0x44f21a=await fs[_0x3c39('0xe')](_0x192377+_0x3c39('0x7b'));for(let _0x4bb054=0x0;_0x4bb054<_0x44f21a[_0x3c39('0x22')];_0x4bb054++){logger['debug'](_0x3c39('0x76')+_0x44f21a[_0x4bb054]);let _0x36cf73=await fs[_0x3c39('0x75')](_0x192377+'/Editor/'+_0x44f21a[_0x4bb054]);_0x36cf73[_0x3c39('0x6e')]=_0x44f21a[_0x4bb054];_0x29757a[_0x3c39('0x5f')](_0x36cf73);}return _0x4bedea(_0x29757a);}catch(_0x1ba9ec){return _0x5208ac(_0x1ba9ec);}});};function _0x3fe126(_0xec7696){return new Promise(async function(_0x632ff0,_0x152459){try{let _0x393763=[];let _0x35dbcc=await fs[_0x3c39('0xe')](_0xec7696+'/Blockly');for(let _0x1ecd9d=0x0;_0x1ecd9d<_0x35dbcc[_0x3c39('0x22')];_0x1ecd9d++){logger[_0x3c39('0x73')](_0x3c39('0x76')+_0x35dbcc[_0x1ecd9d]);let _0x540d46=await fs['stat'](_0xec7696+'/Blockly/'+_0x35dbcc[_0x1ecd9d]);_0x540d46[_0x3c39('0x6e')]=_0x35dbcc[_0x1ecd9d];_0x393763['push'](_0x540d46);}return _0x632ff0(_0x393763);}catch(_0x2d5733){return _0x152459(_0x2d5733);}});};function _0x79eee0(_0xb1bd27,_0x40d5dc,_0x2801c6,_0x44a790){return new Promise(async function(_0x45fd1f,_0x44a75){try{for(let _0x263ca2=0x0;_0x263ca2<_0x2801c6['Editor']['length'];_0x263ca2++){let _0x39342e=![];for(let _0x371cce=0x0;_0x371cce<_0x44a790[_0x3c39('0xb')]['length'];_0x371cce++){if(_0x44a790[_0x3c39('0xb')][_0x371cce][_0x3c39('0x6e')]==_0x2801c6[_0x3c39('0xb')][_0x263ca2][_0x3c39('0x3')]){logger[_0x3c39('0x73')](_0x3c39('0x92')+Math[_0x3c39('0x43')](_0x44a790[_0x3c39('0xb')][_0x371cce][_0x3c39('0x77')]/0x3e8));logger[_0x3c39('0x73')]('Remote\x20mtime:\x20'+_0x2801c6[_0x3c39('0xb')][_0x263ca2][_0x3c39('0x8d')][_0x3c39('0x35')]);if(Math[_0x3c39('0x43')](_0x44a790[_0x3c39('0xb')][_0x371cce][_0x3c39('0x77')]/0x3e8)>_0x2801c6[_0x3c39('0xb')][_0x263ca2][_0x3c39('0x8d')][_0x3c39('0x35')]){_0x39342e=!![];logger[_0x3c39('0x73')](_0x3c39('0x1d')+_0x44a790[_0x3c39('0xb')][_0x371cce]['name']+_0x3c39('0x2a'));try{await _0x263aa9(_0xb1bd27,_0x40d5dc,_0x2801c6[_0x3c39('0xb')][_0x263ca2][_0x3c39('0x3')],_0x3c39('0xb'));}catch(_0x555b1f){return _0x44a75(_0x555b1f);}break;}else{_0x39342e=!![];logger['debug'](_0x3c39('0x55')+_0x44a790['Editor'][_0x371cce]['name']+_0x3c39('0x69'));try{await _0x55ad24(_0xb1bd27,_0x40d5dc,_0x2801c6['Editor'][_0x263ca2][_0x3c39('0x3')],_0x3c39('0xb'));}catch(_0x39b288){logger['error'](_0x3c39('0x86')+_0x39b288);return _0x44a75(_0x39b288);}break;}}}if(!_0x39342e){logger[_0x3c39('0x73')](_0x2801c6[_0x3c39('0xb')][_0x263ca2][_0x3c39('0x3')]+_0x3c39('0x11'));try{await _0x55ad24(_0xb1bd27,_0x40d5dc,_0x2801c6['Editor'][_0x263ca2]['filename'],'Editor');}catch(_0x15b66e){return _0x44a75(_0x15b66e);}}}for(let _0x37f820=0x0;_0x37f820<_0x2801c6[_0x3c39('0x8')][_0x3c39('0x22')];_0x37f820++){let _0xa26a5f=![];for(let _0x323c64=0x0;_0x323c64<_0x44a790[_0x3c39('0x8')][_0x3c39('0x22')];_0x323c64++){if(_0x44a790['Blockly'][_0x323c64]['name']==_0x2801c6['Blockly'][_0x37f820][_0x3c39('0x3')]){logger['debug'](_0x3c39('0x92')+Math[_0x3c39('0x43')](_0x44a790[_0x3c39('0x8')][_0x323c64][_0x3c39('0x77')]/0x3e8));logger[_0x3c39('0x73')](_0x3c39('0x5')+_0x2801c6[_0x3c39('0x8')][_0x37f820][_0x3c39('0x8d')][_0x3c39('0x35')]);if(Math[_0x3c39('0x43')](_0x44a790['Blockly'][_0x323c64][_0x3c39('0x77')]/0x3e8)>_0x2801c6['Blockly'][_0x37f820][_0x3c39('0x8d')][_0x3c39('0x35')]){_0xa26a5f=!![];logger[_0x3c39('0x73')](_0x3c39('0x1d')+_0x44a790[_0x3c39('0x8')][_0x323c64][_0x3c39('0x6e')]+_0x3c39('0x2a'));try{await _0x263aa9(_0xb1bd27,_0x40d5dc,_0x2801c6[_0x3c39('0x8')][_0x37f820][_0x3c39('0x3')],_0x3c39('0x8'));}catch(_0x22340f){return _0x44a75(_0x22340f);}break;}else{_0xa26a5f=!![];logger['debug']('Remote\x20\x22'+_0x44a790[_0x3c39('0x8')][_0x323c64][_0x3c39('0x6e')]+_0x3c39('0x69'));try{await _0x55ad24(_0xb1bd27,_0x40d5dc,_0x2801c6[_0x3c39('0x8')][_0x37f820]['filename'],'Blockly');}catch(_0x96c8a4){logger[_0x3c39('0x93')](_0x3c39('0x86')+_0x96c8a4);return _0x44a75(_0x96c8a4);}break;}}}if(!_0xa26a5f){logger['debug'](_0x2801c6['Blockly'][_0x37f820][_0x3c39('0x3')]+_0x3c39('0x11'));try{await _0x55ad24(_0xb1bd27,_0x40d5dc,_0x2801c6[_0x3c39('0x8')][_0x37f820]['filename'],_0x3c39('0x8'));}catch(_0xc29ebd){return _0x44a75(_0xc29ebd);}}}return _0x45fd1f();}catch(_0x4fdfe8){return _0x44a75(_0x4fdfe8);}});};function _0x263aa9(_0x404827,_0x1b3101,_0x5b9939,_0x474179){return new Promise((_0x541fe9,_0x4a3fff)=>{try{let _0x14e855=_0x3c39('0x67')+_0x1b3101[_0x3c39('0x5d')]+'/'+_0x474179+'/'+_0x5b9939;let _0x26fa13=_0x1b3101['filepath']+'/'+_0x474179+'/'+_0x5b9939;logger['debug']('Remote\x20path:\x20'+_0x14e855);logger['debug'](_0x3c39('0x61')+_0x26fa13);_0x404827['fastPut'](_0x26fa13,_0x14e855,{},function(_0x2624b4){if(_0x2624b4){logger[_0x3c39('0x93')](_0x3c39('0xd')+_0x5b9939);return _0x4a3fff(_0x2624b4);}logger['debug'](_0x3c39('0x8a')+_0x5b9939);return _0x541fe9();});}catch(_0x31cd2e){return _0x4a3fff(_0x31cd2e);}});};function _0x55ad24(_0x20123a,_0x1cd4b7,_0x105200,_0x3a1628){return new Promise((_0x5a23bf,_0x138f6b)=>{try{let _0x255e0b=_0x3c39('0x67')+_0x1cd4b7[_0x3c39('0x5d')]+'/'+_0x3a1628+'/'+_0x105200;let _0x881a72=_0x1cd4b7[_0x3c39('0x3e')]+'/'+_0x3a1628+'/'+_0x105200;logger['debug'](_0x3c39('0x4d')+_0x255e0b);logger['debug']('Local\x20Path:\x20'+_0x881a72);_0x20123a[_0x3c39('0xf')](_0x255e0b,_0x881a72,{},function(_0x2013a2){if(_0x2013a2){logger[_0x3c39('0x93')](_0x3c39('0x7a')+_0x105200);return _0x138f6b(_0x2013a2);}logger[_0x3c39('0x73')]('Retrieved\x20'+_0x105200);return _0x5a23bf();});}catch(_0x329767){return _0x138f6b(_0x329767);}});};function _0x67c5a6(_0x46b495,_0x3aa0ea,_0x133da8,_0x1e32d8){_0x46b495[_0x3c39('0xe')](_0x3c39('0x67')+_0x3aa0ea['username'],function(_0x51fdbe){if(_0x51fdbe){logger[_0x3c39('0x17')](_0x3c39('0x41')+_0x51fdbe);_0x46b495[_0x3c39('0x32')](_0x3c39('0x67')+_0x3aa0ea['username'],function(_0x5ac373){if(_0x5ac373){logger[_0x3c39('0x17')](_0x3c39('0x89')+_0x5ac373);throw _0x5ac373;}logger[_0x3c39('0x17')](_0x3c39('0x3f'));_0x46b495[_0x3c39('0x32')](_0x3c39('0x67')+_0x3aa0ea[_0x3c39('0x5d')]+_0x3c39('0x71'),function(_0x261fb4){if(_0x261fb4){logger[_0x3c39('0x17')](_0x3c39('0x4a')+_0x261fb4);throw _0x261fb4;}logger[_0x3c39('0x17')](_0x3c39('0x5b'));_0x46b495[_0x3c39('0x32')](_0x3c39('0x67')+_0x3aa0ea[_0x3c39('0x5d')]+_0x3c39('0x70'),function(_0x4db385){if(_0x4db385){logger[_0x3c39('0x17')](_0x3c39('0x6f')+_0x4db385);throw _0x4db385;}logger[_0x3c39('0x17')](_0x3c39('0x4'));_0x1e32d8(_0x46b495,_0x3aa0ea,_0x133da8);});});});}_0x1e32d8(_0x46b495,_0x3aa0ea,_0x133da8);});};function _0x25c1e(_0x374dc4,_0x2bfd42,_0x6e71a0){_0x374dc4[_0x3c39('0xe')](_0x3c39('0x67')+_0x2bfd42[_0x3c39('0x5d')]+_0x3c39('0x71'),function(_0x21ee48,_0x38215e){if(_0x21ee48){logger[_0x3c39('0x17')](_0x3c39('0x63')+_0x21ee48);throw _0x21ee48;}_0x5d7767(_0x2bfd42,'Editor',_0x38215e,_0x6e71a0);});_0x374dc4[_0x3c39('0xe')](_0x3c39('0x67')+_0x2bfd42['username']+_0x3c39('0x70'),function(_0x50cb0d,_0x3a452c){if(_0x50cb0d){logger[_0x3c39('0x17')]('Error\x20reading\x20classroom\x20blockly\x20files:\x20'+_0x50cb0d);throw _0x50cb0d;}_0x5d7767(_0x2bfd42,_0x3c39('0x8'),_0x3a452c,_0x6e71a0);});};function _0x5d7767(_0x105057,_0x22be58,_0x1cbc5f,_0x2e3690){logger[_0x3c39('0x17')](_0x3c39('0x80'));if(_0x22be58=='Blockly'&&_0x1cbc5f[_0x3c39('0x22')]==0x0){_0x2e3690['end']();}for(var _0x1daf7a=0x0;_0x1daf7a<_0x1cbc5f[_0x3c39('0x22')];_0x1daf7a++){let _0x424d60='/home/c3/FusionFilesystem/'+_0x105057[_0x3c39('0x5d')]+'/'+_0x22be58+'/'+_0x1cbc5f[_0x1daf7a][_0x3c39('0x3')];let _0x5c81d5='app/filesystem/'+_0x105057['username']+'/'+_0x22be58+'/';logger['info'](_0x3c39('0x83')+_0x424d60+_0x3c39('0x37')+_0x5c81d5);SCP[_0x3c39('0x79')](_0x3c39('0x56')+_0x424d60,_0x5c81d5,function(_0x184b54){if(_0x184b54){logger['info'](_0x3c39('0x2c')+_0x424d60+_0x3c39('0x60')+_0x184b54);}if(_0x22be58==_0x3c39('0x8')&&(_0x1daf7a=_0x1cbc5f['length']-0x1)){_0x2e3690[_0x3c39('0x90')]();}});}};}();