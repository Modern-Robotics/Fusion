const _0x2b8a=['username','isAuthenticated','readdir','User\x27s\x20blockly\x20directory\x20found','send','name','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','scp2','/Blockly/','/api/allowedUserGroups','\x20not\x20a\x20common\x20file!','Guest','securityquestion','usergroup','Blockly','exports','remove','Error\x20downloading\x20classroom\x20files\x20for\x20','Retrieved\x20','Editor\x20directory\x20created','trim','sftp','Successfully\x20deleted','unshift','login','user','User_Id','status','Error\x20communicating\x20with\x20c3:\x20','floor','local-login','get','User\x20does\x20not\x20exist','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','message','scp','Login\x20Successful','/api/recovery','User\x27s\x20blockly\x20directory\x20created','10.200.200.1','User\x20c3\x20directory\x20created','find','Error\x20creating\x20user\x20file\x20system:\x20','Remote\x20path:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20',',\x20error:\x20','firstname','filepath','post','request-promise','passport','json','connected','email','length','app/filesystem/','mtimeMs','fs-extra','Error:\x20','LOGIN.SUCCESS','stat','/api/recovery/:User_Id','params','securityanswer','../../global/fusionSettings','defaultprogramminglanguage','Editor','/Editor/','User\x20updated!','KillProgram','Another\x20user\x20is\x20already\x20logged\x20in.','local-signup','push','mkdir','filename','\x22\x20newer,\x20updating\x20local\x20version','Moving:\x20','../../classroom/connection','save','Error\x20creating\x20blockly\x20directory:\x20','end','mtime','\x22\x20newer,\x20updating\x20classroom\x20version','language','/api/users','Error\x20reading\x20classroom\x20editor\x20files:\x20','stringify','Error\x20with\x20request\x20promise.\x20','../../utils/logger','https://172.16.0.1/backend/auth/ldap','LOGIN.MULTIUSER_DENIED','Blockly\x20directory\x20created','ready','connectedClients','in\x20cloud\x20login','findOne','fastPut','password','POST','generateHash','REGISTER.CREATED','../../express','Remote\x20\x22','User','/api/users/logout','SocketVariables','Error\x20uploading\x20file:\x20','Local\x20\x22','MultiUserAccess','/home/c3/FusionFilesystem/','lastname','Error\x20reading\x20user\x20file\x20system:\x20','Error','\x20to\x20','body','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','socketId','Classroom\x20file\x20system\x20found','../../models/user','Classroom\x20file\x20system\x20created','authenticate','User\x27s\x20classroom\x20file\x20system\x20found','attrs','logIn','../../fusionProgram','Uploaded\x20','toLowerCase','removeFileSystem','/Editor','exec','fusion_program_running','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','Local\x20mtime:\x20','/api/users/:User_Id','fastGet','/api/users/login','User\x20Unauthenticated','delete','info','Getting\x20data\x20for\x20','Logged\x20out\x20successfully','/Blockly','Local\x20Path:\x20'];(function(_0x387d4c,_0x2b8adb){const _0x290cca=function(_0x356db9){while(--_0x356db9){_0x387d4c['push'](_0x387d4c['shift']());}};_0x290cca(++_0x2b8adb);}(_0x2b8a,0x151));const _0x290c=function(_0x387d4c,_0x2b8adb){_0x387d4c=_0x387d4c-0x0;let _0x290cca=_0x2b8a[_0x387d4c];return _0x290cca;};var SCP=require(_0x290c('0x63'));var SSH=require('ssh2')['Client'];var fs=require(_0x290c('0x6'));var path=require('path');var rp=require(_0x290c('0x8d'));const classroomConnection=require(_0x290c('0x1a'));const logger=require(_0x290c('0x25'));const app=require(_0x290c('0x32'));const User=require(_0x290c('0x43'));const passport=require(_0x290c('0x8e'));const FusionSettings=require(_0x290c('0xd'));const fusionProgram=require(_0x290c('0x49'));module[_0x290c('0x6b')]=function(){app[_0x290c('0x7b')]('/api/users',_0x5c9ef5(),function(_0x4858a3,_0x400a38){User[_0x290c('0x85')]({'usergroup':{'$ne':_0x290c('0x67')}},function(_0x29b5fd,_0x148e00){if(_0x29b5fd)_0x400a38[_0x290c('0x60')](_0x29b5fd);_0x400a38['json'](_0x148e00);});});app[_0x290c('0x8c')](_0x290c('0x21'),function(_0x269e9c,_0x23f8db,_0x5d46f1){passport[_0x290c('0x45')]('local-signup',async function(_0x5e6547,_0x20b51d,_0x5935d4){if(_0x5e6547)return _0x23f8db[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0x5e6547);if(_0x5935d4&&_0x5935d4[_0x290c('0x7e')])return _0x23f8db[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0x269e9c['__'](_0x5935d4[_0x290c('0x7e')]));if(FusionSettings[_0x290c('0x39')]){if(classroomConnection['connected']){await _0x559b2d(_0x20b51d);}_0x269e9c[_0x290c('0x48')](_0x20b51d,function(_0x1055e9){if(_0x1055e9){return _0x5d46f1(_0x1055e9);}_0x333e32(_0x269e9c['body'][_0x290c('0x41')],_0x20b51d);return _0x23f8db[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x269e9c['__'](_0x290c('0x31')),'user':_0x20b51d});});}else{if(_0x483586()==0x0){_0x333e32(_0x269e9c[_0x290c('0x3f')][_0x290c('0x41')],_0x20b51d);if(classroomConnection['connected']){await _0x559b2d(_0x20b51d);}_0x269e9c[_0x290c('0x48')](_0x20b51d,function(_0x45eb0c){if(_0x45eb0c){return _0x5d46f1(_0x45eb0c);}_0x333e32(_0x269e9c['body']['socketId'],_0x20b51d);return _0x23f8db[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x269e9c['__'](_0x290c('0x31')),'user':_0x20b51d});});}else{return _0x23f8db['status'](0x1f4)[_0x290c('0x60')](_0x269e9c['__'](_0x290c('0x50')));}}})(_0x269e9c,_0x23f8db,_0x5d46f1);});app[_0x290c('0x8c')](_0x290c('0x21'),passport['authenticate'](_0x290c('0x14'),{'session':!![]}),function(_0x209c13,_0x4676d5){if(_0x209c13[_0x290c('0x75')][_0x290c('0x3d')]){return _0x4676d5[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0x209c13['user'][_0x290c('0x3d')]);}else{}});app[_0x290c('0x7b')]('/api/users/:User_Id',_0x5c9ef5(),function(_0x4cfcfb,_0x87a8df){User['findOne']({'username':_0x4cfcfb[_0x290c('0xb')][_0x290c('0x76')][_0x290c('0x4b')]()[_0x290c('0x70')]()},function(_0xda940a,_0x4b43dc){if(_0xda940a)_0x87a8df[_0x290c('0x60')](_0xda940a);_0x87a8df['json'](_0x4b43dc);});});app['put']('/api/users/:User_Id',_0x5c9ef5(),function(_0x2c218f,_0x14a7d8){User['findOne']({'username':_0x2c218f['params'][_0x290c('0x76')][_0x290c('0x4b')]()['trim']()},function(_0x131475,_0x1c2320){if(_0x131475)_0x14a7d8['send'](_0x131475);if(_0x2c218f[_0x290c('0x3f')][_0x290c('0x2e')]){_0x1c2320['password']=_0x1c2320[_0x290c('0x30')](_0x2c218f[_0x290c('0x3f')][_0x290c('0x2e')]);}if(_0x2c218f['body'][_0x290c('0x8a')]){_0x1c2320[_0x290c('0x8a')]=_0x2c218f[_0x290c('0x3f')]['firstname'];}if(_0x2c218f['body'][_0x290c('0x3b')]){_0x1c2320[_0x290c('0x3b')]=_0x2c218f[_0x290c('0x3f')][_0x290c('0x3b')];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0x20')]){_0x1c2320[_0x290c('0x20')]=_0x2c218f['body']['language'];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0x2')]){_0x1c2320[_0x290c('0x2')]=_0x2c218f[_0x290c('0x3f')][_0x290c('0x2')];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0xe')]){_0x1c2320[_0x290c('0xe')]=_0x2c218f[_0x290c('0x3f')]['defaultprogramminglanguage'];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0x68')]){_0x1c2320[_0x290c('0x68')]=_0x2c218f[_0x290c('0x3f')]['securityquestion'];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0xc')]){_0x1c2320['securityanswer']=_0x2c218f[_0x290c('0x3f')][_0x290c('0xc')];}if(_0x2c218f[_0x290c('0x3f')][_0x290c('0x69')]){_0x1c2320[_0x290c('0x69')]=_0x2c218f[_0x290c('0x3f')][_0x290c('0x69')];}_0x1c2320[_0x290c('0x1b')](function(_0xc3cdeb){if(_0xc3cdeb)_0x14a7d8[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0xc3cdeb);_0x14a7d8[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x290c('0x11')});});});});app[_0x290c('0x56')](_0x290c('0x52'),_0x5c9ef5(),function(_0x52b05d,_0x41a41){if(_0x52b05d[_0x290c('0xb')]['User_Id'][_0x290c('0x4b')]()[_0x290c('0x70')]()==_0x52b05d[_0x290c('0x75')][_0x290c('0x5c')]){if(FusionSettings[_0x290c('0x36')][_0x290c('0x4f')])if(FusionSettings['SocketVariables'][_0x290c('0x4f')]['User']==_0x52b05d[_0x290c('0x75')][_0x290c('0x5c')])fusionProgram[_0x290c('0x12')]();_0x2d015d(_0x52b05d[_0x290c('0x75')][_0x290c('0x5c')]);_0x52b05d['logout']();}User[_0x290c('0x6c')]({'username':_0x52b05d[_0x290c('0xb')]['User_Id'][_0x290c('0x4b')]()['trim']()},function(_0x40d62f,_0x50113d){if(_0x40d62f)return _0x41a41[_0x290c('0x60')](_0x40d62f);User[_0x290c('0x4c')](_0x52b05d['params'][_0x290c('0x76')]['toLowerCase']()['trim']());return _0x41a41[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x290c('0x72')});});});app[_0x290c('0x8c')](_0x290c('0x54'),function(_0x163fc0,_0x2d5dd7,_0x5d721f){passport[_0x290c('0x45')](_0x290c('0x7a'),async function(_0x429f80,_0x4fee32,_0x31018e){if(_0x429f80)return _0x2d5dd7[_0x290c('0x77')](0x1f4)['send'](_0x163fc0['__'](_0x429f80['message']));if(!_0x4fee32)return _0x2d5dd7[_0x290c('0x77')](0x191)[_0x290c('0x60')](_0x163fc0['__'](_0x31018e['message']));if(FusionSettings['MultiUserAccess']){if(classroomConnection[_0x290c('0x1')]){await _0x559b2d(_0x4fee32);}_0x163fc0[_0x290c('0x48')](_0x4fee32,function(_0x1dad6d){if(_0x1dad6d){return _0x5d721f(_0x1dad6d);}_0x333e32(_0x163fc0[_0x290c('0x3f')]['socketId'],_0x4fee32);return _0x2d5dd7[_0x290c('0x77')](0xc8)['json']({'serverMessage':_0x163fc0['__'](_0x290c('0x8')),'user':_0x4fee32});});}else{if(_0x483586()==0x0){_0x333e32(_0x163fc0['body'][_0x290c('0x41')],_0x4fee32);if(classroomConnection[_0x290c('0x1')]){await _0x559b2d(_0x4fee32);}_0x163fc0[_0x290c('0x48')](_0x4fee32,function(_0x36209d){if(_0x36209d){return _0x5d721f(_0x36209d);}_0x333e32(_0x163fc0[_0x290c('0x3f')][_0x290c('0x41')],_0x4fee32);return _0x2d5dd7[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x163fc0['__'](_0x290c('0x8')),'user':_0x4fee32});});}else{return _0x2d5dd7[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0x163fc0['__'](_0x290c('0x27')));}}})(_0x163fc0,_0x2d5dd7,_0x5d721f);});app[_0x290c('0x8c')]('/api/users/cloudLogin',async function(_0x44255f,_0x380fa6){logger[_0x290c('0x57')](_0x290c('0x2b'));var _0x966832={'method':_0x290c('0x2f'),'uri':_0x290c('0x26'),'body':{'username':_0x44255f[_0x290c('0x3f')][_0x290c('0x5c')],'password':_0x44255f['body']['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x854702=await rp(_0x966832);let _0xbdfc7=await User[_0x290c('0x2c')]({'username':_0x44255f['body'][_0x290c('0x5c')]})[_0x290c('0x4e')]();if(_0xbdfc7){return _0x380fa6[_0x290c('0x77')](0xc8)[_0x290c('0x60')](_0x290c('0x74'));}else{return _0x380fa6[_0x290c('0x77')](0xc8)['send']('create');}}catch(_0x59884d){logger[_0x290c('0x57')](_0x290c('0x24')+_0x59884d);return _0x380fa6['status'](0x1f4)[_0x290c('0x60')](_0x59884d);}});app[_0x290c('0x8c')](_0x290c('0x35'),_0x5c9ef5(),function(_0x44f9ca,_0x1ce047){if(FusionSettings[_0x290c('0x36')][_0x290c('0x4f')])if(FusionSettings[_0x290c('0x36')][_0x290c('0x4f')]['User']==_0x44f9ca[_0x290c('0x75')][_0x290c('0x5c')])fusionProgram[_0x290c('0x12')]();_0x2f43f1(_0x44f9ca[_0x290c('0x3f')][_0x290c('0x41')]);_0x44f9ca['logout']();_0x1ce047['status'](0xc8)[_0x290c('0x0')]({'serverMessage':_0x290c('0x59')});});app['get'](_0x290c('0xa'),function(_0x1fa3ce,_0x3eec9c){User[_0x290c('0x2c')]({'username':_0x1fa3ce[_0x290c('0xb')][_0x290c('0x76')][_0x290c('0x4b')]()['trim']()},function(_0x1ef972,_0x57aff2){if(_0x1ef972)return _0x3eec9c[_0x290c('0x77')](0x1f4)[_0x290c('0x60')](_0x1ef972);if(!_0x57aff2)return _0x3eec9c['status'](0x1f4)[_0x290c('0x60')](_0x290c('0x7c'));else return _0x3eec9c['status'](0xc8)['json'](_0x57aff2['securityquestion']);});});app[_0x290c('0x8c')](_0x290c('0x81'),passport[_0x290c('0x45')]('local-recovery',{'session':!![]}),function(_0x34e8ac,_0x33d06b){if(FusionSettings[_0x290c('0x39')]){if(classroomConnection[_0x290c('0x1')]){_0x559b2d(_0x34e8ac[_0x290c('0x75')]);}_0x333e32(_0x34e8ac[_0x290c('0x3f')][_0x290c('0x41')],_0x34e8ac[_0x290c('0x75')]);return _0x33d06b[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x290c('0x80'),'user':_0x34e8ac[_0x290c('0x75')]});}else{if(_0x483586()==0x0){_0x333e32(_0x34e8ac['body'][_0x290c('0x41')],_0x34e8ac['user']);if(classroomConnection['connected']){_0x559b2d(_0x34e8ac[_0x290c('0x75')]);}return _0x33d06b[_0x290c('0x77')](0xc8)[_0x290c('0x0')]({'serverMessage':_0x290c('0x80'),'user':_0x34e8ac[_0x290c('0x75')]});}else{_0x34e8ac['logout']();return _0x33d06b['status'](0x1f4)[_0x290c('0x60')](_0x290c('0x13'));}}});app[_0x290c('0x7b')](_0x290c('0x65'),function(_0x2bac61,_0x5d96f0){var _0x3d75fa=[_0x290c('0x34')];User[_0x290c('0x2c')]({'usergroup':'Admin'},function(_0x57a63d,_0x54cc1c){if(_0x57a63d)return _0x5d96f0[_0x290c('0x77')](0xc8)['send'](_0x3d75fa);if(!_0x54cc1c)_0x3d75fa[_0x290c('0x73')]('Admin');return _0x5d96f0[_0x290c('0x77')](0xc8)[_0x290c('0x60')](_0x3d75fa);});});function _0x483586(){var _0x80d9e2=0x0;for(var _0x547a7a=0x0;_0x547a7a<FusionSettings[_0x290c('0x2a')][_0x290c('0x3')];_0x547a7a++){if(FusionSettings[_0x290c('0x2a')][_0x547a7a]['User']){_0x80d9e2++;}}return _0x80d9e2;}function _0x333e32(_0x4863f2,_0x582e97){for(var _0x3f064b=0x0;_0x3f064b<FusionSettings[_0x290c('0x2a')]['length'];_0x3f064b++){if(FusionSettings[_0x290c('0x2a')][_0x3f064b]['id']==_0x4863f2){FusionSettings[_0x290c('0x2a')][_0x3f064b]['User']=_0x582e97;break;}}}function _0x2f43f1(_0x34c314){for(var _0x49a5cc=0x0;_0x49a5cc<FusionSettings['connectedClients'][_0x290c('0x3')];_0x49a5cc++){if(FusionSettings['connectedClients'][_0x49a5cc]['id']==_0x34c314){FusionSettings[_0x290c('0x2a')][_0x49a5cc][_0x290c('0x34')]=undefined;break;}}}function _0x2d015d(_0x1f6482){for(var _0x2ab943=0x0;_0x2ab943<FusionSettings[_0x290c('0x2a')][_0x290c('0x3')];_0x2ab943++){if(FusionSettings['connectedClients'][_0x2ab943][_0x290c('0x34')]['username']==_0x1f6482){FusionSettings['connectedClients'][_0x2ab943]['User']=undefined;break;}}}function _0x5c9ef5(){return function(_0x3273c6,_0x53ff54,_0x107869){if(_0x3273c6[_0x290c('0x5d')]()){return _0x107869();}else{return _0x53ff54[_0x290c('0x77')](0x191)['send'](_0x290c('0x55'));}};}async function _0x559b2d(_0x2d8d88){try{await _0x2ebcfc(_0x2d8d88);}catch(_0x3fd11c){logger[_0x290c('0x57')](_0x3fd11c);logger['info'](_0x290c('0x6d')+_0x2d8d88['username']);}};function _0x2ebcfc(_0x3236e0){return new Promise(function(_0x4ec8c4,_0x5d2465){var _0x4b3dfc=new SSH();_0x4b3dfc['on'](_0x290c('0x29'),function(){_0x4b3dfc[_0x290c('0x71')](async function(_0x302205,_0x3e2ad5){if(_0x302205){logger[_0x290c('0x57')](_0x290c('0x78')+_0x302205);_0x4b3dfc[_0x290c('0x1d')]();return _0x5d2465(_0x302205);}try{await _0xa13a3a(_0x3e2ad5);await _0x53326c(_0x3e2ad5,_0x3236e0[_0x290c('0x5c')]);await _0x4705cd(_0x3e2ad5,_0x3236e0[_0x290c('0x5c')]);await _0x54e658(_0x3e2ad5,_0x3236e0[_0x290c('0x5c')]);let _0x4ab7fd=await _0x1d830e(_0x3e2ad5,_0x3236e0[_0x290c('0x5c')]);logger[_0x290c('0x57')](JSON[_0x290c('0x23')](_0x4ab7fd));let _0x329652=await _0x32e77d(_0x3236e0[_0x290c('0x8b')]);logger[_0x290c('0x57')](JSON[_0x290c('0x23')](_0x329652));await _0x5e4d5e(_0x3e2ad5,_0x3236e0,_0x4ab7fd,_0x329652);_0x4b3dfc[_0x290c('0x1d')]();return _0x4ec8c4();}catch(_0x510236){logger[_0x290c('0x57')](_0x510236);_0x4b3dfc[_0x290c('0x1d')]();return _0x5d2465(_0x510236);}});})['connect']({'host':_0x290c('0x83'),'port':0x16,'username':'c3','password':'root'});});};function _0xa13a3a(_0x20158e){return new Promise(function(_0x54e0ea,_0x1c8497){_0x20158e[_0x290c('0x5e')]('/home/c3/FusionFilesystem/',function(_0xa42a99){if(_0xa42a99){_0x20158e[_0x290c('0x16')]('/home/c3/FusionFilesystem/',function(_0x2c6796){if(_0x2c6796){return _0x1c8497('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x2c6796);}else{logger[_0x290c('0x57')](_0x290c('0x44'));return _0x54e0ea();}});}else{logger[_0x290c('0x57')](_0x290c('0x42'));return _0x54e0ea();}});});};function _0x53326c(_0x5353c3,_0x3c20a3){return new Promise(function(_0x431a03,_0x37ba72){_0x5353c3[_0x290c('0x5e')](_0x290c('0x3a')+_0x3c20a3,function(_0x554df0){if(_0x554df0){_0x5353c3[_0x290c('0x16')](_0x290c('0x3a')+_0x3c20a3,function(_0x32c74d){if(_0x32c74d){return _0x37ba72(_0x290c('0x62')+_0x32c74d);}else{logger[_0x290c('0x57')]('User\x27s\x20classroom\x20file\x20system\x20created');return _0x431a03();}});}else{logger[_0x290c('0x57')](_0x290c('0x46'));return _0x431a03();}});});};function _0x4705cd(_0x582b1d,_0xc174c3){return new Promise(function(_0xe86156,_0x17e38d){_0x582b1d[_0x290c('0x5e')]('/home/c3/FusionFilesystem/'+_0xc174c3+'/Editor/',function(_0x2d9350){if(_0x2d9350){_0x582b1d['mkdir'](_0x290c('0x3a')+_0xc174c3+_0x290c('0x10'),function(_0x444b55){if(_0x444b55){return _0x17e38d(_0x290c('0x7d')+_0x444b55);}else{logger['info']('User\x27s\x20editor\x20directory\x20created');return _0xe86156();}});}else{logger[_0x290c('0x57')]('User\x27s\x20editor\x20directory\x20found');return _0xe86156();}});});};function _0x54e658(_0x25bed7,_0x350646){return new Promise(function(_0x36c4fb,_0x2c9395){_0x25bed7['readdir'](_0x290c('0x3a')+_0x350646+_0x290c('0x64'),function(_0x15f904){if(_0x15f904){_0x25bed7['mkdir'](_0x290c('0x3a')+_0x350646+_0x290c('0x64'),function(_0x3b0be2){if(_0x3b0be2){return _0x2c9395(_0x290c('0x40')+_0x3b0be2);}else{logger[_0x290c('0x57')](_0x290c('0x82'));return _0x36c4fb();}});}else{logger[_0x290c('0x57')](_0x290c('0x5f'));return _0x36c4fb();}});});};function _0x1d830e(_0x5acdc0,_0x46d0d2){return new Promise(async function(_0x5776c5,_0x3a632b){try{let _0x37f8cd={};_0x37f8cd['Editor']=await _0x44dfcb(_0x5acdc0,_0x46d0d2);_0x37f8cd[_0x290c('0x6a')]=await _0x4552ad(_0x5acdc0,_0x46d0d2);return _0x5776c5(_0x37f8cd);}catch(_0x393463){return _0x3a632b(_0x393463);}});};function _0x44dfcb(_0x53e9db,_0x2e04f9){return new Promise(function(_0x1dcf2e,_0x34cab0){_0x53e9db[_0x290c('0x5e')](_0x290c('0x3a')+_0x2e04f9+_0x290c('0x10'),function(_0x18d875,_0x3fa5d8){if(_0x18d875)return _0x34cab0(_0x18d875);let _0x2eba19=[];for(let _0x14eb60=0x0;_0x14eb60<_0x3fa5d8[_0x290c('0x3')];_0x14eb60++){logger[_0x290c('0x57')](_0x290c('0x58')+_0x3fa5d8[_0x14eb60]['filename']);_0x2eba19['push'](_0x3fa5d8[_0x14eb60]);}return _0x1dcf2e(_0x2eba19);});});};function _0x4552ad(_0x426174,_0x4dc2fe){return new Promise(function(_0x49c301,_0xc62394){_0x426174[_0x290c('0x5e')](_0x290c('0x3a')+_0x4dc2fe+_0x290c('0x64'),function(_0x185e3c,_0x1ca822){if(_0x185e3c)return _0xc62394(_0x185e3c);let _0x5b6e09=[];for(let _0x4a59f5=0x0;_0x4a59f5<_0x1ca822['length'];_0x4a59f5++){logger[_0x290c('0x57')](_0x290c('0x58')+_0x1ca822[_0x4a59f5]['filename']);_0x5b6e09[_0x290c('0x15')](_0x1ca822[_0x4a59f5]);}return _0x49c301(_0x5b6e09);});});};function _0x32e77d(_0x85396){return new Promise(async function(_0x5c383c,_0x2841bd){try{let _0x18ba77={};_0x18ba77[_0x290c('0xf')]=await _0x299848(_0x85396);_0x18ba77['Blockly']=await _0x379d70(_0x85396);return _0x5c383c(_0x18ba77);}catch(_0x3f5935){return _0x2841bd(_0x3f5935);}});};function _0x299848(_0x176793){return new Promise(async function(_0x2773c8,_0x2f9d66){try{let _0x5baeaa=[];let _0x118d32=await fs[_0x290c('0x5e')](_0x176793+_0x290c('0x4d'));for(let _0x5d74d9=0x0;_0x5d74d9<_0x118d32['length'];_0x5d74d9++){logger[_0x290c('0x57')](_0x290c('0x58')+_0x118d32[_0x5d74d9]);let _0x1efc7c=await fs[_0x290c('0x9')](_0x176793+_0x290c('0x10')+_0x118d32[_0x5d74d9]);_0x1efc7c[_0x290c('0x61')]=_0x118d32[_0x5d74d9];_0x5baeaa[_0x290c('0x15')](_0x1efc7c);}return _0x2773c8(_0x5baeaa);}catch(_0x5c8c53){return _0x2f9d66(_0x5c8c53);}});};function _0x379d70(_0x5da292){return new Promise(async function(_0x5793b3,_0x2122a5){try{let _0x169772=[];let _0x599078=await fs[_0x290c('0x5e')](_0x5da292+_0x290c('0x5a'));for(let _0xda77d5=0x0;_0xda77d5<_0x599078[_0x290c('0x3')];_0xda77d5++){logger[_0x290c('0x57')]('Getting\x20data\x20for\x20'+_0x599078[_0xda77d5]);let _0x23a63f=await fs['stat'](_0x5da292+_0x290c('0x64')+_0x599078[_0xda77d5]);_0x23a63f[_0x290c('0x61')]=_0x599078[_0xda77d5];_0x169772['push'](_0x23a63f);}return _0x5793b3(_0x169772);}catch(_0x4f15be){return _0x2122a5(_0x4f15be);}});};function _0x5e4d5e(_0x56cb11,_0x3e447b,_0x130408,_0xd92c73){return new Promise(async function(_0x36ad1e,_0x54c502){try{for(let _0x4bbf0d=0x0;_0x4bbf0d<_0x130408[_0x290c('0xf')][_0x290c('0x3')];_0x4bbf0d++){let _0xee7440=![];for(let _0x1d0f4f=0x0;_0x1d0f4f<_0xd92c73[_0x290c('0xf')][_0x290c('0x3')];_0x1d0f4f++){if(_0xd92c73['Editor'][_0x1d0f4f][_0x290c('0x61')]==_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x17')]){logger[_0x290c('0x57')]('Local\x20mtime:\x20'+Math[_0x290c('0x79')](_0xd92c73[_0x290c('0xf')][_0x1d0f4f][_0x290c('0x5')]/0x3e8));logger[_0x290c('0x57')]('Remote\x20mtime:\x20'+_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x47')][_0x290c('0x1e')]);if(Math[_0x290c('0x79')](_0xd92c73['Editor'][_0x1d0f4f][_0x290c('0x5')]/0x3e8)>_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x47')][_0x290c('0x1e')]){_0xee7440=!![];logger[_0x290c('0x57')](_0x290c('0x38')+_0xd92c73[_0x290c('0xf')][_0x1d0f4f][_0x290c('0x61')]+_0x290c('0x1f'));try{await _0x3e9cc0(_0x56cb11,_0x3e447b,_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x17')],_0x290c('0xf'));}catch(_0x168ed9){return _0x54c502(_0x168ed9);}break;}else{_0xee7440=!![];logger[_0x290c('0x57')](_0x290c('0x33')+_0xd92c73['Editor'][_0x1d0f4f]['name']+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x45e468(_0x56cb11,_0x3e447b,_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x17')],_0x290c('0xf'));}catch(_0x24a5a5){logger['info'](_0x290c('0x7')+_0x24a5a5);return _0x54c502(_0x24a5a5);}break;}}}if(!_0xee7440){logger[_0x290c('0x57')](_0x130408['Editor'][_0x4bbf0d][_0x290c('0x17')]+_0x290c('0x66'));try{await _0x45e468(_0x56cb11,_0x3e447b,_0x130408[_0x290c('0xf')][_0x4bbf0d][_0x290c('0x17')],_0x290c('0xf'));}catch(_0x551a23){return _0x54c502(_0x551a23);}}}for(let _0x1e2a84=0x0;_0x1e2a84<_0x130408[_0x290c('0x6a')]['length'];_0x1e2a84++){let _0x495877=![];for(let _0x371523=0x0;_0x371523<_0xd92c73[_0x290c('0x6a')][_0x290c('0x3')];_0x371523++){if(_0xd92c73['Blockly'][_0x371523][_0x290c('0x61')]==_0x130408['Blockly'][_0x1e2a84]['filename']){logger[_0x290c('0x57')](_0x290c('0x51')+Math[_0x290c('0x79')](_0xd92c73['Blockly'][_0x371523][_0x290c('0x5')]/0x3e8));logger[_0x290c('0x57')]('Remote\x20mtime:\x20'+_0x130408[_0x290c('0x6a')][_0x1e2a84][_0x290c('0x47')]['mtime']);if(Math[_0x290c('0x79')](_0xd92c73['Blockly'][_0x371523]['mtimeMs']/0x3e8)>_0x130408[_0x290c('0x6a')][_0x1e2a84][_0x290c('0x47')][_0x290c('0x1e')]){_0x495877=!![];logger[_0x290c('0x57')](_0x290c('0x38')+_0xd92c73[_0x290c('0x6a')][_0x371523][_0x290c('0x61')]+_0x290c('0x1f'));try{await _0x3e9cc0(_0x56cb11,_0x3e447b,_0x130408['Blockly'][_0x1e2a84]['filename'],_0x290c('0x6a'));}catch(_0x5b2b6e){return _0x54c502(_0x5b2b6e);}break;}else{_0x495877=!![];logger[_0x290c('0x57')]('Remote\x20\x22'+_0xd92c73[_0x290c('0x6a')][_0x371523][_0x290c('0x61')]+_0x290c('0x18'));try{await _0x45e468(_0x56cb11,_0x3e447b,_0x130408[_0x290c('0x6a')][_0x1e2a84]['filename'],_0x290c('0x6a'));}catch(_0x1663a5){logger[_0x290c('0x57')](_0x290c('0x7')+_0x1663a5);return _0x54c502(_0x1663a5);}break;}}}if(!_0x495877){logger['info'](_0x130408['Blockly'][_0x1e2a84][_0x290c('0x17')]+'\x20not\x20a\x20common\x20file!');try{await _0x45e468(_0x56cb11,_0x3e447b,_0x130408[_0x290c('0x6a')][_0x1e2a84][_0x290c('0x17')],_0x290c('0x6a'));}catch(_0x1f1436){return _0x54c502(_0x1f1436);}}}return _0x36ad1e();}catch(_0x33e025){return _0x54c502(_0x33e025);}});};function _0x3e9cc0(_0x1a9e47,_0x16f719,_0x422a2d,_0x502340){return new Promise((_0x229c0e,_0x191352)=>{try{let _0x1d80a5=_0x290c('0x3a')+_0x16f719['username']+'/'+_0x502340+'/'+_0x422a2d;let _0x1b1f91=_0x16f719[_0x290c('0x8b')]+'/'+_0x502340+'/'+_0x422a2d;logger[_0x290c('0x57')]('Remote\x20path:\x20'+_0x1d80a5);logger[_0x290c('0x57')](_0x290c('0x5b')+_0x1b1f91);_0x1a9e47[_0x290c('0x2d')](_0x1b1f91,_0x1d80a5,{},function(_0x410647){if(_0x410647){logger['info'](_0x290c('0x37')+_0x422a2d);return _0x191352(_0x410647);}logger[_0x290c('0x57')](_0x290c('0x4a')+_0x422a2d);return _0x229c0e();});}catch(_0x4ab9e2){return _0x191352(_0x4ab9e2);}});};function _0x45e468(_0x12c517,_0x1afbf4,_0x18d04b,_0x5ed849){return new Promise((_0x2a95cc,_0x34f2c9)=>{try{let _0x502dab=_0x290c('0x3a')+_0x1afbf4[_0x290c('0x5c')]+'/'+_0x5ed849+'/'+_0x18d04b;let _0x4e0c6a=_0x1afbf4[_0x290c('0x8b')]+'/'+_0x5ed849+'/'+_0x18d04b;logger[_0x290c('0x57')](_0x290c('0x87')+_0x502dab);logger[_0x290c('0x57')](_0x290c('0x5b')+_0x4e0c6a);_0x12c517[_0x290c('0x53')](_0x502dab,_0x4e0c6a,{},function(_0x593835){if(_0x593835){logger[_0x290c('0x57')]('Error\x20downloading\x20file:\x20'+_0x18d04b);return _0x34f2c9(_0x593835);}logger[_0x290c('0x57')](_0x290c('0x6e')+_0x18d04b);return _0x2a95cc();});}catch(_0x241bcd){return _0x34f2c9(_0x241bcd);}});};function _0x13b2ce(_0x21fb4d,_0x4bcfbc,_0x3a12e0,_0xfb70f2){_0x21fb4d[_0x290c('0x5e')]('/home/c3/FusionFilesystem/'+_0x4bcfbc[_0x290c('0x5c')],function(_0xd73f44){if(_0xd73f44){logger[_0x290c('0x57')](_0x290c('0x3c')+_0xd73f44);_0x21fb4d[_0x290c('0x16')](_0x290c('0x3a')+_0x4bcfbc['username'],function(_0x4fdba3){if(_0x4fdba3){logger[_0x290c('0x57')](_0x290c('0x86')+_0x4fdba3);throw _0x4fdba3;}logger[_0x290c('0x57')](_0x290c('0x84'));_0x21fb4d[_0x290c('0x16')](_0x290c('0x3a')+_0x4bcfbc[_0x290c('0x5c')]+_0x290c('0x10'),function(_0x24c212){if(_0x24c212){logger[_0x290c('0x57')]('Error\x20creating\x20editor\x20directory:\x20'+_0x24c212);throw _0x24c212;}logger[_0x290c('0x57')](_0x290c('0x6f'));_0x21fb4d[_0x290c('0x16')](_0x290c('0x3a')+_0x4bcfbc['username']+_0x290c('0x64'),function(_0x4083b2){if(_0x4083b2){logger[_0x290c('0x57')](_0x290c('0x1c')+_0x4083b2);throw _0x4083b2;}logger[_0x290c('0x57')](_0x290c('0x28'));_0xfb70f2(_0x21fb4d,_0x4bcfbc,_0x3a12e0);});});});}_0xfb70f2(_0x21fb4d,_0x4bcfbc,_0x3a12e0);});};function _0x254f77(_0x22b845,_0x1e140c,_0x974f60){_0x22b845[_0x290c('0x5e')](_0x290c('0x3a')+_0x1e140c[_0x290c('0x5c')]+_0x290c('0x10'),function(_0x1e0140,_0xce8667){if(_0x1e0140){logger[_0x290c('0x57')](_0x290c('0x22')+_0x1e0140);throw _0x1e0140;}_0x30e221(_0x1e140c,'Editor',_0xce8667,_0x974f60);});_0x22b845[_0x290c('0x5e')](_0x290c('0x3a')+_0x1e140c[_0x290c('0x5c')]+_0x290c('0x64'),function(_0x193c66,_0x11f473){if(_0x193c66){logger[_0x290c('0x57')](_0x290c('0x88')+_0x193c66);throw _0x193c66;}_0x30e221(_0x1e140c,_0x290c('0x6a'),_0x11f473,_0x974f60);});};function _0x30e221(_0x15b90c,_0x3ddbce,_0x22eae0,_0x53b836){logger[_0x290c('0x57')]('Retrieving\x20files');if(_0x3ddbce=='Blockly'&&_0x22eae0['length']==0x0){_0x53b836[_0x290c('0x1d')]();}for(var _0x2971a4=0x0;_0x2971a4<_0x22eae0[_0x290c('0x3')];_0x2971a4++){let _0x43653b=_0x290c('0x3a')+_0x15b90c['username']+'/'+_0x3ddbce+'/'+_0x22eae0[_0x2971a4][_0x290c('0x17')];let _0x38485c=_0x290c('0x4')+_0x15b90c[_0x290c('0x5c')]+'/'+_0x3ddbce+'/';logger[_0x290c('0x57')](_0x290c('0x19')+_0x43653b+_0x290c('0x3e')+_0x38485c);SCP[_0x290c('0x7f')]('c3:root@172.16.0.1:'+_0x43653b,_0x38485c,function(_0x3ba67e){if(_0x3ba67e){logger['info']('Error\x20downloading:\x20'+_0x43653b+_0x290c('0x89')+_0x3ba67e);}if(_0x3ddbce=='Blockly'&&(_0x2971a4=_0x22eae0[_0x290c('0x3')]-0x1)){_0x53b836['end']();}});}};}();