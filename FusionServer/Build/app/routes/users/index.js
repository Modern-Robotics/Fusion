const _0x7662=['path','\x22\x20newer,\x20updating\x20local\x20version','params','POST','Retrieving\x20files','root','body','User\x27s\x20editor\x20directory\x20found','/api/recovery/:User_Id','fusion_program_running','mkdir','../../express','../../global/fusionSettings','email','KillProgram','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','filepath','create',',\x20error:\x20','status','exec','put','c3:root@172.16.0.1:','Client','fastPut','findOne','10.200.200.1','../../utils/logger','Error\x20creating\x20blockly\x20directory:\x20','Error','Retrieved\x20','sftp','find','Error:\x20','in\x20cloud\x20login','User\x20c3\x20directory\x20created','Classroom\x20file\x20system\x20found','../../models/user','language','end','mtime','scp2','User\x27s\x20blockly\x20directory\x20created','Editor','json','User\x20updated!','Remote\x20path:\x20','request-promise','readdir','/Editor','mtimeMs','socketId','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','\x20to\x20','Editor\x20directory\x20created','logout','Error\x20creating\x20editor\x20directory:\x20','filename','../../fusionProgram','send','stat','message','save','name','Classroom\x20file\x20system\x20created','/api/users','Error\x20downloading\x20classroom\x20files\x20for\x20','/api/users/cloudLogin','fastGet','Error\x20creating\x20user\x20file\x20system:\x20','info','https://172.16.0.1/backend/auth/ldap','MultiUserAccess','post','password','\x20not\x20a\x20common\x20file!','length','Blockly\x20directory\x20created','Admin','generateHash','Login\x20Successful','remove','Error\x20reading\x20classroom\x20editor\x20files:\x20','firstname','Error\x20downloading\x20file:\x20','local-recovery','Error\x20with\x20request\x20promise.\x20','attrs','push','/Editor/','/api/users/:User_Id','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','ready','login','Local\x20mtime:\x20','Successfully\x20deleted','username','/api/users/login','SocketVariables','Error\x20uploading\x20file:\x20','LOGIN.SUCCESS','Getting\x20data\x20for\x20','Uploaded\x20','scp','/Blockly/','Guest','REGISTER.CREATED','logIn','floor','User','Local\x20\x22','User_Id','/api/allowedUserGroups','passport','local-signup','delete','/Blockly','get','/home/c3/FusionFilesystem/','LOGIN.MULTIUSER_DENIED','connected','Error\x20communicating\x20with\x20c3:\x20','lastname','securityquestion','securityanswer','stringify','User\x27s\x20blockly\x20directory\x20found','\x22\x20newer,\x20updating\x20classroom\x20version','unshift','Blockly','connectedClients','toLowerCase','/api/users/logout','trim','Error\x20creating\x20classroom\x20file\x20system:\x20','Remote\x20mtime:\x20','defaultprogramminglanguage','ssh2','User\x27s\x20editor\x20directory\x20created','removeFileSystem','user','usergroup','authenticate','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x20Unauthenticated','exports'];(function(_0x328c2c,_0x76627){const _0x3634ee=function(_0x3d8a63){while(--_0x3d8a63){_0x328c2c['push'](_0x328c2c['shift']());}};_0x3634ee(++_0x76627);}(_0x7662,0x138));const _0x3634=function(_0x328c2c,_0x76627){_0x328c2c=_0x328c2c-0x0;let _0x3634ee=_0x7662[_0x328c2c];return _0x3634ee;};var SCP=require(_0x3634('0x15'));var SSH=require(_0x3634('0x75'))[_0x3634('0x3')];var fs=require('fs-extra');var path=require(_0x3634('0x7e'));var rp=require(_0x3634('0x1b'));const classroomConnection=require('../../classroom/connection');const logger=require(_0x3634('0x7'));const app=require(_0x3634('0x89'));const User=require(_0x3634('0x11'));const passport=require(_0x3634('0x5d'));const FusionSettings=require(_0x3634('0x8a'));const fusionProgram=require(_0x3634('0x26'));module[_0x3634('0x7d')]=function(){app['get'](_0x3634('0x2d'),_0x28a23f(),function(_0x108a1c,_0xe662f){User[_0x3634('0xc')]({'usergroup':{'$ne':_0x3634('0x55')}},function(_0x1e574a,_0x21aba2){if(_0x1e574a)_0xe662f[_0x3634('0x27')](_0x1e574a);_0xe662f[_0x3634('0x18')](_0x21aba2);});});app[_0x3634('0x35')](_0x3634('0x2d'),function(_0x2bdca5,_0x5ce96d,_0x42bee7){passport[_0x3634('0x7a')]('local-signup',async function(_0x19fa4e,_0xeed0f9,_0x27ec7c){if(_0x19fa4e)return _0x5ce96d[_0x3634('0x91')](0x1f4)[_0x3634('0x27')](_0x19fa4e);if(_0x27ec7c&&_0x27ec7c[_0x3634('0x29')])return _0x5ce96d['status'](0x1f4)[_0x3634('0x27')](_0x2bdca5['__'](_0x27ec7c['message']));if(FusionSettings[_0x3634('0x34')]){if(classroomConnection[_0x3634('0x64')]){await _0x5968bc(_0xeed0f9);}_0x2bdca5[_0x3634('0x57')](_0xeed0f9,function(_0x29c903){if(_0x29c903){return _0x42bee7(_0x29c903);}_0x2baab4(_0x2bdca5[_0x3634('0x84')][_0x3634('0x1f')],_0xeed0f9);return _0x5ce96d[_0x3634('0x91')](0xc8)[_0x3634('0x18')]({'serverMessage':_0x2bdca5['__']('REGISTER.CREATED'),'user':_0xeed0f9});});}else{if(_0x545407()==0x0){_0x2baab4(_0x2bdca5[_0x3634('0x84')][_0x3634('0x1f')],_0xeed0f9);if(classroomConnection[_0x3634('0x64')]){await _0x5968bc(_0xeed0f9);}_0x2bdca5['logIn'](_0xeed0f9,function(_0x271cb0){if(_0x271cb0){return _0x42bee7(_0x271cb0);}_0x2baab4(_0x2bdca5[_0x3634('0x84')]['socketId'],_0xeed0f9);return _0x5ce96d['status'](0xc8)[_0x3634('0x18')]({'serverMessage':_0x2bdca5['__'](_0x3634('0x56')),'user':_0xeed0f9});});}else{return _0x5ce96d[_0x3634('0x91')](0x1f4)['send'](_0x2bdca5['__'](_0x3634('0x8d')));}}})(_0x2bdca5,_0x5ce96d,_0x42bee7);});app[_0x3634('0x35')]('/api/users',passport[_0x3634('0x7a')](_0x3634('0x5e'),{'session':!![]}),function(_0x24b494,_0x5e76a2){if(_0x24b494[_0x3634('0x78')][_0x3634('0x9')]){return _0x5e76a2[_0x3634('0x91')](0x1f4)['send'](_0x24b494['user']['Error']);}else{}});app[_0x3634('0x61')](_0x3634('0x46'),_0x28a23f(),function(_0x5dfe43,_0x286d44){User[_0x3634('0x5')]({'username':_0x5dfe43[_0x3634('0x80')]['User_Id'][_0x3634('0x6f')]()[_0x3634('0x71')]()},function(_0x32f4cd,_0x41d1d5){if(_0x32f4cd)_0x286d44[_0x3634('0x27')](_0x32f4cd);_0x286d44[_0x3634('0x18')](_0x41d1d5);});});app[_0x3634('0x1')](_0x3634('0x46'),_0x28a23f(),function(_0x5c7f10,_0x286c47){User[_0x3634('0x5')]({'username':_0x5c7f10[_0x3634('0x80')][_0x3634('0x5b')]['toLowerCase']()['trim']()},function(_0x24bf6d,_0x2ab25a){if(_0x24bf6d)_0x286c47[_0x3634('0x27')](_0x24bf6d);if(_0x5c7f10[_0x3634('0x84')]['password']){_0x2ab25a[_0x3634('0x36')]=_0x2ab25a[_0x3634('0x3b')](_0x5c7f10[_0x3634('0x84')][_0x3634('0x36')]);}if(_0x5c7f10[_0x3634('0x84')][_0x3634('0x3f')]){_0x2ab25a[_0x3634('0x3f')]=_0x5c7f10['body']['firstname'];}if(_0x5c7f10[_0x3634('0x84')][_0x3634('0x66')]){_0x2ab25a['lastname']=_0x5c7f10[_0x3634('0x84')]['lastname'];}if(_0x5c7f10[_0x3634('0x84')]['language']){_0x2ab25a[_0x3634('0x12')]=_0x5c7f10[_0x3634('0x84')]['language'];}if(_0x5c7f10[_0x3634('0x84')][_0x3634('0x8b')]){_0x2ab25a[_0x3634('0x8b')]=_0x5c7f10[_0x3634('0x84')][_0x3634('0x8b')];}if(_0x5c7f10[_0x3634('0x84')]['defaultprogramminglanguage']){_0x2ab25a[_0x3634('0x74')]=_0x5c7f10['body'][_0x3634('0x74')];}if(_0x5c7f10[_0x3634('0x84')][_0x3634('0x67')]){_0x2ab25a[_0x3634('0x67')]=_0x5c7f10[_0x3634('0x84')][_0x3634('0x67')];}if(_0x5c7f10[_0x3634('0x84')][_0x3634('0x68')]){_0x2ab25a[_0x3634('0x68')]=_0x5c7f10[_0x3634('0x84')]['securityanswer'];}if(_0x5c7f10['body'][_0x3634('0x79')]){_0x2ab25a['usergroup']=_0x5c7f10[_0x3634('0x84')][_0x3634('0x79')];}_0x2ab25a[_0x3634('0x2a')](function(_0xd7a104){if(_0xd7a104)_0x286c47[_0x3634('0x91')](0x1f4)[_0x3634('0x27')](_0xd7a104);_0x286c47[_0x3634('0x91')](0xc8)[_0x3634('0x18')]({'serverMessage':_0x3634('0x19')});});});});app[_0x3634('0x5f')](_0x3634('0x46'),_0x28a23f(),function(_0x3324d1,_0x4a4c1e){if(_0x3324d1[_0x3634('0x80')][_0x3634('0x5b')]['toLowerCase']()['trim']()==_0x3324d1['user'][_0x3634('0x4c')]){if(FusionSettings['SocketVariables'][_0x3634('0x87')])if(FusionSettings[_0x3634('0x4e')]['fusion_program_running'][_0x3634('0x59')]==_0x3324d1[_0x3634('0x78')][_0x3634('0x4c')])fusionProgram[_0x3634('0x8c')]();_0x98ae3c(_0x3324d1[_0x3634('0x78')][_0x3634('0x4c')]);_0x3324d1[_0x3634('0x23')]();}User[_0x3634('0x3d')]({'username':_0x3324d1[_0x3634('0x80')][_0x3634('0x5b')][_0x3634('0x6f')]()['trim']()},function(_0x3a77ab,_0x11be46){if(_0x3a77ab)return _0x4a4c1e[_0x3634('0x27')](_0x3a77ab);User[_0x3634('0x77')](_0x3324d1['params'][_0x3634('0x5b')][_0x3634('0x6f')]()['trim']());return _0x4a4c1e[_0x3634('0x91')](0xc8)['json']({'serverMessage':_0x3634('0x4b')});});});app[_0x3634('0x35')](_0x3634('0x4d'),function(_0x5b218a,_0x2ff528,_0x4d113d){passport[_0x3634('0x7a')]('local-login',async function(_0xc641af,_0x937176,_0x16140d){if(_0xc641af)return _0x2ff528[_0x3634('0x91')](0x1f4)[_0x3634('0x27')](_0x5b218a['__'](_0xc641af['message']));if(!_0x937176)return _0x2ff528[_0x3634('0x91')](0x191)['send'](_0x5b218a['__'](_0x16140d[_0x3634('0x29')]));if(FusionSettings['MultiUserAccess']){if(classroomConnection[_0x3634('0x64')]){await _0x5968bc(_0x937176);}_0x5b218a['logIn'](_0x937176,function(_0x2c6832){if(_0x2c6832){return _0x4d113d(_0x2c6832);}_0x2baab4(_0x5b218a[_0x3634('0x84')]['socketId'],_0x937176);return _0x2ff528[_0x3634('0x91')](0xc8)['json']({'serverMessage':_0x5b218a['__']('LOGIN.SUCCESS'),'user':_0x937176});});}else{if(_0x545407()==0x0){_0x2baab4(_0x5b218a[_0x3634('0x84')][_0x3634('0x1f')],_0x937176);if(classroomConnection['connected']){await _0x5968bc(_0x937176);}_0x5b218a[_0x3634('0x57')](_0x937176,function(_0x5cce79){if(_0x5cce79){return _0x4d113d(_0x5cce79);}_0x2baab4(_0x5b218a['body'][_0x3634('0x1f')],_0x937176);return _0x2ff528[_0x3634('0x91')](0xc8)['json']({'serverMessage':_0x5b218a['__'](_0x3634('0x50')),'user':_0x937176});});}else{return _0x2ff528[_0x3634('0x91')](0x1f4)[_0x3634('0x27')](_0x5b218a['__'](_0x3634('0x63')));}}})(_0x5b218a,_0x2ff528,_0x4d113d);});app[_0x3634('0x35')](_0x3634('0x2f'),async function(_0x2ca5de,_0xb0249c){logger[_0x3634('0x32')](_0x3634('0xe'));var _0x135c5d={'method':_0x3634('0x81'),'uri':_0x3634('0x33'),'body':{'username':_0x2ca5de['body'][_0x3634('0x4c')],'password':_0x2ca5de[_0x3634('0x84')][_0x3634('0x36')]},'json':!![],'rejectUnauthorized':![]};try{let _0xc6dc96=await rp(_0x135c5d);let _0x444529=await User[_0x3634('0x5')]({'username':_0x2ca5de['body'][_0x3634('0x4c')]})[_0x3634('0x0')]();if(_0x444529){return _0xb0249c[_0x3634('0x91')](0xc8)['send'](_0x3634('0x49'));}else{return _0xb0249c[_0x3634('0x91')](0xc8)['send'](_0x3634('0x8f'));}}catch(_0x1d988f){logger['info'](_0x3634('0x42')+_0x1d988f);return _0xb0249c[_0x3634('0x91')](0x1f4)[_0x3634('0x27')](_0x1d988f);}});app['post'](_0x3634('0x70'),_0x28a23f(),function(_0x5859e0,_0x5451a5){if(FusionSettings[_0x3634('0x4e')]['fusion_program_running'])if(FusionSettings['SocketVariables'][_0x3634('0x87')]['User']==_0x5859e0[_0x3634('0x78')]['username'])fusionProgram[_0x3634('0x8c')]();_0x124f52(_0x5859e0[_0x3634('0x84')][_0x3634('0x1f')]);_0x5859e0[_0x3634('0x23')]();_0x5451a5[_0x3634('0x91')](0xc8)[_0x3634('0x18')]({'serverMessage':'Logged\x20out\x20successfully'});});app[_0x3634('0x61')](_0x3634('0x86'),function(_0x35e527,_0x432973){User[_0x3634('0x5')]({'username':_0x35e527[_0x3634('0x80')][_0x3634('0x5b')][_0x3634('0x6f')]()['trim']()},function(_0x4c04b7,_0x52a768){if(_0x4c04b7)return _0x432973[_0x3634('0x91')](0x1f4)['send'](_0x4c04b7);if(!_0x52a768)return _0x432973[_0x3634('0x91')](0x1f4)[_0x3634('0x27')]('User\x20does\x20not\x20exist');else return _0x432973[_0x3634('0x91')](0xc8)[_0x3634('0x18')](_0x52a768['securityquestion']);});});app[_0x3634('0x35')]('/api/recovery',passport[_0x3634('0x7a')](_0x3634('0x41'),{'session':!![]}),function(_0x2d5971,_0x256be0){if(FusionSettings[_0x3634('0x34')]){if(classroomConnection[_0x3634('0x64')]){_0x5968bc(_0x2d5971['user']);}_0x2baab4(_0x2d5971['body']['socketId'],_0x2d5971[_0x3634('0x78')]);return _0x256be0['status'](0xc8)[_0x3634('0x18')]({'serverMessage':_0x3634('0x3c'),'user':_0x2d5971[_0x3634('0x78')]});}else{if(_0x545407()==0x0){_0x2baab4(_0x2d5971[_0x3634('0x84')]['socketId'],_0x2d5971['user']);if(classroomConnection[_0x3634('0x64')]){_0x5968bc(_0x2d5971[_0x3634('0x78')]);}return _0x256be0['status'](0xc8)[_0x3634('0x18')]({'serverMessage':_0x3634('0x3c'),'user':_0x2d5971['user']});}else{_0x2d5971[_0x3634('0x23')]();return _0x256be0['status'](0x1f4)[_0x3634('0x27')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});app[_0x3634('0x61')](_0x3634('0x5c'),function(_0x3c8e24,_0x39eba5){var _0x428bd6=[_0x3634('0x59')];User['findOne']({'usergroup':_0x3634('0x3a')},function(_0x5b29c6,_0x2633a4){if(_0x5b29c6)return _0x39eba5[_0x3634('0x91')](0xc8)[_0x3634('0x27')](_0x428bd6);if(!_0x2633a4)_0x428bd6[_0x3634('0x6c')](_0x3634('0x3a'));return _0x39eba5[_0x3634('0x91')](0xc8)[_0x3634('0x27')](_0x428bd6);});});function _0x545407(){var _0x595b93=0x0;for(var _0x34d3e3=0x0;_0x34d3e3<FusionSettings[_0x3634('0x6e')][_0x3634('0x38')];_0x34d3e3++){if(FusionSettings[_0x3634('0x6e')][_0x34d3e3][_0x3634('0x59')]){_0x595b93++;}}return _0x595b93;}function _0x2baab4(_0x3899b3,_0x315d63){for(var _0x44bf27=0x0;_0x44bf27<FusionSettings[_0x3634('0x6e')]['length'];_0x44bf27++){if(FusionSettings[_0x3634('0x6e')][_0x44bf27]['id']==_0x3899b3){FusionSettings['connectedClients'][_0x44bf27][_0x3634('0x59')]=_0x315d63;break;}}}function _0x124f52(_0x12d418){for(var _0x4540c8=0x0;_0x4540c8<FusionSettings[_0x3634('0x6e')][_0x3634('0x38')];_0x4540c8++){if(FusionSettings[_0x3634('0x6e')][_0x4540c8]['id']==_0x12d418){FusionSettings[_0x3634('0x6e')][_0x4540c8][_0x3634('0x59')]=undefined;break;}}}function _0x98ae3c(_0xa09dbb){for(var _0x48dbac=0x0;_0x48dbac<FusionSettings[_0x3634('0x6e')][_0x3634('0x38')];_0x48dbac++){if(FusionSettings['connectedClients'][_0x48dbac][_0x3634('0x59')]['username']==_0xa09dbb){FusionSettings['connectedClients'][_0x48dbac][_0x3634('0x59')]=undefined;break;}}}function _0x28a23f(){return function(_0x48d89d,_0x413d19,_0x2535df){if(_0x48d89d['isAuthenticated']()){return _0x2535df();}else{return _0x413d19['status'](0x191)[_0x3634('0x27')](_0x3634('0x7c'));}};}async function _0x5968bc(_0x12d888){try{await _0x318ea1(_0x12d888);}catch(_0x3e1cd8){logger[_0x3634('0x32')](_0x3e1cd8);logger[_0x3634('0x32')](_0x3634('0x2e')+_0x12d888[_0x3634('0x4c')]);}};function _0x318ea1(_0x536bde){return new Promise(function(_0x1e758f,_0x29ea7c){var _0x1f1bf6=new SSH();_0x1f1bf6['on'](_0x3634('0x48'),function(){_0x1f1bf6[_0x3634('0xb')](async function(_0x19e72a,_0xbd2689){if(_0x19e72a){logger[_0x3634('0x32')](_0x3634('0x65')+_0x19e72a);_0x1f1bf6[_0x3634('0x13')]();return _0x29ea7c(_0x19e72a);}try{await _0x1ef4e6(_0xbd2689);await _0x40e564(_0xbd2689,_0x536bde[_0x3634('0x4c')]);await _0x28c230(_0xbd2689,_0x536bde[_0x3634('0x4c')]);await _0x4e4d0a(_0xbd2689,_0x536bde['username']);let _0xc9b5e2=await _0x3db59e(_0xbd2689,_0x536bde[_0x3634('0x4c')]);logger[_0x3634('0x32')](JSON['stringify'](_0xc9b5e2));let _0x4de0c3=await _0x30460a(_0x536bde['filepath']);logger['info'](JSON[_0x3634('0x69')](_0x4de0c3));await _0x3e36e5(_0xbd2689,_0x536bde,_0xc9b5e2,_0x4de0c3);_0x1f1bf6['end']();return _0x1e758f();}catch(_0x205ab4){logger[_0x3634('0x32')](_0x205ab4);_0x1f1bf6[_0x3634('0x13')]();return _0x29ea7c(_0x205ab4);}});})['connect']({'host':_0x3634('0x6'),'port':0x16,'username':'c3','password':_0x3634('0x83')});});};function _0x1ef4e6(_0x1e9929){return new Promise(function(_0x30f9c3,_0x3eb6ef){_0x1e9929[_0x3634('0x1c')](_0x3634('0x62'),function(_0x588225){if(_0x588225){_0x1e9929[_0x3634('0x88')](_0x3634('0x62'),function(_0x40b7ae){if(_0x40b7ae){return _0x3eb6ef(_0x3634('0x72')+_0x40b7ae);}else{logger[_0x3634('0x32')](_0x3634('0x2c'));return _0x30f9c3();}});}else{logger[_0x3634('0x32')](_0x3634('0x10'));return _0x30f9c3();}});});};function _0x40e564(_0x158f9c,_0x354570){return new Promise(function(_0x15ea4e,_0x431d53){_0x158f9c[_0x3634('0x1c')](_0x3634('0x62')+_0x354570,function(_0x4dfc56){if(_0x4dfc56){_0x158f9c[_0x3634('0x88')](_0x3634('0x62')+_0x354570,function(_0x420503){if(_0x420503){return _0x431d53(_0x3634('0x20')+_0x420503);}else{logger[_0x3634('0x32')]('User\x27s\x20classroom\x20file\x20system\x20created');return _0x15ea4e();}});}else{logger['info']('User\x27s\x20classroom\x20file\x20system\x20found');return _0x15ea4e();}});});};function _0x28c230(_0x4c1b52,_0x475dfc){return new Promise(function(_0x421364,_0x4b478d){_0x4c1b52[_0x3634('0x1c')]('/home/c3/FusionFilesystem/'+_0x475dfc+_0x3634('0x45'),function(_0x34766c){if(_0x34766c){_0x4c1b52[_0x3634('0x88')](_0x3634('0x62')+_0x475dfc+'/Editor/',function(_0x44b5ac){if(_0x44b5ac){return _0x4b478d(_0x3634('0x7b')+_0x44b5ac);}else{logger[_0x3634('0x32')](_0x3634('0x76'));return _0x421364();}});}else{logger[_0x3634('0x32')](_0x3634('0x85'));return _0x421364();}});});};function _0x4e4d0a(_0x36f536,_0xfcf004){return new Promise(function(_0x2e1bcb,_0x24f39c){_0x36f536[_0x3634('0x1c')](_0x3634('0x62')+_0xfcf004+_0x3634('0x54'),function(_0x22400b){if(_0x22400b){_0x36f536['mkdir'](_0x3634('0x62')+_0xfcf004+_0x3634('0x54'),function(_0x31c388){if(_0x31c388){return _0x24f39c(_0x3634('0x47')+_0x31c388);}else{logger[_0x3634('0x32')](_0x3634('0x16'));return _0x2e1bcb();}});}else{logger['info'](_0x3634('0x6a'));return _0x2e1bcb();}});});};function _0x3db59e(_0x3a0cba,_0x3bcf00){return new Promise(async function(_0x1ae5c9,_0x498ae0){try{let _0xcdc199={};_0xcdc199[_0x3634('0x17')]=await _0x4cbcef(_0x3a0cba,_0x3bcf00);_0xcdc199[_0x3634('0x6d')]=await _0x1241db(_0x3a0cba,_0x3bcf00);return _0x1ae5c9(_0xcdc199);}catch(_0x2ec6dc){return _0x498ae0(_0x2ec6dc);}});};function _0x4cbcef(_0x39cca2,_0x3ea24a){return new Promise(function(_0x44b1fc,_0x2d1be9){_0x39cca2['readdir'](_0x3634('0x62')+_0x3ea24a+_0x3634('0x45'),function(_0x27d73d,_0x5c752b){if(_0x27d73d)return _0x2d1be9(_0x27d73d);let _0x1dda45=[];for(let _0x30bdde=0x0;_0x30bdde<_0x5c752b[_0x3634('0x38')];_0x30bdde++){logger[_0x3634('0x32')](_0x3634('0x51')+_0x5c752b[_0x30bdde][_0x3634('0x25')]);_0x1dda45[_0x3634('0x44')](_0x5c752b[_0x30bdde]);}return _0x44b1fc(_0x1dda45);});});};function _0x1241db(_0xc7426b,_0x2ba8cd){return new Promise(function(_0x57e3d2,_0x3d0842){_0xc7426b['readdir'](_0x3634('0x62')+_0x2ba8cd+'/Blockly/',function(_0x520085,_0xcc3b68){if(_0x520085)return _0x3d0842(_0x520085);let _0x421473=[];for(let _0x4f25f1=0x0;_0x4f25f1<_0xcc3b68[_0x3634('0x38')];_0x4f25f1++){logger[_0x3634('0x32')](_0x3634('0x51')+_0xcc3b68[_0x4f25f1][_0x3634('0x25')]);_0x421473[_0x3634('0x44')](_0xcc3b68[_0x4f25f1]);}return _0x57e3d2(_0x421473);});});};function _0x30460a(_0x453d1b){return new Promise(async function(_0xe5307d,_0x1adb45){try{let _0x2c2ed4={};_0x2c2ed4[_0x3634('0x17')]=await _0x77897b(_0x453d1b);_0x2c2ed4[_0x3634('0x6d')]=await _0x4c10d7(_0x453d1b);return _0xe5307d(_0x2c2ed4);}catch(_0x193741){return _0x1adb45(_0x193741);}});};function _0x77897b(_0x48216a){return new Promise(async function(_0x4907ab,_0x1e5709){try{let _0x3bbbb6=[];let _0x290177=await fs[_0x3634('0x1c')](_0x48216a+_0x3634('0x1d'));for(let _0x424408=0x0;_0x424408<_0x290177['length'];_0x424408++){logger[_0x3634('0x32')](_0x3634('0x51')+_0x290177[_0x424408]);let _0x4ce46b=await fs['stat'](_0x48216a+_0x3634('0x45')+_0x290177[_0x424408]);_0x4ce46b[_0x3634('0x2b')]=_0x290177[_0x424408];_0x3bbbb6[_0x3634('0x44')](_0x4ce46b);}return _0x4907ab(_0x3bbbb6);}catch(_0x112b23){return _0x1e5709(_0x112b23);}});};function _0x4c10d7(_0x1014d8){return new Promise(async function(_0x536342,_0x4ce95a){try{let _0x20ae5f=[];let _0xd86509=await fs['readdir'](_0x1014d8+_0x3634('0x60'));for(let _0x5b669f=0x0;_0x5b669f<_0xd86509[_0x3634('0x38')];_0x5b669f++){logger['info'](_0x3634('0x51')+_0xd86509[_0x5b669f]);let _0x479cc9=await fs[_0x3634('0x28')](_0x1014d8+'/Blockly/'+_0xd86509[_0x5b669f]);_0x479cc9[_0x3634('0x2b')]=_0xd86509[_0x5b669f];_0x20ae5f[_0x3634('0x44')](_0x479cc9);}return _0x536342(_0x20ae5f);}catch(_0x29219e){return _0x4ce95a(_0x29219e);}});};function _0x3e36e5(_0x4115b1,_0x47fa51,_0x339796,_0x40c916){return new Promise(async function(_0x45c15c,_0x31aeac){try{for(let _0x45b85d=0x0;_0x45b85d<_0x339796[_0x3634('0x17')][_0x3634('0x38')];_0x45b85d++){let _0x5d3027=![];for(let _0x518c21=0x0;_0x518c21<_0x40c916['Editor'][_0x3634('0x38')];_0x518c21++){if(_0x40c916[_0x3634('0x17')][_0x518c21]['name']==_0x339796['Editor'][_0x45b85d]['filename']){logger[_0x3634('0x32')](_0x3634('0x4a')+Math[_0x3634('0x58')](_0x40c916[_0x3634('0x17')][_0x518c21][_0x3634('0x1e')]/0x3e8));logger[_0x3634('0x32')](_0x3634('0x73')+_0x339796['Editor'][_0x45b85d][_0x3634('0x43')][_0x3634('0x14')]);if(Math['floor'](_0x40c916[_0x3634('0x17')][_0x518c21][_0x3634('0x1e')]/0x3e8)>_0x339796[_0x3634('0x17')][_0x45b85d][_0x3634('0x43')][_0x3634('0x14')]){_0x5d3027=!![];logger[_0x3634('0x32')](_0x3634('0x5a')+_0x40c916[_0x3634('0x17')][_0x518c21]['name']+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x192aa4(_0x4115b1,_0x47fa51,_0x339796[_0x3634('0x17')][_0x45b85d][_0x3634('0x25')],_0x3634('0x17'));}catch(_0x38b0d6){return _0x31aeac(_0x38b0d6);}break;}else{_0x5d3027=!![];logger[_0x3634('0x32')]('Remote\x20\x22'+_0x40c916[_0x3634('0x17')][_0x518c21]['name']+_0x3634('0x7f'));try{await _0x15a74e(_0x4115b1,_0x47fa51,_0x339796[_0x3634('0x17')][_0x45b85d][_0x3634('0x25')],_0x3634('0x17'));}catch(_0x233018){logger[_0x3634('0x32')](_0x3634('0xd')+_0x233018);return _0x31aeac(_0x233018);}break;}}}if(!_0x5d3027){logger[_0x3634('0x32')](_0x339796[_0x3634('0x17')][_0x45b85d][_0x3634('0x25')]+_0x3634('0x37'));try{await _0x15a74e(_0x4115b1,_0x47fa51,_0x339796[_0x3634('0x17')][_0x45b85d][_0x3634('0x25')],_0x3634('0x17'));}catch(_0x19f2f0){return _0x31aeac(_0x19f2f0);}}}for(let _0x1790ef=0x0;_0x1790ef<_0x339796[_0x3634('0x6d')][_0x3634('0x38')];_0x1790ef++){let _0x3c05b3=![];for(let _0x29f9d3=0x0;_0x29f9d3<_0x40c916['Blockly']['length'];_0x29f9d3++){if(_0x40c916['Blockly'][_0x29f9d3][_0x3634('0x2b')]==_0x339796[_0x3634('0x6d')][_0x1790ef]['filename']){logger[_0x3634('0x32')](_0x3634('0x4a')+Math['floor'](_0x40c916[_0x3634('0x6d')][_0x29f9d3][_0x3634('0x1e')]/0x3e8));logger[_0x3634('0x32')](_0x3634('0x73')+_0x339796[_0x3634('0x6d')][_0x1790ef][_0x3634('0x43')][_0x3634('0x14')]);if(Math[_0x3634('0x58')](_0x40c916[_0x3634('0x6d')][_0x29f9d3][_0x3634('0x1e')]/0x3e8)>_0x339796['Blockly'][_0x1790ef]['attrs']['mtime']){_0x3c05b3=!![];logger[_0x3634('0x32')](_0x3634('0x5a')+_0x40c916['Blockly'][_0x29f9d3]['name']+_0x3634('0x6b'));try{await _0x192aa4(_0x4115b1,_0x47fa51,_0x339796[_0x3634('0x6d')][_0x1790ef][_0x3634('0x25')],'Blockly');}catch(_0x57d3bc){return _0x31aeac(_0x57d3bc);}break;}else{_0x3c05b3=!![];logger[_0x3634('0x32')]('Remote\x20\x22'+_0x40c916['Blockly'][_0x29f9d3][_0x3634('0x2b')]+_0x3634('0x7f'));try{await _0x15a74e(_0x4115b1,_0x47fa51,_0x339796[_0x3634('0x6d')][_0x1790ef][_0x3634('0x25')],_0x3634('0x6d'));}catch(_0x34802c){logger[_0x3634('0x32')](_0x3634('0xd')+_0x34802c);return _0x31aeac(_0x34802c);}break;}}}if(!_0x3c05b3){logger[_0x3634('0x32')](_0x339796[_0x3634('0x6d')][_0x1790ef]['filename']+_0x3634('0x37'));try{await _0x15a74e(_0x4115b1,_0x47fa51,_0x339796['Blockly'][_0x1790ef]['filename'],_0x3634('0x6d'));}catch(_0x91e272){return _0x31aeac(_0x91e272);}}}return _0x45c15c();}catch(_0x47afd2){return _0x31aeac(_0x47afd2);}});};function _0x192aa4(_0x40efae,_0x2028d0,_0x13caf3,_0x1cc60f){return new Promise((_0x1d25a6,_0x4be449)=>{try{let _0x3eaf93=_0x3634('0x62')+_0x2028d0['username']+'/'+_0x1cc60f+'/'+_0x13caf3;let _0x158a93=_0x2028d0[_0x3634('0x8e')]+'/'+_0x1cc60f+'/'+_0x13caf3;logger[_0x3634('0x32')]('Remote\x20path:\x20'+_0x3eaf93);logger[_0x3634('0x32')]('Local\x20Path:\x20'+_0x158a93);_0x40efae[_0x3634('0x4')](_0x158a93,_0x3eaf93,{},function(_0x303627){if(_0x303627){logger[_0x3634('0x32')](_0x3634('0x4f')+_0x13caf3);return _0x4be449(_0x303627);}logger[_0x3634('0x32')](_0x3634('0x52')+_0x13caf3);return _0x1d25a6();});}catch(_0xae360a){return _0x4be449(_0xae360a);}});};function _0x15a74e(_0x1fe260,_0x1d1a25,_0x13db44,_0x5e9da7){return new Promise((_0x3df3be,_0x2f19d0)=>{try{let _0x3f07b7=_0x3634('0x62')+_0x1d1a25[_0x3634('0x4c')]+'/'+_0x5e9da7+'/'+_0x13db44;let _0x39919d=_0x1d1a25[_0x3634('0x8e')]+'/'+_0x5e9da7+'/'+_0x13db44;logger[_0x3634('0x32')](_0x3634('0x1a')+_0x3f07b7);logger[_0x3634('0x32')]('Local\x20Path:\x20'+_0x39919d);_0x1fe260[_0x3634('0x30')](_0x3f07b7,_0x39919d,{},function(_0x23f745){if(_0x23f745){logger['info'](_0x3634('0x40')+_0x13db44);return _0x2f19d0(_0x23f745);}logger[_0x3634('0x32')](_0x3634('0xa')+_0x13db44);return _0x3df3be();});}catch(_0x3c1694){return _0x2f19d0(_0x3c1694);}});};function _0x4a5363(_0x3efe8b,_0x4da84d,_0x6c55bc,_0x19fc5c){_0x3efe8b[_0x3634('0x1c')]('/home/c3/FusionFilesystem/'+_0x4da84d['username'],function(_0x54e189){if(_0x54e189){logger[_0x3634('0x32')]('Error\x20reading\x20user\x20file\x20system:\x20'+_0x54e189);_0x3efe8b[_0x3634('0x88')](_0x3634('0x62')+_0x4da84d['username'],function(_0x3a96dc){if(_0x3a96dc){logger[_0x3634('0x32')](_0x3634('0x31')+_0x3a96dc);throw _0x3a96dc;}logger[_0x3634('0x32')](_0x3634('0xf'));_0x3efe8b[_0x3634('0x88')]('/home/c3/FusionFilesystem/'+_0x4da84d[_0x3634('0x4c')]+_0x3634('0x45'),function(_0x37839f){if(_0x37839f){logger[_0x3634('0x32')](_0x3634('0x24')+_0x37839f);throw _0x37839f;}logger[_0x3634('0x32')](_0x3634('0x22'));_0x3efe8b[_0x3634('0x88')](_0x3634('0x62')+_0x4da84d[_0x3634('0x4c')]+_0x3634('0x54'),function(_0x3b4139){if(_0x3b4139){logger[_0x3634('0x32')](_0x3634('0x8')+_0x3b4139);throw _0x3b4139;}logger[_0x3634('0x32')](_0x3634('0x39'));_0x19fc5c(_0x3efe8b,_0x4da84d,_0x6c55bc);});});});}_0x19fc5c(_0x3efe8b,_0x4da84d,_0x6c55bc);});};function _0x511c47(_0x2cef15,_0x1755de,_0xbf0711){_0x2cef15[_0x3634('0x1c')]('/home/c3/FusionFilesystem/'+_0x1755de[_0x3634('0x4c')]+'/Editor/',function(_0x3d8611,_0x234045){if(_0x3d8611){logger[_0x3634('0x32')](_0x3634('0x3e')+_0x3d8611);throw _0x3d8611;}_0x65e922(_0x1755de,_0x3634('0x17'),_0x234045,_0xbf0711);});_0x2cef15[_0x3634('0x1c')](_0x3634('0x62')+_0x1755de['username']+'/Blockly/',function(_0x3465ec,_0x58cf24){if(_0x3465ec){logger['info']('Error\x20reading\x20classroom\x20blockly\x20files:\x20'+_0x3465ec);throw _0x3465ec;}_0x65e922(_0x1755de,_0x3634('0x6d'),_0x58cf24,_0xbf0711);});};function _0x65e922(_0x39b54c,_0x3ead23,_0x27c99d,_0x290be8){logger['info'](_0x3634('0x82'));if(_0x3ead23==_0x3634('0x6d')&&_0x27c99d[_0x3634('0x38')]==0x0){_0x290be8[_0x3634('0x13')]();}for(var _0x34de99=0x0;_0x34de99<_0x27c99d['length'];_0x34de99++){let _0x200230=_0x3634('0x62')+_0x39b54c[_0x3634('0x4c')]+'/'+_0x3ead23+'/'+_0x27c99d[_0x34de99]['filename'];let _0xc6bc54='app/filesystem/'+_0x39b54c[_0x3634('0x4c')]+'/'+_0x3ead23+'/';logger[_0x3634('0x32')]('Moving:\x20'+_0x200230+_0x3634('0x21')+_0xc6bc54);SCP[_0x3634('0x53')](_0x3634('0x2')+_0x200230,_0xc6bc54,function(_0x7abe5){if(_0x7abe5){logger[_0x3634('0x32')]('Error\x20downloading:\x20'+_0x200230+_0x3634('0x90')+_0x7abe5);}if(_0x3ead23==_0x3634('0x6d')&&(_0x34de99=_0x27c99d[_0x3634('0x38')]-0x1)){_0x290be8['end']();}});}};}();