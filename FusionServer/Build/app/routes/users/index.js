const _0x4d2b=['../../global/fusionSettings','/api/recovery','Moving:\x20','find','Remote\x20path:\x20','findOne','Error\x20downloading\x20file:\x20','path','Local\x20\x22','Error\x20reading\x20classroom\x20blockly\x20files:\x20','MultiUserAccess','fusion_program_running','attrs','User_Id','User\x27s\x20editor\x20directory\x20found','filepath','Error\x20downloading\x20classroom\x20files\x20for\x20','connect','https://172.16.0.1/backend/auth/ldap','push','Remote\x20mtime:\x20','/api/allowedUserGroups','email','Error',',\x20error:\x20','connectedClients','User\x20c3\x20directory\x20created','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','/api/users','local-login','isAuthenticated','Another\x20user\x20is\x20already\x20logged\x20in.','scp','lastname','fastPut','/api/users/cloudLogin','language','/api/users/:User_Id','securityanswer','root','message','Admin','Retrieving\x20files','get','SocketVariables','remove','../../models/user','\x22\x20newer,\x20updating\x20local\x20version','Error\x20uploading\x20file:\x20','password','/Blockly/','info','securityquestion','Editor','\x22\x20newer,\x20updating\x20classroom\x20version','login','LOGIN.SUCCESS','Error:\x20','trim','../../fusionProgram','User\x27s\x20classroom\x20file\x20system\x20created','/api/users/login','Error\x20reading\x20classroom\x20editor\x20files:\x20','User\x27s\x20blockly\x20directory\x20found','mtime','socketId','scp2','KillProgram','Classroom\x20file\x20system\x20created','json','Error\x20creating\x20editor\x20directory:\x20','REGISTER.CREATED','local-signup','user','status','create','User','Blockly\x20directory\x20created','sftp','send','Login\x20Successful','fastGet','firstname','mkdir','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','usergroup','User\x20updated!','User\x27s\x20editor\x20directory\x20created','User\x27s\x20blockly\x20directory\x20created','Editor\x20directory\x20created','Error\x20with\x20request\x20promise.\x20','logout','/Editor/','POST','Local\x20Path:\x20','Error\x20creating\x20user\x20file\x20system:\x20','post','passport','body','logIn','c3:root@172.16.0.1:','length','filename','authenticate','Getting\x20data\x20for\x20','ssh2','readdir','\x20not\x20a\x20common\x20file!','/home/c3/FusionFilesystem/','../../utils/logger','floor','/api/users/logout','stat','defaultprogramminglanguage','username','request-promise','toLowerCase','end','Local\x20mtime:\x20','removeFileSystem','in\x20cloud\x20login','/Blockly','stringify','Classroom\x20file\x20system\x20found','name','params','User\x20Unauthenticated','connected','delete','Remote\x20\x22','save','../../express','mtimeMs','generateHash','Uploaded\x20','Blockly'];(function(_0x33fd69,_0x4d2b88){const _0x362f50=function(_0x2f0646){while(--_0x2f0646){_0x33fd69['push'](_0x33fd69['shift']());}};_0x362f50(++_0x4d2b88);}(_0x4d2b,0x13e));const _0x362f=function(_0x33fd69,_0x4d2b88){_0x33fd69=_0x33fd69-0x0;let _0x362f50=_0x4d2b[_0x33fd69];return _0x362f50;};var SCP=require(_0x362f('0x14'));var SSH=require(_0x362f('0x3b'))['Client'];var fs=require('fs-extra');var path=require(_0x362f('0x61'));var rp=require(_0x362f('0x45'));const classroomConnection=require('../../classroom/connection');const logger=require(_0x362f('0x3f'));const app=require(_0x362f('0x55'));const User=require(_0x362f('0x0'));const passport=require(_0x362f('0x33'));const FusionSettings=require(_0x362f('0x5a'));const fusionProgram=require(_0x362f('0xd'));module['exports']=function(){app[_0x362f('0x85')](_0x362f('0x76'),_0x2abe28(),function(_0x497139,_0x55a1c1){User[_0x362f('0x5d')]({'usergroup':{'$ne':'Guest'}},function(_0x38daca,_0x49d022){if(_0x38daca)_0x55a1c1['send'](_0x38daca);_0x55a1c1[_0x362f('0x17')](_0x49d022);});});app[_0x362f('0x32')]('/api/users',function(_0x275910,_0xc100d6,_0x4fb110){passport['authenticate'](_0x362f('0x1a'),async function(_0x23018d,_0x1204d2,_0x27cf46){if(_0x23018d)return _0xc100d6[_0x362f('0x1c')](0x1f4)['send'](_0x23018d);if(_0x27cf46&&_0x27cf46['message'])return _0xc100d6['status'](0x1f4)['send'](_0x275910['__'](_0x27cf46[_0x362f('0x82')]));if(FusionSettings[_0x362f('0x64')]){if(classroomConnection[_0x362f('0x51')]){await _0x13e53f(_0x1204d2);}_0x275910[_0x362f('0x35')](_0x1204d2,function(_0xd58765){if(_0xd58765){return _0x4fb110(_0xd58765);}_0x4630de(_0x275910[_0x362f('0x34')][_0x362f('0x13')],_0x1204d2);return _0xc100d6['status'](0xc8)[_0x362f('0x17')]({'serverMessage':_0x275910['__']('REGISTER.CREATED'),'user':_0x1204d2});});}else{if(_0x2c7292()==0x0){_0x4630de(_0x275910[_0x362f('0x34')][_0x362f('0x13')],_0x1204d2);if(classroomConnection[_0x362f('0x51')]){await _0x13e53f(_0x1204d2);}_0x275910[_0x362f('0x35')](_0x1204d2,function(_0x35aaac){if(_0x35aaac){return _0x4fb110(_0x35aaac);}_0x4630de(_0x275910[_0x362f('0x34')][_0x362f('0x13')],_0x1204d2);return _0xc100d6[_0x362f('0x1c')](0xc8)['json']({'serverMessage':_0x275910['__'](_0x362f('0x19')),'user':_0x1204d2});});}else{return _0xc100d6[_0x362f('0x1c')](0x1f4)[_0x362f('0x21')](_0x275910['__'](_0x362f('0x26')));}}})(_0x275910,_0xc100d6,_0x4fb110);});app[_0x362f('0x32')]('/api/users',passport[_0x362f('0x39')]('local-signup',{'session':!![]}),function(_0x225d1e,_0xb376e){if(_0x225d1e[_0x362f('0x1b')][_0x362f('0x71')]){return _0xb376e[_0x362f('0x1c')](0x1f4)['send'](_0x225d1e[_0x362f('0x1b')][_0x362f('0x71')]);}else{}});app[_0x362f('0x85')]('/api/users/:User_Id',_0x2abe28(),function(_0x5181b9,_0x536a8c){User[_0x362f('0x5f')]({'username':_0x5181b9[_0x362f('0x4f')][_0x362f('0x67')][_0x362f('0x46')]()['trim']()},function(_0x22751d,_0x578062){if(_0x22751d)_0x536a8c['send'](_0x22751d);_0x536a8c['json'](_0x578062);});});app['put'](_0x362f('0x7f'),_0x2abe28(),function(_0x5ad73e,_0x501651){User[_0x362f('0x5f')]({'username':_0x5ad73e[_0x362f('0x4f')]['User_Id']['toLowerCase']()[_0x362f('0xc')]()},function(_0x23c522,_0x469e9f){if(_0x23c522)_0x501651[_0x362f('0x21')](_0x23c522);if(_0x5ad73e[_0x362f('0x34')][_0x362f('0x3')]){_0x469e9f[_0x362f('0x3')]=_0x469e9f[_0x362f('0x57')](_0x5ad73e[_0x362f('0x34')][_0x362f('0x3')]);}if(_0x5ad73e[_0x362f('0x34')]['firstname']){_0x469e9f[_0x362f('0x24')]=_0x5ad73e[_0x362f('0x34')][_0x362f('0x24')];}if(_0x5ad73e[_0x362f('0x34')]['lastname']){_0x469e9f[_0x362f('0x7b')]=_0x5ad73e[_0x362f('0x34')][_0x362f('0x7b')];}if(_0x5ad73e[_0x362f('0x34')][_0x362f('0x7e')]){_0x469e9f[_0x362f('0x7e')]=_0x5ad73e[_0x362f('0x34')]['language'];}if(_0x5ad73e['body'][_0x362f('0x70')]){_0x469e9f[_0x362f('0x70')]=_0x5ad73e['body'][_0x362f('0x70')];}if(_0x5ad73e[_0x362f('0x34')][_0x362f('0x43')]){_0x469e9f[_0x362f('0x43')]=_0x5ad73e[_0x362f('0x34')][_0x362f('0x43')];}if(_0x5ad73e[_0x362f('0x34')][_0x362f('0x6')]){_0x469e9f['securityquestion']=_0x5ad73e[_0x362f('0x34')][_0x362f('0x6')];}if(_0x5ad73e['body'][_0x362f('0x80')]){_0x469e9f[_0x362f('0x80')]=_0x5ad73e['body'][_0x362f('0x80')];}if(_0x5ad73e['body'][_0x362f('0x27')]){_0x469e9f[_0x362f('0x27')]=_0x5ad73e[_0x362f('0x34')]['usergroup'];}_0x469e9f[_0x362f('0x54')](function(_0x154a01){if(_0x154a01)_0x501651['status'](0x1f4)[_0x362f('0x21')](_0x154a01);_0x501651[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':_0x362f('0x28')});});});});app[_0x362f('0x52')](_0x362f('0x7f'),_0x2abe28(),function(_0x3cf73a,_0x34bbc9){if(_0x3cf73a[_0x362f('0x4f')]['User_Id'][_0x362f('0x46')]()[_0x362f('0xc')]()==_0x3cf73a[_0x362f('0x1b')][_0x362f('0x44')]){if(FusionSettings['SocketVariables']['fusion_program_running'])if(FusionSettings[_0x362f('0x86')]['fusion_program_running'][_0x362f('0x1e')]==_0x3cf73a[_0x362f('0x1b')][_0x362f('0x44')])fusionProgram[_0x362f('0x15')]();_0x54e2f8(_0x3cf73a['user']['username']);_0x3cf73a[_0x362f('0x2d')]();}User[_0x362f('0x87')]({'username':_0x3cf73a[_0x362f('0x4f')][_0x362f('0x67')][_0x362f('0x46')]()[_0x362f('0xc')]()},function(_0x45136b,_0x5732bf){if(_0x45136b)return _0x34bbc9[_0x362f('0x21')](_0x45136b);User[_0x362f('0x49')](_0x3cf73a[_0x362f('0x4f')][_0x362f('0x67')]['toLowerCase']()['trim']());return _0x34bbc9[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':'Successfully\x20deleted'});});});app[_0x362f('0x32')](_0x362f('0xf'),function(_0x471c9c,_0x4275fd,_0x425b21){passport['authenticate'](_0x362f('0x77'),async function(_0x1073be,_0x46a1c0,_0x3ec0ca){if(_0x1073be)return _0x4275fd[_0x362f('0x1c')](0x1f4)[_0x362f('0x21')](_0x471c9c['__'](_0x1073be[_0x362f('0x82')]));if(!_0x46a1c0)return _0x4275fd[_0x362f('0x1c')](0x191)[_0x362f('0x21')](_0x471c9c['__'](_0x3ec0ca[_0x362f('0x82')]));if(FusionSettings[_0x362f('0x64')]){if(classroomConnection[_0x362f('0x51')]){await _0x13e53f(_0x46a1c0);}_0x471c9c[_0x362f('0x35')](_0x46a1c0,function(_0x201e82){if(_0x201e82){return _0x425b21(_0x201e82);}_0x4630de(_0x471c9c[_0x362f('0x34')]['socketId'],_0x46a1c0);return _0x4275fd[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':_0x471c9c['__'](_0x362f('0xa')),'user':_0x46a1c0});});}else{if(_0x2c7292()==0x0){_0x4630de(_0x471c9c[_0x362f('0x34')][_0x362f('0x13')],_0x46a1c0);if(classroomConnection[_0x362f('0x51')]){await _0x13e53f(_0x46a1c0);}_0x471c9c[_0x362f('0x35')](_0x46a1c0,function(_0x430d27){if(_0x430d27){return _0x425b21(_0x430d27);}_0x4630de(_0x471c9c[_0x362f('0x34')][_0x362f('0x13')],_0x46a1c0);return _0x4275fd[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':_0x471c9c['__'](_0x362f('0xa')),'user':_0x46a1c0});});}else{return _0x4275fd['status'](0x1f4)[_0x362f('0x21')](_0x471c9c['__']('LOGIN.MULTIUSER_DENIED'));}}})(_0x471c9c,_0x4275fd,_0x425b21);});app[_0x362f('0x32')](_0x362f('0x7d'),async function(_0x299f1e,_0x568630){logger[_0x362f('0x5')](_0x362f('0x4a'));var _0x1d75f1={'method':_0x362f('0x2f'),'uri':_0x362f('0x6c'),'body':{'username':_0x299f1e[_0x362f('0x34')]['username'],'password':_0x299f1e[_0x362f('0x34')]['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x1a693d=await rp(_0x1d75f1);let _0x3c8393=await User[_0x362f('0x5f')]({'username':_0x299f1e[_0x362f('0x34')][_0x362f('0x44')]})['exec']();if(_0x3c8393){return _0x568630[_0x362f('0x1c')](0xc8)[_0x362f('0x21')](_0x362f('0x9'));}else{return _0x568630[_0x362f('0x1c')](0xc8)[_0x362f('0x21')](_0x362f('0x1d'));}}catch(_0x4a05c0){logger[_0x362f('0x5')](_0x362f('0x2c')+_0x4a05c0);return _0x568630[_0x362f('0x1c')](0x1f4)[_0x362f('0x21')](_0x4a05c0);}});app[_0x362f('0x32')](_0x362f('0x41'),_0x2abe28(),function(_0x1399d6,_0x342657){if(FusionSettings['SocketVariables'][_0x362f('0x65')])if(FusionSettings[_0x362f('0x86')][_0x362f('0x65')][_0x362f('0x1e')]==_0x1399d6[_0x362f('0x1b')][_0x362f('0x44')])fusionProgram[_0x362f('0x15')]();_0x5a2d1d(_0x1399d6[_0x362f('0x34')][_0x362f('0x13')]);_0x1399d6[_0x362f('0x2d')]();_0x342657[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':'Logged\x20out\x20successfully'});});app[_0x362f('0x85')]('/api/recovery/:User_Id',function(_0x56804f,_0x4c1a66){User[_0x362f('0x5f')]({'username':_0x56804f['params'][_0x362f('0x67')][_0x362f('0x46')]()[_0x362f('0xc')]()},function(_0x4ab787,_0x1eb4a7){if(_0x4ab787)return _0x4c1a66[_0x362f('0x1c')](0x1f4)['send'](_0x4ab787);if(!_0x1eb4a7)return _0x4c1a66['status'](0x1f4)['send']('User\x20does\x20not\x20exist');else return _0x4c1a66['status'](0xc8)[_0x362f('0x17')](_0x1eb4a7[_0x362f('0x6')]);});});app[_0x362f('0x32')](_0x362f('0x5b'),passport[_0x362f('0x39')]('local-recovery',{'session':!![]}),function(_0xa095c0,_0x505e98){if(FusionSettings[_0x362f('0x64')]){if(classroomConnection[_0x362f('0x51')]){_0x13e53f(_0xa095c0[_0x362f('0x1b')]);}_0x4630de(_0xa095c0[_0x362f('0x34')][_0x362f('0x13')],_0xa095c0[_0x362f('0x1b')]);return _0x505e98[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':_0x362f('0x22'),'user':_0xa095c0[_0x362f('0x1b')]});}else{if(_0x2c7292()==0x0){_0x4630de(_0xa095c0[_0x362f('0x34')][_0x362f('0x13')],_0xa095c0[_0x362f('0x1b')]);if(classroomConnection[_0x362f('0x51')]){_0x13e53f(_0xa095c0[_0x362f('0x1b')]);}return _0x505e98[_0x362f('0x1c')](0xc8)[_0x362f('0x17')]({'serverMessage':_0x362f('0x22'),'user':_0xa095c0[_0x362f('0x1b')]});}else{_0xa095c0[_0x362f('0x2d')]();return _0x505e98[_0x362f('0x1c')](0x1f4)[_0x362f('0x21')](_0x362f('0x79'));}}});app['get'](_0x362f('0x6f'),function(_0x186a36,_0x4ca117){var _0x1f7378=[_0x362f('0x1e')];User[_0x362f('0x5f')]({'usergroup':_0x362f('0x83')},function(_0x593f76,_0x4d98a2){if(_0x593f76)return _0x4ca117['status'](0xc8)[_0x362f('0x21')](_0x1f7378);if(!_0x4d98a2)_0x1f7378['unshift']('Admin');return _0x4ca117[_0x362f('0x1c')](0xc8)[_0x362f('0x21')](_0x1f7378);});});function _0x2c7292(){var _0x1b8ade=0x0;for(var _0x196569=0x0;_0x196569<FusionSettings['connectedClients']['length'];_0x196569++){if(FusionSettings[_0x362f('0x73')][_0x196569][_0x362f('0x1e')]){_0x1b8ade++;}}return _0x1b8ade;}function _0x4630de(_0x548e86,_0x42b3fa){for(var _0x2e2e2=0x0;_0x2e2e2<FusionSettings[_0x362f('0x73')][_0x362f('0x37')];_0x2e2e2++){if(FusionSettings[_0x362f('0x73')][_0x2e2e2]['id']==_0x548e86){FusionSettings[_0x362f('0x73')][_0x2e2e2][_0x362f('0x1e')]=_0x42b3fa;break;}}}function _0x5a2d1d(_0x4114cb){for(var _0xde9a96=0x0;_0xde9a96<FusionSettings['connectedClients']['length'];_0xde9a96++){if(FusionSettings['connectedClients'][_0xde9a96]['id']==_0x4114cb){FusionSettings[_0x362f('0x73')][_0xde9a96]['User']=undefined;break;}}}function _0x54e2f8(_0x5c9122){for(var _0x666587=0x0;_0x666587<FusionSettings[_0x362f('0x73')][_0x362f('0x37')];_0x666587++){if(FusionSettings['connectedClients'][_0x666587]['User'][_0x362f('0x44')]==_0x5c9122){FusionSettings['connectedClients'][_0x666587][_0x362f('0x1e')]=undefined;break;}}}function _0x2abe28(){return function(_0x768d43,_0x3e9ce5,_0x1b42ed){if(_0x768d43[_0x362f('0x78')]()){return _0x1b42ed();}else{return _0x3e9ce5[_0x362f('0x1c')](0x191)[_0x362f('0x21')](_0x362f('0x50'));}};}async function _0x13e53f(_0x5dd10b){try{await _0x1c57dd(_0x5dd10b);}catch(_0x3e1648){logger[_0x362f('0x5')](_0x3e1648);logger[_0x362f('0x5')](_0x362f('0x6a')+_0x5dd10b[_0x362f('0x44')]);}};function _0x1c57dd(_0x366a82){return new Promise(function(_0x523f67,_0x518724){var _0x9a9dab=new SSH();_0x9a9dab['on']('ready',function(){_0x9a9dab[_0x362f('0x20')](async function(_0xbf5d13,_0x459471){if(_0xbf5d13){logger[_0x362f('0x5')]('Error\x20communicating\x20with\x20c3:\x20'+_0xbf5d13);_0x9a9dab[_0x362f('0x47')]();return _0x518724(_0xbf5d13);}try{await _0x3a74cd(_0x459471);await _0x4cd725(_0x459471,_0x366a82[_0x362f('0x44')]);await _0x244ca8(_0x459471,_0x366a82[_0x362f('0x44')]);await _0x48c38d(_0x459471,_0x366a82[_0x362f('0x44')]);let _0x14c933=await _0x130578(_0x459471,_0x366a82[_0x362f('0x44')]);logger['info'](JSON[_0x362f('0x4c')](_0x14c933));let _0x58fb55=await _0xf4f42a(_0x366a82['filepath']);logger['info'](JSON[_0x362f('0x4c')](_0x58fb55));await _0x32be34(_0x459471,_0x366a82,_0x14c933,_0x58fb55);_0x9a9dab[_0x362f('0x47')]();return _0x523f67();}catch(_0x124d41){logger[_0x362f('0x5')](_0x124d41);_0x9a9dab['end']();return _0x518724(_0x124d41);}});})[_0x362f('0x6b')]({'host':'10.200.200.1','port':0x16,'username':'c3','password':_0x362f('0x81')});});};function _0x3a74cd(_0x2bb11e){return new Promise(function(_0x203230,_0x2ac22d){_0x2bb11e[_0x362f('0x3c')](_0x362f('0x3e'),function(_0x2beacb){if(_0x2beacb){_0x2bb11e[_0x362f('0x25')](_0x362f('0x3e'),function(_0x443f4f){if(_0x443f4f){return _0x2ac22d('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x443f4f);}else{logger['info'](_0x362f('0x16'));return _0x203230();}});}else{logger[_0x362f('0x5')](_0x362f('0x4d'));return _0x203230();}});});};function _0x4cd725(_0x3dbafd,_0x1a433c){return new Promise(function(_0x55b0ff,_0x152ae9){_0x3dbafd[_0x362f('0x3c')](_0x362f('0x3e')+_0x1a433c,function(_0x23225b){if(_0x23225b){_0x3dbafd[_0x362f('0x25')]('/home/c3/FusionFilesystem/'+_0x1a433c,function(_0x33c467){if(_0x33c467){return _0x152ae9('Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20'+_0x33c467);}else{logger[_0x362f('0x5')](_0x362f('0xe'));return _0x55b0ff();}});}else{logger[_0x362f('0x5')]('User\x27s\x20classroom\x20file\x20system\x20found');return _0x55b0ff();}});});};function _0x244ca8(_0x33d1c9,_0x2acbbe){return new Promise(function(_0x28f106,_0x2e474a){_0x33d1c9[_0x362f('0x3c')](_0x362f('0x3e')+_0x2acbbe+'/Editor/',function(_0x16608b){if(_0x16608b){_0x33d1c9[_0x362f('0x25')](_0x362f('0x3e')+_0x2acbbe+'/Editor/',function(_0x36295a){if(_0x36295a){return _0x2e474a('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x36295a);}else{logger['info'](_0x362f('0x29'));return _0x28f106();}});}else{logger[_0x362f('0x5')](_0x362f('0x68'));return _0x28f106();}});});};function _0x48c38d(_0x2bc919,_0x4ee94e){return new Promise(function(_0xc675ba,_0x323380){_0x2bc919[_0x362f('0x3c')](_0x362f('0x3e')+_0x4ee94e+_0x362f('0x4'),function(_0x40dbe5){if(_0x40dbe5){_0x2bc919['mkdir']('/home/c3/FusionFilesystem/'+_0x4ee94e+_0x362f('0x4'),function(_0xab6449){if(_0xab6449){return _0x323380(_0x362f('0x75')+_0xab6449);}else{logger[_0x362f('0x5')](_0x362f('0x2a'));return _0xc675ba();}});}else{logger[_0x362f('0x5')](_0x362f('0x11'));return _0xc675ba();}});});};function _0x130578(_0x2c913f,_0x3aa62d){return new Promise(async function(_0x4dd495,_0x162180){try{let _0x34c05f={};_0x34c05f['Editor']=await _0x186e5f(_0x2c913f,_0x3aa62d);_0x34c05f[_0x362f('0x59')]=await _0x25f842(_0x2c913f,_0x3aa62d);return _0x4dd495(_0x34c05f);}catch(_0x1a0b28){return _0x162180(_0x1a0b28);}});};function _0x186e5f(_0xed0530,_0x3e6af8){return new Promise(function(_0x200425,_0xc09673){_0xed0530[_0x362f('0x3c')](_0x362f('0x3e')+_0x3e6af8+_0x362f('0x2e'),function(_0x406081,_0x329a78){if(_0x406081)return _0xc09673(_0x406081);let _0x12ae3a=[];for(let _0x3442ed=0x0;_0x3442ed<_0x329a78[_0x362f('0x37')];_0x3442ed++){logger[_0x362f('0x5')]('Getting\x20data\x20for\x20'+_0x329a78[_0x3442ed][_0x362f('0x38')]);_0x12ae3a['push'](_0x329a78[_0x3442ed]);}return _0x200425(_0x12ae3a);});});};function _0x25f842(_0x495819,_0x30ee0b){return new Promise(function(_0x37d156,_0x369b40){_0x495819['readdir']('/home/c3/FusionFilesystem/'+_0x30ee0b+_0x362f('0x4'),function(_0x216910,_0x2c2c1e){if(_0x216910)return _0x369b40(_0x216910);let _0x15350b=[];for(let _0xc708e2=0x0;_0xc708e2<_0x2c2c1e[_0x362f('0x37')];_0xc708e2++){logger[_0x362f('0x5')](_0x362f('0x3a')+_0x2c2c1e[_0xc708e2][_0x362f('0x38')]);_0x15350b[_0x362f('0x6d')](_0x2c2c1e[_0xc708e2]);}return _0x37d156(_0x15350b);});});};function _0xf4f42a(_0x3479a5){return new Promise(async function(_0x557b58,_0x295eb1){try{let _0x55f4d3={};_0x55f4d3['Editor']=await _0x373bba(_0x3479a5);_0x55f4d3['Blockly']=await _0x14f451(_0x3479a5);return _0x557b58(_0x55f4d3);}catch(_0x269a58){return _0x295eb1(_0x269a58);}});};function _0x373bba(_0x128c95){return new Promise(async function(_0x29232c,_0x511ed1){try{let _0x44a809=[];let _0x196d19=await fs[_0x362f('0x3c')](_0x128c95+'/Editor');for(let _0x496c9c=0x0;_0x496c9c<_0x196d19[_0x362f('0x37')];_0x496c9c++){logger[_0x362f('0x5')](_0x362f('0x3a')+_0x196d19[_0x496c9c]);let _0x9cc9aa=await fs[_0x362f('0x42')](_0x128c95+_0x362f('0x2e')+_0x196d19[_0x496c9c]);_0x9cc9aa['name']=_0x196d19[_0x496c9c];_0x44a809[_0x362f('0x6d')](_0x9cc9aa);}return _0x29232c(_0x44a809);}catch(_0x2fa7e9){return _0x511ed1(_0x2fa7e9);}});};function _0x14f451(_0x355625){return new Promise(async function(_0x186e64,_0x58a143){try{let _0x1884b8=[];let _0x1c8637=await fs['readdir'](_0x355625+_0x362f('0x4b'));for(let _0x370991=0x0;_0x370991<_0x1c8637['length'];_0x370991++){logger['info'](_0x362f('0x3a')+_0x1c8637[_0x370991]);let _0x13b043=await fs[_0x362f('0x42')](_0x355625+_0x362f('0x4')+_0x1c8637[_0x370991]);_0x13b043[_0x362f('0x4e')]=_0x1c8637[_0x370991];_0x1884b8[_0x362f('0x6d')](_0x13b043);}return _0x186e64(_0x1884b8);}catch(_0x5a2db0){return _0x58a143(_0x5a2db0);}});};function _0x32be34(_0x4385f9,_0x279d48,_0x43a122,_0x3a14dc){return new Promise(async function(_0x140ee9,_0x8224af){try{for(let _0x3e5e00=0x0;_0x3e5e00<_0x43a122[_0x362f('0x7')][_0x362f('0x37')];_0x3e5e00++){let _0x31e761=![];for(let _0x3000c5=0x0;_0x3000c5<_0x3a14dc[_0x362f('0x7')][_0x362f('0x37')];_0x3000c5++){if(_0x3a14dc[_0x362f('0x7')][_0x3000c5][_0x362f('0x4e')]==_0x43a122[_0x362f('0x7')][_0x3e5e00][_0x362f('0x38')]){logger[_0x362f('0x5')](_0x362f('0x48')+Math['floor'](_0x3a14dc['Editor'][_0x3000c5][_0x362f('0x56')]/0x3e8));logger[_0x362f('0x5')]('Remote\x20mtime:\x20'+_0x43a122[_0x362f('0x7')][_0x3e5e00]['attrs'][_0x362f('0x12')]);if(Math[_0x362f('0x40')](_0x3a14dc[_0x362f('0x7')][_0x3000c5][_0x362f('0x56')]/0x3e8)>_0x43a122['Editor'][_0x3e5e00][_0x362f('0x66')][_0x362f('0x12')]){_0x31e761=!![];logger['info'](_0x362f('0x62')+_0x3a14dc[_0x362f('0x7')][_0x3000c5]['name']+_0x362f('0x8'));try{await _0x484882(_0x4385f9,_0x279d48,_0x43a122['Editor'][_0x3e5e00][_0x362f('0x38')],_0x362f('0x7'));}catch(_0x565a25){return _0x8224af(_0x565a25);}break;}else{_0x31e761=!![];logger[_0x362f('0x5')](_0x362f('0x53')+_0x3a14dc[_0x362f('0x7')][_0x3000c5]['name']+_0x362f('0x1'));try{await _0x549c1c(_0x4385f9,_0x279d48,_0x43a122[_0x362f('0x7')][_0x3e5e00][_0x362f('0x38')],_0x362f('0x7'));}catch(_0x5d3810){logger[_0x362f('0x5')]('Error:\x20'+_0x5d3810);return _0x8224af(_0x5d3810);}break;}}}if(!_0x31e761){logger['info'](_0x43a122[_0x362f('0x7')][_0x3e5e00][_0x362f('0x38')]+_0x362f('0x3d'));try{await _0x549c1c(_0x4385f9,_0x279d48,_0x43a122['Editor'][_0x3e5e00]['filename'],_0x362f('0x7'));}catch(_0x50ed96){return _0x8224af(_0x50ed96);}}}for(let _0x4f4c04=0x0;_0x4f4c04<_0x43a122[_0x362f('0x59')][_0x362f('0x37')];_0x4f4c04++){let _0x2bd466=![];for(let _0x305890=0x0;_0x305890<_0x3a14dc[_0x362f('0x59')][_0x362f('0x37')];_0x305890++){if(_0x3a14dc[_0x362f('0x59')][_0x305890]['name']==_0x43a122['Blockly'][_0x4f4c04][_0x362f('0x38')]){logger[_0x362f('0x5')](_0x362f('0x48')+Math[_0x362f('0x40')](_0x3a14dc[_0x362f('0x59')][_0x305890][_0x362f('0x56')]/0x3e8));logger[_0x362f('0x5')](_0x362f('0x6e')+_0x43a122['Blockly'][_0x4f4c04][_0x362f('0x66')][_0x362f('0x12')]);if(Math[_0x362f('0x40')](_0x3a14dc[_0x362f('0x59')][_0x305890][_0x362f('0x56')]/0x3e8)>_0x43a122[_0x362f('0x59')][_0x4f4c04]['attrs']['mtime']){_0x2bd466=!![];logger[_0x362f('0x5')](_0x362f('0x62')+_0x3a14dc[_0x362f('0x59')][_0x305890][_0x362f('0x4e')]+_0x362f('0x8'));try{await _0x484882(_0x4385f9,_0x279d48,_0x43a122[_0x362f('0x59')][_0x4f4c04][_0x362f('0x38')],_0x362f('0x59'));}catch(_0x4c03ea){return _0x8224af(_0x4c03ea);}break;}else{_0x2bd466=!![];logger[_0x362f('0x5')](_0x362f('0x53')+_0x3a14dc[_0x362f('0x59')][_0x305890][_0x362f('0x4e')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x549c1c(_0x4385f9,_0x279d48,_0x43a122[_0x362f('0x59')][_0x4f4c04]['filename'],_0x362f('0x59'));}catch(_0x1407f3){logger[_0x362f('0x5')](_0x362f('0xb')+_0x1407f3);return _0x8224af(_0x1407f3);}break;}}}if(!_0x2bd466){logger[_0x362f('0x5')](_0x43a122[_0x362f('0x59')][_0x4f4c04][_0x362f('0x38')]+_0x362f('0x3d'));try{await _0x549c1c(_0x4385f9,_0x279d48,_0x43a122[_0x362f('0x59')][_0x4f4c04][_0x362f('0x38')],'Blockly');}catch(_0x31e6bd){return _0x8224af(_0x31e6bd);}}}return _0x140ee9();}catch(_0x3acd11){return _0x8224af(_0x3acd11);}});};function _0x484882(_0x12c42e,_0x2782a5,_0x269469,_0xea923b){return new Promise((_0x364c2c,_0x3db746)=>{try{let _0x3cc1bb=_0x362f('0x3e')+_0x2782a5[_0x362f('0x44')]+'/'+_0xea923b+'/'+_0x269469;let _0x4e2c51=_0x2782a5[_0x362f('0x69')]+'/'+_0xea923b+'/'+_0x269469;logger[_0x362f('0x5')](_0x362f('0x5e')+_0x3cc1bb);logger[_0x362f('0x5')](_0x362f('0x30')+_0x4e2c51);_0x12c42e[_0x362f('0x7c')](_0x4e2c51,_0x3cc1bb,{},function(_0x4c349d){if(_0x4c349d){logger['info'](_0x362f('0x2')+_0x269469);return _0x3db746(_0x4c349d);}logger[_0x362f('0x5')](_0x362f('0x58')+_0x269469);return _0x364c2c();});}catch(_0xc78ec5){return _0x3db746(_0xc78ec5);}});};function _0x549c1c(_0x129f98,_0x1130a5,_0x426de9,_0xab4322){return new Promise((_0xa836a1,_0xd945d)=>{try{let _0x163e9a=_0x362f('0x3e')+_0x1130a5['username']+'/'+_0xab4322+'/'+_0x426de9;let _0x10ebbe=_0x1130a5[_0x362f('0x69')]+'/'+_0xab4322+'/'+_0x426de9;logger[_0x362f('0x5')](_0x362f('0x5e')+_0x163e9a);logger[_0x362f('0x5')]('Local\x20Path:\x20'+_0x10ebbe);_0x129f98[_0x362f('0x23')](_0x163e9a,_0x10ebbe,{},function(_0x531a5e){if(_0x531a5e){logger[_0x362f('0x5')](_0x362f('0x60')+_0x426de9);return _0xd945d(_0x531a5e);}logger[_0x362f('0x5')]('Retrieved\x20'+_0x426de9);return _0xa836a1();});}catch(_0x284a0e){return _0xd945d(_0x284a0e);}});};function _0x4b0eec(_0x4f440b,_0x2c5366,_0x5326c0,_0x24d994){_0x4f440b['readdir'](_0x362f('0x3e')+_0x2c5366[_0x362f('0x44')],function(_0x1ade40){if(_0x1ade40){logger[_0x362f('0x5')]('Error\x20reading\x20user\x20file\x20system:\x20'+_0x1ade40);_0x4f440b[_0x362f('0x25')]('/home/c3/FusionFilesystem/'+_0x2c5366[_0x362f('0x44')],function(_0x5130e4){if(_0x5130e4){logger[_0x362f('0x5')](_0x362f('0x31')+_0x5130e4);throw _0x5130e4;}logger[_0x362f('0x5')](_0x362f('0x74'));_0x4f440b[_0x362f('0x25')](_0x362f('0x3e')+_0x2c5366[_0x362f('0x44')]+_0x362f('0x2e'),function(_0x31de5f){if(_0x31de5f){logger['info'](_0x362f('0x18')+_0x31de5f);throw _0x31de5f;}logger[_0x362f('0x5')](_0x362f('0x2b'));_0x4f440b[_0x362f('0x25')](_0x362f('0x3e')+_0x2c5366[_0x362f('0x44')]+_0x362f('0x4'),function(_0x23d13a){if(_0x23d13a){logger['info']('Error\x20creating\x20blockly\x20directory:\x20'+_0x23d13a);throw _0x23d13a;}logger[_0x362f('0x5')](_0x362f('0x1f'));_0x24d994(_0x4f440b,_0x2c5366,_0x5326c0);});});});}_0x24d994(_0x4f440b,_0x2c5366,_0x5326c0);});};function _0x474024(_0x1f8b32,_0x33d737,_0x17ded0){_0x1f8b32['readdir'](_0x362f('0x3e')+_0x33d737[_0x362f('0x44')]+_0x362f('0x2e'),function(_0x2a5f19,_0xc37cfb){if(_0x2a5f19){logger[_0x362f('0x5')](_0x362f('0x10')+_0x2a5f19);throw _0x2a5f19;}_0x4c126a(_0x33d737,_0x362f('0x7'),_0xc37cfb,_0x17ded0);});_0x1f8b32[_0x362f('0x3c')](_0x362f('0x3e')+_0x33d737[_0x362f('0x44')]+_0x362f('0x4'),function(_0x1b7e0f,_0x523307){if(_0x1b7e0f){logger[_0x362f('0x5')](_0x362f('0x63')+_0x1b7e0f);throw _0x1b7e0f;}_0x4c126a(_0x33d737,_0x362f('0x59'),_0x523307,_0x17ded0);});};function _0x4c126a(_0xdadb20,_0x2c38cc,_0xbfec43,_0x1802ca){logger[_0x362f('0x5')](_0x362f('0x84'));if(_0x2c38cc==_0x362f('0x59')&&_0xbfec43[_0x362f('0x37')]==0x0){_0x1802ca[_0x362f('0x47')]();}for(var _0x290755=0x0;_0x290755<_0xbfec43[_0x362f('0x37')];_0x290755++){let _0xacec37=_0x362f('0x3e')+_0xdadb20[_0x362f('0x44')]+'/'+_0x2c38cc+'/'+_0xbfec43[_0x290755][_0x362f('0x38')];let _0x902b53='app/filesystem/'+_0xdadb20[_0x362f('0x44')]+'/'+_0x2c38cc+'/';logger['info'](_0x362f('0x5c')+_0xacec37+'\x20to\x20'+_0x902b53);SCP[_0x362f('0x7a')](_0x362f('0x36')+_0xacec37,_0x902b53,function(_0x5850b9){if(_0x5850b9){logger[_0x362f('0x5')]('Error\x20downloading:\x20'+_0xacec37+_0x362f('0x72')+_0x5850b9);}if(_0x2c38cc==_0x362f('0x59')&&(_0x290755=_0xbfec43[_0x362f('0x37')]-0x1)){_0x1802ca[_0x362f('0x47')]();}});}};}();