var _0x3dee=['stderr','Restore\x20Finished!','exports','data','user','info','get','/api/cookie','split','log','Restore\x20starting','close','bash','Error\x20Reading\x20changelog','send','/api/fusion/update','status','join','emit','--date=short','json','pipe','../../utils/logger','isAuthenticated','User\x20Unauthenticated','../../socket','replace','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','sudo','../../express','update-output','scripts/restoreFusion.sh','Update\x20Finished!','git','/api/fusion/restore','spawn','stdout','child_process'];(function(_0x20f1ee,_0x3deeb7){var _0xeedcad=function(_0x3516a4){while(--_0x3516a4){_0x20f1ee['push'](_0x20f1ee['shift']());}};_0xeedcad(++_0x3deeb7);}(_0x3dee,0xee));var _0xeedc=function(_0x20f1ee,_0x3deeb7){_0x20f1ee=_0x20f1ee-0x0;var _0xeedcad=_0x3dee[_0x20f1ee];return _0xeedcad;};const logger=require(_0xeedc('0xc'));const app=require(_0xeedc('0x13'));const io=require(_0xeedc('0xf'));module[_0xeedc('0x1e')]=function(){app[_0xeedc('0x22')](_0xeedc('0x5'),_0x58848e(),function(_0x483f6b,_0x2c96cc){try{var _0x25cdec=require(_0xeedc('0x1b'))[_0xeedc('0x19')];var _0x2f031b='scripts/updateFusion.sh';var _0x4eb8c6=_0x25cdec(_0xeedc('0x12'),['bash',_0x2f031b],{'stdio':_0xeedc('0xb')});_0x4eb8c6[_0xeedc('0x1a')]['on'](_0xeedc('0x1f'),function(_0xdb31ac){logger[_0xeedc('0x21')](String(_0xdb31ac));io['emit'](_0xeedc('0x14'),{'output':String(_0xdb31ac)});});_0x4eb8c6[_0xeedc('0x1c')]['on'](_0xeedc('0x1f'),function(_0x43506b){logger[_0xeedc('0x21')](String(_0x43506b));io[_0xeedc('0x8')](_0xeedc('0x14'),{'output':String(_0x43506b)});});_0x4eb8c6['stdout']['on'](_0xeedc('0x1'),function(_0x2455d7){logger[_0xeedc('0x21')](String(_0xeedc('0x16')));});}catch(_0x103603){logger['info'](_0x103603);}_0x2c96cc[_0xeedc('0x6')](0xc8)[_0xeedc('0x4')]('Update\x20starting');});app[_0xeedc('0x22')](_0xeedc('0x18'),_0x58848e(),function(_0x50478c,_0x5f5db1){try{var _0x342055=require(_0xeedc('0x1b'))[_0xeedc('0x19')];var _0x2cde96=_0xeedc('0x15');var _0x22a3a2=_0x342055(_0xeedc('0x12'),[_0xeedc('0x2'),_0x2cde96],{'stdio':_0xeedc('0xb')});_0x22a3a2[_0xeedc('0x1a')]['on'](_0xeedc('0x1f'),function(_0x4a855d){logger[_0xeedc('0x21')](String(_0x4a855d));io['emit'](_0xeedc('0x14'),{'output':String(_0x4a855d)});});_0x22a3a2[_0xeedc('0x1c')]['on'](_0xeedc('0x1f'),function(_0x15441f){logger[_0xeedc('0x21')](String(_0x15441f));io[_0xeedc('0x8')](_0xeedc('0x14'),{'output':String(_0x15441f)});});_0x22a3a2['stdout']['on']('close',function(_0x540976){logger[_0xeedc('0x21')](String(_0xeedc('0x1d')));});}catch(_0x581826){logger[_0xeedc('0x21')](_0x581826);}_0x5f5db1[_0xeedc('0x6')](0xc8)[_0xeedc('0x4')](_0xeedc('0x0'));});app[_0xeedc('0x22')]('/api/fusion/releaseNotes',function(_0x45f63c,_0x124fbf){var _0x6b4ac4=require('child_process')[_0xeedc('0x19')];var _0x4637ce='';var _0x430ad2=!![];var _0x310e32=_0x6b4ac4(_0xeedc('0x17'),[_0xeedc('0x25'),_0xeedc('0x11'),_0xeedc('0x9'),'--no-merges'],{'stdio':_0xeedc('0xb')});_0x310e32[_0xeedc('0x1a')]['on'](_0xeedc('0x1f'),function(_0x17543b){_0x4637ce+=_0x17543b+'\x0a';});_0x310e32['stderr']['on']('data',function(_0x5da4d8){logger['info'](String(_0x5da4d8));_0x430ad2=![];});_0x310e32[_0xeedc('0x1a')]['on'](_0xeedc('0x1'),function(_0xb2b2ba){var _0x42deb6=_0x4637ce[_0xeedc('0x24')]('\x0a\x0a');for(var _0x3be616=0x0;_0x3be616<_0x42deb6['length'];_0x3be616++){_0x42deb6[_0x3be616]=_0x42deb6[_0x3be616][_0xeedc('0x10')](/"/g,'');}_0x4637ce=_0x42deb6[_0xeedc('0x7')]('\x0a');if(_0x430ad2)_0x124fbf[_0xeedc('0x6')](0xc8)[_0xeedc('0xa')]({'data':_0x4637ce});else _0x124fbf[_0xeedc('0x6')](0x1f4)[_0xeedc('0x4')](_0xeedc('0x3'));});});app[_0xeedc('0x22')](_0xeedc('0x23'),_0x58848e(),function(_0x260578,_0x33e922){_0x33e922[_0xeedc('0x6')](0xc8)[_0xeedc('0x4')](_0x260578[_0xeedc('0x20')]);});function _0x58848e(){return function(_0x1a1313,_0x207d22,_0x2414e6){if(_0x1a1313[_0xeedc('0xd')]()){return _0x2414e6();}else{_0x207d22['status'](0x191)[_0xeedc('0x4')](_0xeedc('0xe'));}};}}();