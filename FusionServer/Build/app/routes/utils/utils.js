var _0x13cf=['Unable\x20to\x20stop\x20data\x20logger','fusion_dataLogger_running','sockets','emit','Data\x20logger\x20stopped\x20successfully','User\x20Unauthenticated','child_process','spawn','shelljs','../../utils/logger','../../express','../../socket','../../global/fusionSettings','exports','route','post','platform','win32','sudo','../../logging/runRemi.sh','../../logging/dataLogger.py','stdout','stderr','data','exec','info','process\x20number\x20','SocketVariables','socketId','dataLogger_running','status','json','Data\x20logger\x20started\x20successfully','process\x20not\x20found','Error\x20starting\x20data\x20logger','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','/api/util/dataLogger/stop','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','trim'];(function(_0x2d8f05,_0x4b81bb){var _0x4d74cb=function(_0x32719f){while(--_0x32719f){_0x2d8f05['push'](_0x2d8f05['shift']());}};_0x4d74cb(++_0x4b81bb);}(_0x13cf,0x1e6));var _0x4701=function(_0x2d8f05,_0x4b81bb){_0x2d8f05=_0x2d8f05-0x0;var _0x4d74cb=_0x13cf[_0x2d8f05];return _0x4d74cb;};var os=require('os');var spawn=require(_0x4701('0x0'))[_0x4701('0x1')];var shell=require(_0x4701('0x2'));const logger=require(_0x4701('0x3'));const app=require(_0x4701('0x4'));const io=require(_0x4701('0x5'));const FusionSettings=require(_0x4701('0x6'));module[_0x4701('0x7')]=function(){var _0x4f0590=null;app[_0x4701('0x8')]('/api/util/dataLogger/start')[_0x4701('0x9')](function(_0x1be0c7,_0x58307a){if(os[_0x4701('0xa')]()!=_0x4701('0xb')){_0x4f0590=spawn(_0x4701('0xc'),['sh',_0x4701('0xd'),_0x4701('0xe'),_0x1be0c7['user']['username']]);_0x4f0590[_0x4701('0xf')]['on']('data',function(_0x28d208){logger['info'](String(_0x28d208));});_0x4f0590[_0x4701('0x10')]['on'](_0x4701('0x11'),function(_0x331df4){logger['error'](String(_0x331df4));});var _0x3a0551=0x1;var _0x4f8065=0x3;var _0x2c6331=setInterval(function(){if(_0x3a0551<=_0x4f8065){var _0x36b2fa=shell[_0x4701('0x12')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x4701('0xf')];logger[_0x4701('0x13')](_0x4701('0x14')+_0x36b2fa);if(_0x36b2fa){logger[_0x4701('0x13')]('process\x20found');clearInterval(_0x2c6331);FusionSettings[_0x4701('0x15')]['fusion_dataLogger_running']={'process':_0x36b2fa,'socket':_0x1be0c7['body'][_0x4701('0x16')]};io['sockets']['emit'](_0x4701('0x17'),FusionSettings[_0x4701('0x15')]['fusion_dataLogger_running']);return _0x58307a[_0x4701('0x18')](0xc8)[_0x4701('0x19')]({'serverMessage':_0x4701('0x1a')});}else{logger[_0x4701('0x13')](_0x4701('0x1b'));_0x3a0551++;}}else{clearInterval(_0x2c6331);return _0x58307a[_0x4701('0x18')](0x1f4)['send'](_0x4701('0x1c'));}},0x12c);}else{return _0x58307a[_0x4701('0x18')](0x1f4)[_0x4701('0x19')]({'serverMessage':_0x4701('0x1d')});}});app[_0x4701('0x8')](_0x4701('0x1e'))['get'](function(_0x3aefde,_0x367bfc){if(os[_0x4701('0xa')]()!='win32'){shell['exec'](_0x4701('0x1f'),{'silent':!![]});shell[_0x4701('0x12')](_0x4701('0x20'),{'silent':!![]},function(_0x1fe4ad,_0x4ab155,_0x1fbd28){(function(_0x508c9d){var _0x2b2ac7=_0x508c9d[_0x4701('0x21')]();if(_0x2b2ac7){return _0x367bfc['status'](0x1f4)['send'](_0x4701('0x22'));}else{FusionSettings[_0x4701('0x15')][_0x4701('0x23')]=null;io[_0x4701('0x24')][_0x4701('0x25')](_0x4701('0x17'),FusionSettings[_0x4701('0x15')][_0x4701('0x23')]);_0x4f0590=null;return _0x367bfc[_0x4701('0x18')](0xc8)[_0x4701('0x19')]({'serverMessage':_0x4701('0x26')});}}(_0x4ab155[_0x4701('0x21')]()));});}else{return _0x367bfc[_0x4701('0x18')](0xc8)[_0x4701('0x19')]({'serverMessage':_0x4701('0x1d')});}});function _0x398800(){return function(_0x1d1987,_0x3087b8,_0x5e6f35){if(_0x1d1987['isAuthenticated']()){return _0x5e6f35();}else{_0x3087b8[_0x4701('0x18')](0x191)['send'](_0x4701('0x27'));}};}}();