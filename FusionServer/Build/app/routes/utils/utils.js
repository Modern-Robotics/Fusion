var _0x341d=['sockets','process\x20found','status','sudo','socketId','info','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','stderr','/api/util/dataLogger/stop','route','trim','SocketVariables','data','../../logging/dataLogger.py','Unable\x20to\x20stop\x20data\x20logger','Data\x20logger\x20stopped\x20successfully','username','exec','json','platform','stdout','isAuthenticated','post','dataLogger_running','../../logging/runRemi.sh','exports','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','User\x20Unauthenticated','process\x20number\x20','process\x20not\x20found','body','child_process','win32','/api/util/dataLogger/start','../../global/fusionSettings','../../socket','send','fusion_dataLogger_running','../../express','emit'];(function(_0x19d42b,_0x341d74){var _0x406a40=function(_0x1a412e){while(--_0x1a412e){_0x19d42b['push'](_0x19d42b['shift']());}};_0x406a40(++_0x341d74);}(_0x341d,0xd0));var _0x406a=function(_0x19d42b,_0x341d74){_0x19d42b=_0x19d42b-0x0;var _0x406a40=_0x341d[_0x19d42b];return _0x406a40;};var os=require('os');var spawn=require(_0x406a('0x1d'))['spawn'];var shell=require('shelljs');const logger=require('../../utils/logger');const app=require(_0x406a('0x24'));const io=require(_0x406a('0x21'));const FusionSettings=require(_0x406a('0x20'));module[_0x406a('0x16')]=function(){var _0xba9e3b=null;app[_0x406a('0x6')](_0x406a('0x1f'))[_0x406a('0x13')](function(_0x39f09b,_0x2c0366){if(os[_0x406a('0x10')]()!=_0x406a('0x1e')){_0xba9e3b=spawn(_0x406a('0x0'),['sh',_0x406a('0x15'),_0x406a('0xa'),_0x39f09b['user'][_0x406a('0xd')]]);_0xba9e3b[_0x406a('0x11')]['on']('data',function(_0x26fa02){logger[_0x406a('0x2')](String(_0x26fa02));});_0xba9e3b[_0x406a('0x4')]['on'](_0x406a('0x9'),function(_0x5f80c1){logger['error'](String(_0x5f80c1));});var _0x4f3d56=0x1;var _0x3ba88f=0x3;var _0x2bd222=setInterval(function(){if(_0x4f3d56<=_0x3ba88f){var _0x595866=shell[_0x406a('0xe')](_0x406a('0x17'),{'silent':!![]})[_0x406a('0x11')];logger[_0x406a('0x2')](_0x406a('0x1a')+_0x595866);if(_0x595866){logger[_0x406a('0x2')](_0x406a('0x27'));clearInterval(_0x2bd222);FusionSettings[_0x406a('0x8')][_0x406a('0x23')]={'process':_0x595866,'socket':_0x39f09b[_0x406a('0x1c')][_0x406a('0x1')]};io[_0x406a('0x26')]['emit'](_0x406a('0x14'),FusionSettings[_0x406a('0x8')]['fusion_dataLogger_running']);return _0x2c0366[_0x406a('0x28')](0xc8)['json']({'serverMessage':'Data\x20logger\x20started\x20successfully'});}else{logger[_0x406a('0x2')](_0x406a('0x1b'));_0x4f3d56++;}}else{clearInterval(_0x2bd222);return _0x2c0366[_0x406a('0x28')](0x1f4)[_0x406a('0x22')]('Error\x20starting\x20data\x20logger');}},0x12c);}else{return _0x2c0366[_0x406a('0x28')](0x1f4)[_0x406a('0xf')]({'serverMessage':_0x406a('0x18')});}});app[_0x406a('0x6')](_0x406a('0x5'))['get'](function(_0x3d859e,_0x14e0ed){if(os[_0x406a('0x10')]()!='win32'){shell[_0x406a('0xe')](_0x406a('0x3'),{'silent':!![]});shell[_0x406a('0xe')](_0x406a('0x17'),{'silent':!![]},function(_0xbb7aee,_0x26fc40,_0x2caa07){(function(_0x1375e9){var _0x4e971b=_0x1375e9[_0x406a('0x7')]();if(_0x4e971b){return _0x14e0ed[_0x406a('0x28')](0x1f4)[_0x406a('0x22')](_0x406a('0xb'));}else{FusionSettings[_0x406a('0x8')][_0x406a('0x23')]=null;io['sockets'][_0x406a('0x25')](_0x406a('0x14'),FusionSettings[_0x406a('0x8')]['fusion_dataLogger_running']);_0xba9e3b=null;return _0x14e0ed[_0x406a('0x28')](0xc8)[_0x406a('0xf')]({'serverMessage':_0x406a('0xc')});}}(_0x26fc40['trim']()));});}else{return _0x14e0ed[_0x406a('0x28')](0xc8)['json']({'serverMessage':_0x406a('0x18')});}});function _0xb91fe9(){return function(_0x379b12,_0x2f79a6,_0x531501){if(_0x379b12[_0x406a('0x12')]()){return _0x531501();}else{_0x2f79a6[_0x406a('0x28')](0x191)[_0x406a('0x22')](_0x406a('0x19'));}};}}();