var _0x353a=['trim','data','Data\x20logger\x20started\x20successfully','get','process\x20found','exports','emit','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','../../logging/runRemi.sh','body','../../global/fusionSettings','status','sudo','child_process','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','dataLogger_running','info','process\x20number\x20','SocketVariables','Error\x20starting\x20data\x20logger','spawn','User\x20Unauthenticated','json','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','/api/util/dataLogger/start','error','send','shelljs','fusion_dataLogger_running','../../socket','../../express','isAuthenticated','route','username','/api/util/dataLogger/stop','post','../../logging/dataLogger.py','stdout','exec','platform','sockets','win32'];(function(_0x511328,_0x353ac7){var _0x4ce007=function(_0x29002c){while(--_0x29002c){_0x511328['push'](_0x511328['shift']());}};_0x4ce007(++_0x353ac7);}(_0x353a,0x1b8));var _0x4ce0=function(_0x511328,_0x353ac7){_0x511328=_0x511328-0x0;var _0x4ce007=_0x353a[_0x511328];return _0x4ce007;};var os=require('os');var spawn=require(_0x4ce0('0x23'))[_0x4ce0('0x0')];var shell=require(_0x4ce0('0x7'));const logger=require('../../utils/logger');const app=require(_0x4ce0('0xa'));const io=require(_0x4ce0('0x9'));const FusionSettings=require(_0x4ce0('0x20'));module[_0x4ce0('0x1b')]=function(){var _0x2b8891=null;app[_0x4ce0('0xc')](_0x4ce0('0x4'))[_0x4ce0('0xf')](function(_0x2b5674,_0x50fa12){if(os[_0x4ce0('0x13')]()!=_0x4ce0('0x15')){_0x2b8891=spawn(_0x4ce0('0x22'),['sh',_0x4ce0('0x1e'),_0x4ce0('0x10'),_0x2b5674['user'][_0x4ce0('0xd')]]);_0x2b8891[_0x4ce0('0x11')]['on'](_0x4ce0('0x17'),function(_0xb5c37a){logger[_0x4ce0('0x26')](String(_0xb5c37a));});_0x2b8891['stderr']['on'](_0x4ce0('0x17'),function(_0x39800e){logger[_0x4ce0('0x5')](String(_0x39800e));});var _0x3d2c6a=0x1;var _0x4f2548=0x3;var _0x4adb56=setInterval(function(){if(_0x3d2c6a<=_0x4f2548){var _0x13b359=shell['exec'](_0x4ce0('0x1d'),{'silent':!![]})[_0x4ce0('0x11')];logger['info'](_0x4ce0('0x27')+_0x13b359);if(_0x13b359){logger[_0x4ce0('0x26')](_0x4ce0('0x1a'));clearInterval(_0x4adb56);FusionSettings[_0x4ce0('0x28')][_0x4ce0('0x8')]={'process':_0x13b359,'socket':_0x2b5674[_0x4ce0('0x1f')]['socketId']};io[_0x4ce0('0x14')][_0x4ce0('0x1c')](_0x4ce0('0x25'),FusionSettings[_0x4ce0('0x28')][_0x4ce0('0x8')]);return _0x50fa12['status'](0xc8)[_0x4ce0('0x2')]({'serverMessage':_0x4ce0('0x18')});}else{logger[_0x4ce0('0x26')]('process\x20not\x20found');_0x3d2c6a++;}}else{clearInterval(_0x4adb56);return _0x50fa12[_0x4ce0('0x21')](0x1f4)[_0x4ce0('0x6')](_0x4ce0('0x29'));}},0x12c);}else{return _0x50fa12['status'](0x1f4)[_0x4ce0('0x2')]({'serverMessage':_0x4ce0('0x3')});}});app[_0x4ce0('0xc')](_0x4ce0('0xe'))[_0x4ce0('0x19')](function(_0x44ef84,_0x1a1463){if(os[_0x4ce0('0x13')]()!='win32'){shell[_0x4ce0('0x12')](_0x4ce0('0x24'),{'silent':!![]});shell[_0x4ce0('0x12')](_0x4ce0('0x1d'),{'silent':!![]},function(_0xcfb929,_0x571084,_0x914070){(function(_0x329566){var _0x592bdd=_0x329566[_0x4ce0('0x16')]();if(_0x592bdd){return _0x1a1463[_0x4ce0('0x21')](0x1f4)[_0x4ce0('0x6')]('Unable\x20to\x20stop\x20data\x20logger');}else{FusionSettings[_0x4ce0('0x28')][_0x4ce0('0x8')]=null;io['sockets'][_0x4ce0('0x1c')](_0x4ce0('0x25'),FusionSettings['SocketVariables'][_0x4ce0('0x8')]);_0x2b8891=null;return _0x1a1463[_0x4ce0('0x21')](0xc8)['json']({'serverMessage':'Data\x20logger\x20stopped\x20successfully'});}}(_0x571084[_0x4ce0('0x16')]()));});}else{return _0x1a1463[_0x4ce0('0x21')](0xc8)['json']({'serverMessage':_0x4ce0('0x3')});}});function _0xce38f7(){return function(_0x2a85d0,_0x320161,_0x22f5dd){if(_0x2a85d0[_0x4ce0('0xb')]()){return _0x22f5dd();}else{_0x320161[_0x4ce0('0x21')](0x191)[_0x4ce0('0x6')](_0x4ce0('0x1'));}};}}();