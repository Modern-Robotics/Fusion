var _0x5241=['3999ccCTqd','get','Unable\x20to\x20stop\x20data\x20logger','Data\x20logger\x20started\x20successfully','json','info','387653nlSLCB','1976231EEwsoc','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','route','isAuthenticated','324Azlbmx','../../global/fusionSettings','process\x20found','2LiVvGu','Error\x20starting\x20data\x20logger','child_process','username','trim','post','521022iXbvGb','User\x20Unauthenticated','stderr','process\x20not\x20found','sudo','../../logging/runRemi.sh','status','platform','emit','win32','data','sockets','1186uABgZm','exec','user','send','Data\x20logger\x20stopped\x20successfully','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process\x20number\x20','fusion_dataLogger_running','SocketVariables','105878CYqAHW','dataLogger_running','1752ZAFigz','1tJxwSB','245qPZaiX','stdout','spawn'];var _0x50fa=function(_0x503bd2,_0x368dac){_0x503bd2=_0x503bd2-0xff;var _0x52411d=_0x5241[_0x503bd2];return _0x52411d;};var _0x16f56b=_0x50fa;(function(_0xd6a7bb,_0x343d94){var _0x4ee2c4=_0x50fa;while(!![]){try{var _0x3fd39c=parseInt(_0x4ee2c4(0x107))+parseInt(_0x4ee2c4(0x114))+parseInt(_0x4ee2c4(0x12e))*-parseInt(_0x4ee2c4(0x10b))+parseInt(_0x4ee2c4(0x122))*-parseInt(_0x4ee2c4(0x11c))+parseInt(_0x4ee2c4(0x10a))*-parseInt(_0x4ee2c4(0x10e))+parseInt(_0x4ee2c4(0x109))*-parseInt(_0x4ee2c4(0x119))+parseInt(_0x4ee2c4(0x115));if(_0x3fd39c===_0x343d94)break;else _0xd6a7bb['push'](_0xd6a7bb['shift']());}catch(_0x5e0f4d){_0xd6a7bb['push'](_0xd6a7bb['shift']());}}}(_0x5241,0x8a0fd));var os=require('os'),spawn=require(_0x16f56b(0x11e))[_0x16f56b(0x10d)],shell=require('shelljs');const logger=require('../../utils/logger'),app=require('../../express'),io=require('../../socket'),FusionSettings=require(_0x16f56b(0x11a));module['exports']=function(){var _0x266e6f=_0x16f56b,_0x3dbc64=null;app[_0x266e6f(0x117)]('/api/util/dataLogger/start')[_0x266e6f(0x121)](function(_0x23db71,_0x39871e){var _0x71e72f=_0x266e6f;if(os[_0x71e72f(0x129)]()!=_0x71e72f(0x12b)){_0x3dbc64=spawn(_0x71e72f(0x126),['sh',_0x71e72f(0x127),'../../logging/dataLogger.py',_0x23db71[_0x71e72f(0x100)][_0x71e72f(0x11f)]]),_0x3dbc64[_0x71e72f(0x10c)]['on']('data',function(_0x2a2c42){var _0x24163c=_0x71e72f;logger[_0x24163c(0x113)](String(_0x2a2c42));}),_0x3dbc64[_0x71e72f(0x124)]['on'](_0x71e72f(0x12c),function(_0x9ca2c1){logger['error'](String(_0x9ca2c1));});var _0xe8fc6=0x1,_0x56828b=0x3,_0x17b1f7=setInterval(function(){var _0x32cd70=_0x71e72f;if(_0xe8fc6<=_0x56828b){var _0x5cde5a=shell[_0x32cd70(0xff)](_0x32cd70(0x103),{'silent':!![]})[_0x32cd70(0x10c)];logger['info'](_0x32cd70(0x104)+_0x5cde5a);if(_0x5cde5a)return logger[_0x32cd70(0x113)](_0x32cd70(0x11b)),clearInterval(_0x17b1f7),FusionSettings['SocketVariables'][_0x32cd70(0x105)]={'process':_0x5cde5a,'socket':_0x23db71['body']['socketId']},io[_0x32cd70(0x12d)][_0x32cd70(0x12a)](_0x32cd70(0x108),FusionSettings[_0x32cd70(0x106)][_0x32cd70(0x105)]),_0x39871e[_0x32cd70(0x128)](0xc8)[_0x32cd70(0x112)]({'serverMessage':_0x32cd70(0x111)});else logger[_0x32cd70(0x113)](_0x32cd70(0x125)),_0xe8fc6++;}else return clearInterval(_0x17b1f7),_0x39871e[_0x32cd70(0x128)](0x1f4)[_0x32cd70(0x101)](_0x32cd70(0x11d));},0x12c);}else return _0x39871e[_0x71e72f(0x128)](0x1f4)[_0x71e72f(0x112)]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}),app[_0x266e6f(0x117)]('/api/util/dataLogger/stop')[_0x266e6f(0x10f)](function(_0x2c94d2,_0x5f093d){var _0x459dd9=_0x266e6f;if(os[_0x459dd9(0x129)]()!=_0x459dd9(0x12b))shell[_0x459dd9(0xff)](_0x459dd9(0x116),{'silent':!![]}),shell['exec'](_0x459dd9(0x103),{'silent':!![]},function(_0x517545,_0x183e22,_0x3e3400){var _0x50de8d=_0x459dd9;(function(_0x541df2){var _0x2851f6=_0x50fa,_0x1dbdbc=_0x541df2['trim']();return _0x1dbdbc?_0x5f093d[_0x2851f6(0x128)](0x1f4)[_0x2851f6(0x101)](_0x2851f6(0x110)):(FusionSettings['SocketVariables'][_0x2851f6(0x105)]=null,io[_0x2851f6(0x12d)][_0x2851f6(0x12a)](_0x2851f6(0x108),FusionSettings[_0x2851f6(0x106)]['fusion_dataLogger_running']),_0x3dbc64=null,_0x5f093d[_0x2851f6(0x128)](0xc8)[_0x2851f6(0x112)]({'serverMessage':_0x2851f6(0x102)}));}(_0x183e22[_0x50de8d(0x120)]()));});else return _0x5f093d[_0x459dd9(0x128)](0xc8)[_0x459dd9(0x112)]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});});function _0x4752f6(){return function(_0x52b51f,_0x3d0630,_0x3bdc44){var _0x3d9e0e=_0x50fa;if(_0x52b51f[_0x3d9e0e(0x118)]())return _0x3bdc44();else _0x3d0630[_0x3d9e0e(0x128)](0x191)[_0x3d9e0e(0x101)](_0x3d9e0e(0x123));};}}();