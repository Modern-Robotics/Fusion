var _0x5ee9=['platform','../../utils/logger','process\x20found','User\x20Unauthenticated','/api/util/dataLogger/start','json','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','error','Data\x20logger\x20started\x20successfully','info','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','route','Data\x20logger\x20stopped\x20successfully','username','user','shelljs','child_process','emit','isAuthenticated','sudo','SocketVariables','exports','spawn','../../logging/dataLogger.py','../../logging/runRemi.sh','socketId','send','Unable\x20to\x20stop\x20data\x20logger','trim','stdout','data','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','win32','status','exec','Error\x20starting\x20data\x20logger','body','fusion_dataLogger_running','../../express','process\x20number\x20','stderr'];(function(_0x114cca,_0x5ee97d){var _0x1b036a=function(_0x332b49){while(--_0x332b49){_0x114cca['push'](_0x114cca['shift']());}};_0x1b036a(++_0x5ee97d);}(_0x5ee9,0xac));var _0x1b03=function(_0x114cca,_0x5ee97d){_0x114cca=_0x114cca-0x0;var _0x1b036a=_0x5ee9[_0x114cca];return _0x1b036a;};var os=require('os');var spawn=require(_0x1b03('0x8'))[_0x1b03('0xe')];var shell=require(_0x1b03('0x7'));const logger=require(_0x1b03('0x22'));const app=require(_0x1b03('0x1e'));const io=require('../../socket');const FusionSettings=require('../../global/fusionSettings');module[_0x1b03('0xd')]=function(){var _0x27bf72=null;app[_0x1b03('0x3')](_0x1b03('0x25'))['post'](function(_0x2bcec7,_0xb1a582){if(os[_0x1b03('0x21')]()!=_0x1b03('0x18')){_0x27bf72=spawn(_0x1b03('0xb'),['sh',_0x1b03('0x10'),_0x1b03('0xf'),_0x2bcec7[_0x1b03('0x6')][_0x1b03('0x5')]]);_0x27bf72[_0x1b03('0x15')]['on'](_0x1b03('0x16'),function(_0x1b6205){logger['info'](String(_0x1b6205));});_0x27bf72[_0x1b03('0x20')]['on'](_0x1b03('0x16'),function(_0x3d954d){logger[_0x1b03('0x28')](String(_0x3d954d));});var _0x8a7f62=0x1;var _0x2523c6=0x3;var _0x348d48=setInterval(function(){if(_0x8a7f62<=_0x2523c6){var _0x174a8c=shell[_0x1b03('0x1a')](_0x1b03('0x27'),{'silent':!![]})[_0x1b03('0x15')];logger[_0x1b03('0x1')](_0x1b03('0x1f')+_0x174a8c);if(_0x174a8c){logger[_0x1b03('0x1')](_0x1b03('0x23'));clearInterval(_0x348d48);FusionSettings[_0x1b03('0xc')][_0x1b03('0x1d')]={'process':_0x174a8c,'socket':_0x2bcec7[_0x1b03('0x1c')][_0x1b03('0x11')]};io['sockets']['emit']('dataLogger_running',FusionSettings[_0x1b03('0xc')][_0x1b03('0x1d')]);return _0xb1a582[_0x1b03('0x19')](0xc8)[_0x1b03('0x26')]({'serverMessage':_0x1b03('0x0')});}else{logger[_0x1b03('0x1')]('process\x20not\x20found');_0x8a7f62++;}}else{clearInterval(_0x348d48);return _0xb1a582[_0x1b03('0x19')](0x1f4)[_0x1b03('0x12')](_0x1b03('0x1b'));}},0x12c);}else{return _0xb1a582['status'](0x1f4)[_0x1b03('0x26')]({'serverMessage':_0x1b03('0x2')});}});app['route']('/api/util/dataLogger/stop')['get'](function(_0x33bb45,_0x421cf4){if(os[_0x1b03('0x21')]()!=_0x1b03('0x18')){shell['exec'](_0x1b03('0x17'),{'silent':!![]});shell[_0x1b03('0x1a')](_0x1b03('0x27'),{'silent':!![]},function(_0xf6e801,_0x5b16c0,_0x13dd87){(function(_0x5c7b2e){var _0x1c8ae7=_0x5c7b2e[_0x1b03('0x14')]();if(_0x1c8ae7){return _0x421cf4['status'](0x1f4)[_0x1b03('0x12')](_0x1b03('0x13'));}else{FusionSettings[_0x1b03('0xc')][_0x1b03('0x1d')]=null;io['sockets'][_0x1b03('0x9')]('dataLogger_running',FusionSettings[_0x1b03('0xc')][_0x1b03('0x1d')]);_0x27bf72=null;return _0x421cf4[_0x1b03('0x19')](0xc8)[_0x1b03('0x26')]({'serverMessage':_0x1b03('0x4')});}}(_0x5b16c0[_0x1b03('0x14')]()));});}else{return _0x421cf4[_0x1b03('0x19')](0xc8)[_0x1b03('0x26')]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});function _0x4bf020(){return function(_0x14c19b,_0x3b86a0,_0x3651e2){if(_0x14c19b[_0x1b03('0xa')]()){return _0x3651e2();}else{_0x3b86a0[_0x1b03('0x19')](0x191)[_0x1b03('0x12')](_0x1b03('0x24'));}};}}();