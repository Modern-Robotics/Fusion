var _0x4b45=['sudo','User\x20Unauthenticated','../../express','fusion_dataLogger_running','emit','json','child_process','body','sockets','Data\x20logger\x20started\x20successfully','route','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','../../logging/dataLogger.py','Data\x20logger\x20stopped\x20successfully','SocketVariables','../../socket','info','exec','status','/api/util/dataLogger/start','send','stderr','/api/util/dataLogger/stop','isAuthenticated','data','user','post','stdout','process\x20found','process\x20number\x20','spawn','dataLogger_running','Unable\x20to\x20stop\x20data\x20logger','trim','get','username','Error\x20starting\x20data\x20logger','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','platform'];(function(_0x6bfcc,_0x4b45db){var _0x33f6c4=function(_0x205922){while(--_0x205922){_0x6bfcc['push'](_0x6bfcc['shift']());}};_0x33f6c4(++_0x4b45db);}(_0x4b45,0x65));var _0x33f6=function(_0x6bfcc,_0x4b45db){_0x6bfcc=_0x6bfcc-0x0;var _0x33f6c4=_0x4b45[_0x6bfcc];return _0x33f6c4;};var os=require('os');var spawn=require(_0x33f6('0x16'))[_0x33f6('0x7')];var shell=require('shelljs');const logger=require('../../utils/logger');const app=require(_0x33f6('0x12'));const io=require(_0x33f6('0x1f'));const FusionSettings=require('../../global/fusionSettings');module['exports']=function(){var _0x2698fa=null;app[_0x33f6('0x1a')](_0x33f6('0x23'))[_0x33f6('0x3')](function(_0xeccc2c,_0x491e8c){if(os[_0x33f6('0xf')]()!='win32'){_0x2698fa=spawn(_0x33f6('0x10'),['sh','../../logging/runRemi.sh',_0x33f6('0x1c'),_0xeccc2c[_0x33f6('0x2')][_0x33f6('0xc')]]);_0x2698fa[_0x33f6('0x4')]['on'](_0x33f6('0x1'),function(_0x366bc9){logger['info'](String(_0x366bc9));});_0x2698fa[_0x33f6('0x25')]['on'](_0x33f6('0x1'),function(_0x2107d0){logger['error'](String(_0x2107d0));});var _0x84e2a4=0x1;var _0x57364f=0x3;var _0x512e9f=setInterval(function(){if(_0x84e2a4<=_0x57364f){var _0x35d778=shell['exec'](_0x33f6('0x1b'),{'silent':!![]})[_0x33f6('0x4')];logger['info'](_0x33f6('0x6')+_0x35d778);if(_0x35d778){logger[_0x33f6('0x20')](_0x33f6('0x5'));clearInterval(_0x512e9f);FusionSettings[_0x33f6('0x1e')][_0x33f6('0x13')]={'process':_0x35d778,'socket':_0xeccc2c[_0x33f6('0x17')]['socketId']};io['sockets'][_0x33f6('0x14')]('dataLogger_running',FusionSettings[_0x33f6('0x1e')][_0x33f6('0x13')]);return _0x491e8c[_0x33f6('0x22')](0xc8)[_0x33f6('0x15')]({'serverMessage':_0x33f6('0x19')});}else{logger[_0x33f6('0x20')]('process\x20not\x20found');_0x84e2a4++;}}else{clearInterval(_0x512e9f);return _0x491e8c[_0x33f6('0x22')](0x1f4)[_0x33f6('0x24')](_0x33f6('0xd'));}},0x12c);}else{return _0x491e8c[_0x33f6('0x22')](0x1f4)['json']({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});app[_0x33f6('0x1a')](_0x33f6('0x26'))[_0x33f6('0xb')](function(_0x3de77f,_0x48bb4a){if(os[_0x33f6('0xf')]()!='win32'){shell[_0x33f6('0x21')](_0x33f6('0xe'),{'silent':!![]});shell['exec'](_0x33f6('0x1b'),{'silent':!![]},function(_0x1f6648,_0x31dbea,_0x150ab8){(function(_0x167067){var _0x3432d6=_0x167067[_0x33f6('0xa')]();if(_0x3432d6){return _0x48bb4a['status'](0x1f4)[_0x33f6('0x24')](_0x33f6('0x9'));}else{FusionSettings[_0x33f6('0x1e')][_0x33f6('0x13')]=null;io[_0x33f6('0x18')][_0x33f6('0x14')](_0x33f6('0x8'),FusionSettings['SocketVariables'][_0x33f6('0x13')]);_0x2698fa=null;return _0x48bb4a[_0x33f6('0x22')](0xc8)[_0x33f6('0x15')]({'serverMessage':_0x33f6('0x1d')});}}(_0x31dbea['trim']()));});}else{return _0x48bb4a['status'](0xc8)[_0x33f6('0x15')]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});function _0x324fff(){return function(_0x2c1e62,_0xce2549,_0x2891c7){if(_0x2c1e62[_0x33f6('0x0')]()){return _0x2891c7();}else{_0xce2549['status'](0x191)[_0x33f6('0x24')](_0x33f6('0x11'));}};}}();