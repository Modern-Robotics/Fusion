var _0x1b1d=['body','User\x20Unauthenticated','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','../../logging/dataLogger.py','platform','stderr','status','exec','sockets','dataLogger_running','../../express','post','process\x20number\x20','data','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','Data\x20logger\x20started\x20successfully','trim','spawn','../../utils/logger','stdout','json','Data\x20logger\x20stopped\x20successfully','fusion_dataLogger_running','../../global/fusionSettings','route','info','../../socket','get','send','error','shelljs','exports','SocketVariables','socketId','win32'];(function(_0x1ac459,_0x1b1d32){var _0x5a07ec=function(_0x51573a){while(--_0x51573a){_0x1ac459['push'](_0x1ac459['shift']());}};_0x5a07ec(++_0x1b1d32);}(_0x1b1d,0xd4));var _0x5a07=function(_0x1ac459,_0x1b1d32){_0x1ac459=_0x1ac459-0x0;var _0x5a07ec=_0x1b1d[_0x1ac459];return _0x5a07ec;};var os=require('os');var spawn=require('child_process')[_0x5a07('0x16')];var shell=require(_0x5a07('0x23'));const logger=require(_0x5a07('0x17'));const app=require(_0x5a07('0xf'));const io=require(_0x5a07('0x1f'));const FusionSettings=require(_0x5a07('0x1c'));module[_0x5a07('0x0')]=function(){var _0x10215a=null;app[_0x5a07('0x1d')]('/api/util/dataLogger/start')[_0x5a07('0x10')](function(_0x2486b7,_0x2b023f){if(os[_0x5a07('0x9')]()!='win32'){_0x10215a=spawn('sudo',['sh','../../logging/runRemi.sh',_0x5a07('0x8'),_0x2486b7['user']['username']]);_0x10215a[_0x5a07('0x18')]['on'](_0x5a07('0x12'),function(_0x111550){logger['info'](String(_0x111550));});_0x10215a[_0x5a07('0xa')]['on'](_0x5a07('0x12'),function(_0x13a43e){logger[_0x5a07('0x22')](String(_0x13a43e));});var _0x25fca3=0x1;var _0x5e47f3=0x3;var _0x2dfcb9=setInterval(function(){if(_0x25fca3<=_0x5e47f3){var _0x297e20=shell[_0x5a07('0xc')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x5a07('0x18')];logger[_0x5a07('0x1e')](_0x5a07('0x11')+_0x297e20);if(_0x297e20){logger['info']('process\x20found');clearInterval(_0x2dfcb9);FusionSettings[_0x5a07('0x1')][_0x5a07('0x1b')]={'process':_0x297e20,'socket':_0x2486b7[_0x5a07('0x4')][_0x5a07('0x2')]};io[_0x5a07('0xd')]['emit'](_0x5a07('0xe'),FusionSettings[_0x5a07('0x1')][_0x5a07('0x1b')]);return _0x2b023f[_0x5a07('0xb')](0xc8)[_0x5a07('0x19')]({'serverMessage':_0x5a07('0x14')});}else{logger[_0x5a07('0x1e')]('process\x20not\x20found');_0x25fca3++;}}else{clearInterval(_0x2dfcb9);return _0x2b023f[_0x5a07('0xb')](0x1f4)['send']('Error\x20starting\x20data\x20logger');}},0x12c);}else{return _0x2b023f[_0x5a07('0xb')](0x1f4)[_0x5a07('0x19')]({'serverMessage':_0x5a07('0x7')});}});app[_0x5a07('0x1d')]('/api/util/dataLogger/stop')[_0x5a07('0x20')](function(_0x5adcfb,_0x261bee){if(os[_0x5a07('0x9')]()!=_0x5a07('0x3')){shell[_0x5a07('0xc')](_0x5a07('0x6'),{'silent':!![]});shell[_0x5a07('0xc')](_0x5a07('0x13'),{'silent':!![]},function(_0x3b7cfc,_0x4148a5,_0x131efd){(function(_0x216068){var _0x41ea56=_0x216068[_0x5a07('0x15')]();if(_0x41ea56){return _0x261bee[_0x5a07('0xb')](0x1f4)[_0x5a07('0x21')]('Unable\x20to\x20stop\x20data\x20logger');}else{FusionSettings[_0x5a07('0x1')][_0x5a07('0x1b')]=null;io[_0x5a07('0xd')]['emit'](_0x5a07('0xe'),FusionSettings[_0x5a07('0x1')][_0x5a07('0x1b')]);_0x10215a=null;return _0x261bee[_0x5a07('0xb')](0xc8)['json']({'serverMessage':_0x5a07('0x1a')});}}(_0x4148a5[_0x5a07('0x15')]()));});}else{return _0x261bee[_0x5a07('0xb')](0xc8)[_0x5a07('0x19')]({'serverMessage':_0x5a07('0x7')});}});function _0x4091fc(){return function(_0x440d27,_0x25f212,_0x49298a){if(_0x440d27['isAuthenticated']()){return _0x49298a();}else{_0x25f212[_0x5a07('0xb')](0x191)[_0x5a07('0x21')](_0x5a07('0x5'));}};}}();