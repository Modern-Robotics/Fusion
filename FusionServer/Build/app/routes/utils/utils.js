var _0x3ed4=['SocketVariables','emit','win32','../../utils/logger','exports','../../logging/dataLogger.py','error','body','trim','send','get','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','username','json','process\x20not\x20found','stdout','../../socket','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','shelljs','data','Data\x20logger\x20stopped\x20successfully','dataLogger_running','/api/util/dataLogger/start','fusion_dataLogger_running','../../logging/runRemi.sh','Unable\x20to\x20stop\x20data\x20logger','sockets','post','/api/util/dataLogger/stop','Data\x20logger\x20started\x20successfully','platform','info','../../global/fusionSettings','process\x20number\x20','sudo','status','Error\x20starting\x20data\x20logger','isAuthenticated','user','exec','route','stderr','socketId'];(function(_0x937bb4,_0x3ed4c3){var _0xd5ed69=function(_0x5c3ef0){while(--_0x5c3ef0){_0x937bb4['push'](_0x937bb4['shift']());}};_0xd5ed69(++_0x3ed4c3);}(_0x3ed4,0x8a));var _0xd5ed=function(_0x937bb4,_0x3ed4c3){_0x937bb4=_0x937bb4-0x0;var _0xd5ed69=_0x3ed4[_0x937bb4];return _0xd5ed69;};var os=require('os');var spawn=require('child_process')['spawn'];var shell=require(_0xd5ed('0xd'));const logger=require(_0xd5ed('0x29'));const app=require('../../express');const io=require(_0xd5ed('0xa'));const FusionSettings=require(_0xd5ed('0x1b'));module[_0xd5ed('0x2a')]=function(){var _0x915779=null;app[_0xd5ed('0x23')](_0xd5ed('0x11'))[_0xd5ed('0x16')](function(_0x65aba6,_0x47bad7){if(os['platform']()!=_0xd5ed('0x28')){_0x915779=spawn(_0xd5ed('0x1d'),['sh',_0xd5ed('0x13'),_0xd5ed('0x2b'),_0x65aba6[_0xd5ed('0x21')][_0xd5ed('0x6')]]);_0x915779[_0xd5ed('0x9')]['on'](_0xd5ed('0xe'),function(_0x4e6cd4){logger['info'](String(_0x4e6cd4));});_0x915779[_0xd5ed('0x24')]['on'](_0xd5ed('0xe'),function(_0x257c21){logger[_0xd5ed('0x0')](String(_0x257c21));});var _0x1a1309=0x1;var _0x341f10=0x3;var _0x4de00c=setInterval(function(){if(_0x1a1309<=_0x341f10){var _0x10767e=shell['exec'](_0xd5ed('0xb'),{'silent':!![]})['stdout'];logger[_0xd5ed('0x1a')](_0xd5ed('0x1c')+_0x10767e);if(_0x10767e){logger[_0xd5ed('0x1a')]('process\x20found');clearInterval(_0x4de00c);FusionSettings['SocketVariables'][_0xd5ed('0x12')]={'process':_0x10767e,'socket':_0x65aba6[_0xd5ed('0x1')][_0xd5ed('0x25')]};io[_0xd5ed('0x15')][_0xd5ed('0x27')]('dataLogger_running',FusionSettings[_0xd5ed('0x26')][_0xd5ed('0x12')]);return _0x47bad7[_0xd5ed('0x1e')](0xc8)[_0xd5ed('0x7')]({'serverMessage':_0xd5ed('0x18')});}else{logger[_0xd5ed('0x1a')](_0xd5ed('0x8'));_0x1a1309++;}}else{clearInterval(_0x4de00c);return _0x47bad7[_0xd5ed('0x1e')](0x1f4)[_0xd5ed('0x3')](_0xd5ed('0x1f'));}},0x12c);}else{return _0x47bad7[_0xd5ed('0x1e')](0x1f4)[_0xd5ed('0x7')]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});app[_0xd5ed('0x23')](_0xd5ed('0x17'))[_0xd5ed('0x4')](function(_0x56515c,_0x5c181b){if(os[_0xd5ed('0x19')]()!='win32'){shell[_0xd5ed('0x22')](_0xd5ed('0x5'),{'silent':!![]});shell[_0xd5ed('0x22')](_0xd5ed('0xb'),{'silent':!![]},function(_0xec5b75,_0x40cda9,_0x3989f0){(function(_0x102f3b){var _0x31d9d7=_0x102f3b[_0xd5ed('0x2')]();if(_0x31d9d7){return _0x5c181b[_0xd5ed('0x1e')](0x1f4)[_0xd5ed('0x3')](_0xd5ed('0x14'));}else{FusionSettings['SocketVariables'][_0xd5ed('0x12')]=null;io[_0xd5ed('0x15')]['emit'](_0xd5ed('0x10'),FusionSettings[_0xd5ed('0x26')][_0xd5ed('0x12')]);_0x915779=null;return _0x5c181b[_0xd5ed('0x1e')](0xc8)[_0xd5ed('0x7')]({'serverMessage':_0xd5ed('0xf')});}}(_0x40cda9[_0xd5ed('0x2')]()));});}else{return _0x5c181b['status'](0xc8)[_0xd5ed('0x7')]({'serverMessage':_0xd5ed('0xc')});}});function _0x4618d8(){return function(_0x518dd2,_0x59935b,_0x501a5c){if(_0x518dd2[_0xd5ed('0x20')]()){return _0x501a5c();}else{_0x59935b[_0xd5ed('0x1e')](0x191)[_0xd5ed('0x3')]('User\x20Unauthenticated');}};}}();