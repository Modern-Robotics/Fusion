var _0x97a5=['win32','user','get','../../logging/dataLogger.py','shelljs','sockets','Data\x20logger\x20stopped\x20successfully','process\x20found','json','isAuthenticated','route','SocketVariables','../../socket','child_process','emit','dataLogger_running','/api/util/dataLogger/start','process\x20number\x20','Error\x20starting\x20data\x20logger','exports','error','fusion_dataLogger_running','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','status','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','Unable\x20to\x20stop\x20data\x20logger','exec','spawn','post','Data\x20logger\x20started\x20successfully','/api/util/dataLogger/stop','body','trim','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','send','data','socketId','../../global/fusionSettings','stdout','info','username'];(function(_0x34fe39,_0x97a5f3){var _0x39a10c=function(_0x3a447d){while(--_0x3a447d){_0x34fe39['push'](_0x34fe39['shift']());}};_0x39a10c(++_0x97a5f3);}(_0x97a5,0x142));var _0x39a1=function(_0x34fe39,_0x97a5f3){_0x34fe39=_0x34fe39-0x0;var _0x39a10c=_0x97a5[_0x34fe39];return _0x39a10c;};var os=require('os');var spawn=require(_0x39a1('0x13'))[_0x39a1('0x21')];var shell=require(_0x39a1('0xa'));const logger=require('../../utils/logger');const app=require('../../express');const io=require(_0x39a1('0x12'));const FusionSettings=require(_0x39a1('0x2'));module[_0x39a1('0x19')]=function(){var _0xa59ad1=null;app[_0x39a1('0x10')](_0x39a1('0x16'))[_0x39a1('0x22')](function(_0x5f1921,_0x542850){if(os['platform']()!=_0x39a1('0x6')){_0xa59ad1=spawn('sudo',['sh','../../logging/runRemi.sh',_0x39a1('0x9'),_0x5f1921[_0x39a1('0x7')][_0x39a1('0x5')]]);_0xa59ad1[_0x39a1('0x3')]['on'](_0x39a1('0x0'),function(_0x5499bd){logger[_0x39a1('0x4')](String(_0x5499bd));});_0xa59ad1['stderr']['on']('data',function(_0x4fc240){logger[_0x39a1('0x1a')](String(_0x4fc240));});var _0x45958a=0x1;var _0x1af5f5=0x3;var _0x1269ed=setInterval(function(){if(_0x45958a<=_0x1af5f5){var _0x576500=shell[_0x39a1('0x20')](_0x39a1('0x1e'),{'silent':!![]})[_0x39a1('0x3')];logger[_0x39a1('0x4')](_0x39a1('0x17')+_0x576500);if(_0x576500){logger[_0x39a1('0x4')](_0x39a1('0xd'));clearInterval(_0x1269ed);FusionSettings[_0x39a1('0x11')][_0x39a1('0x1b')]={'process':_0x576500,'socket':_0x5f1921[_0x39a1('0x25')][_0x39a1('0x1')]};io[_0x39a1('0xb')]['emit']('dataLogger_running',FusionSettings[_0x39a1('0x11')]['fusion_dataLogger_running']);return _0x542850['status'](0xc8)[_0x39a1('0xe')]({'serverMessage':_0x39a1('0x23')});}else{logger[_0x39a1('0x4')]('process\x20not\x20found');_0x45958a++;}}else{clearInterval(_0x1269ed);return _0x542850[_0x39a1('0x1d')](0x1f4)[_0x39a1('0x28')](_0x39a1('0x18'));}},0x12c);}else{return _0x542850[_0x39a1('0x1d')](0x1f4)[_0x39a1('0xe')]({'serverMessage':_0x39a1('0x27')});}});app[_0x39a1('0x10')](_0x39a1('0x24'))[_0x39a1('0x8')](function(_0x3cd5d0,_0x574dd3){if(os['platform']()!='win32'){shell[_0x39a1('0x20')](_0x39a1('0x1c'),{'silent':!![]});shell['exec'](_0x39a1('0x1e'),{'silent':!![]},function(_0x3176f3,_0x311047,_0x4d567d){(function(_0x509a8d){var _0x25dbfc=_0x509a8d[_0x39a1('0x26')]();if(_0x25dbfc){return _0x574dd3[_0x39a1('0x1d')](0x1f4)[_0x39a1('0x28')](_0x39a1('0x1f'));}else{FusionSettings['SocketVariables'][_0x39a1('0x1b')]=null;io[_0x39a1('0xb')][_0x39a1('0x14')](_0x39a1('0x15'),FusionSettings[_0x39a1('0x11')][_0x39a1('0x1b')]);_0xa59ad1=null;return _0x574dd3[_0x39a1('0x1d')](0xc8)[_0x39a1('0xe')]({'serverMessage':_0x39a1('0xc')});}}(_0x311047[_0x39a1('0x26')]()));});}else{return _0x574dd3[_0x39a1('0x1d')](0xc8)[_0x39a1('0xe')]({'serverMessage':_0x39a1('0x27')});}});function _0x10f0e8(){return function(_0x1e0183,_0x5d7ce8,_0x4c27e8){if(_0x1e0183[_0x39a1('0xf')]()){return _0x4c27e8();}else{_0x5d7ce8['status'](0x191)[_0x39a1('0x28')]('User\x20Unauthenticated');}};}}();