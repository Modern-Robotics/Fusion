var _0xbcff=['SocketVariables','data','Data\x20logger\x20stopped\x20successfully','Unable\x20to\x20stop\x20data\x20logger','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','error','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','trim','info','get','process\x20number\x20','stdout','socketId','shelljs','stderr','emit','json','username','../../logging/dataLogger.py','send','body','status','Error\x20starting\x20data\x20logger','fusion_dataLogger_running','../../express','../../global/fusionSettings','user','../../socket','dataLogger_running','sudo','exports','sockets','/api/util/dataLogger/stop','spawn','../../logging/runRemi.sh','exec','platform'];(function(_0x43aa87,_0xbcfffa){var _0x68a978=function(_0x4cee13){while(--_0x4cee13){_0x43aa87['push'](_0x43aa87['shift']());}};_0x68a978(++_0xbcfffa);}(_0xbcff,0x180));var _0x68a9=function(_0x43aa87,_0xbcfffa){_0x43aa87=_0x43aa87-0x0;var _0x68a978=_0xbcff[_0x43aa87];return _0x68a978;};var os=require('os');var spawn=require('child_process')[_0x68a9('0x13')];var shell=require(_0x68a9('0x24'));const logger=require('../../utils/logger');const app=require(_0x68a9('0xa'));const io=require(_0x68a9('0xd'));const FusionSettings=require(_0x68a9('0xb'));module[_0x68a9('0x10')]=function(){var _0x1e20da=null;app['route']('/api/util/dataLogger/start')['post'](function(_0x584b56,_0x1c6ab0){if(os[_0x68a9('0x16')]()!='win32'){_0x1e20da=spawn(_0x68a9('0xf'),['sh',_0x68a9('0x14'),_0x68a9('0x4'),_0x584b56[_0x68a9('0xc')][_0x68a9('0x3')]]);_0x1e20da[_0x68a9('0x22')]['on']('data',function(_0x118087){logger[_0x68a9('0x1f')](String(_0x118087));});_0x1e20da[_0x68a9('0x0')]['on'](_0x68a9('0x18'),function(_0x13e792){logger[_0x68a9('0x1c')](String(_0x13e792));});var _0x53ab14=0x1;var _0x1e3032=0x3;var _0xf5a3dd=setInterval(function(){if(_0x53ab14<=_0x1e3032){var _0x42159e=shell[_0x68a9('0x15')](_0x68a9('0x1b'),{'silent':!![]})['stdout'];logger[_0x68a9('0x1f')](_0x68a9('0x21')+_0x42159e);if(_0x42159e){logger[_0x68a9('0x1f')]('process\x20found');clearInterval(_0xf5a3dd);FusionSettings[_0x68a9('0x17')][_0x68a9('0x9')]={'process':_0x42159e,'socket':_0x584b56[_0x68a9('0x6')][_0x68a9('0x23')]};io[_0x68a9('0x11')][_0x68a9('0x1')](_0x68a9('0xe'),FusionSettings[_0x68a9('0x17')][_0x68a9('0x9')]);return _0x1c6ab0['status'](0xc8)['json']({'serverMessage':'Data\x20logger\x20started\x20successfully'});}else{logger[_0x68a9('0x1f')]('process\x20not\x20found');_0x53ab14++;}}else{clearInterval(_0xf5a3dd);return _0x1c6ab0['status'](0x1f4)[_0x68a9('0x5')](_0x68a9('0x8'));}},0x12c);}else{return _0x1c6ab0[_0x68a9('0x7')](0x1f4)[_0x68a9('0x2')]({'serverMessage':_0x68a9('0x1d')});}});app['route'](_0x68a9('0x12'))[_0x68a9('0x20')](function(_0x28730b,_0x5a51e8){if(os[_0x68a9('0x16')]()!='win32'){shell[_0x68a9('0x15')]('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]});shell['exec'](_0x68a9('0x1b'),{'silent':!![]},function(_0x3b7ec3,_0x4ef518,_0x1a98fe){(function(_0x3a95fb){var _0x4e702e=_0x3a95fb[_0x68a9('0x1e')]();if(_0x4e702e){return _0x5a51e8[_0x68a9('0x7')](0x1f4)[_0x68a9('0x5')](_0x68a9('0x1a'));}else{FusionSettings['SocketVariables'][_0x68a9('0x9')]=null;io[_0x68a9('0x11')]['emit'](_0x68a9('0xe'),FusionSettings['SocketVariables'][_0x68a9('0x9')]);_0x1e20da=null;return _0x5a51e8[_0x68a9('0x7')](0xc8)['json']({'serverMessage':_0x68a9('0x19')});}}(_0x4ef518[_0x68a9('0x1e')]()));});}else{return _0x5a51e8['status'](0xc8)[_0x68a9('0x2')]({'serverMessage':_0x68a9('0x1d')});}});function _0x9f23a(){return function(_0x22a5e6,_0x173034,_0x38bdef){if(_0x22a5e6['isAuthenticated']()){return _0x38bdef();}else{_0x173034[_0x68a9('0x7')](0x191)[_0x68a9('0x5')]('User\x20Unauthenticated');}};}}();