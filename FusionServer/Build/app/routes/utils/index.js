var _0x3dcf=['status','Error\x20starting\x20data\x20logger','json','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','/api/util/dataLogger/stop','get','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','trim','send','Unable\x20to\x20stop\x20data\x20logger','Data\x20logger\x20stopped\x20successfully','isAuthenticated','User\x20Unauthenticated','shelljs','../../socket','../../global/fusionSettings','exports','/api/util/dataLogger/start','post','platform','win32','sudo','../../logging/dataLogger.py','stdout','data','info','stderr','error','exec','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','process\x20found','SocketVariables','fusion_dataLogger_running','body','socketId','dataLogger_running','Data\x20logger\x20started\x20successfully','process\x20not\x20found'];(function(_0x13e2d7,_0xba453b){var _0xa0c893=function(_0x3c2b7f){while(--_0x3c2b7f){_0x13e2d7['push'](_0x13e2d7['shift']());}};_0xa0c893(++_0xba453b);}(_0x3dcf,0x1d5));var _0x315c=function(_0x4b8ae4,_0x1ebdd6){_0x4b8ae4=_0x4b8ae4-0x0;var _0x179341=_0x3dcf[_0x4b8ae4];return _0x179341;};var os=require('os');var spawn=require('child_process')['spawn'];var shell=require(_0x315c('0x0'));const logger=require('../../utils/logger');const app=require('../../express');const io=require(_0x315c('0x1'));const FusionSettings=require(_0x315c('0x2'));module[_0x315c('0x3')]=function(){var _0x3a469b=null;app['route'](_0x315c('0x4'))[_0x315c('0x5')](function(_0x57083e,_0x5dc7e8){if(os[_0x315c('0x6')]()!=_0x315c('0x7')){_0x3a469b=spawn(_0x315c('0x8'),['sh','../../logging/runRemi.sh',_0x315c('0x9'),_0x57083e['user']['username']]);_0x3a469b[_0x315c('0xa')]['on'](_0x315c('0xb'),function(_0x64d0fe){logger[_0x315c('0xc')](String(_0x64d0fe));});_0x3a469b[_0x315c('0xd')]['on']('data',function(_0x5e9c8b){logger[_0x315c('0xe')](String(_0x5e9c8b));});var _0x3c1abe=0x1;var _0x2ed1f5=0x3;var _0x27c7be=setInterval(function(){if(_0x3c1abe<=_0x2ed1f5){var _0x39793f=shell[_0x315c('0xf')](_0x315c('0x10'),{'silent':!![]})[_0x315c('0xa')];logger[_0x315c('0xc')]('process\x20number\x20'+_0x39793f);if(_0x39793f){logger[_0x315c('0xc')](_0x315c('0x11'));clearInterval(_0x27c7be);FusionSettings[_0x315c('0x12')][_0x315c('0x13')]={'process':_0x39793f,'socket':_0x57083e[_0x315c('0x14')][_0x315c('0x15')]};io['sockets']['emit'](_0x315c('0x16'),FusionSettings['SocketVariables'][_0x315c('0x13')]);return _0x5dc7e8['status'](0xc8)['json']({'serverMessage':_0x315c('0x17')});}else{logger['info'](_0x315c('0x18'));_0x3c1abe++;}}else{clearInterval(_0x27c7be);return _0x5dc7e8[_0x315c('0x19')](0x1f4)['send'](_0x315c('0x1a'));}},0x12c);}else{return _0x5dc7e8[_0x315c('0x19')](0x1f4)[_0x315c('0x1b')]({'serverMessage':_0x315c('0x1c')});}});app['route'](_0x315c('0x1d'))[_0x315c('0x1e')](function(_0x2cae70,_0xf2fe1f){if(os['platform']()!=_0x315c('0x7')){shell['exec'](_0x315c('0x1f'),{'silent':!![]});shell[_0x315c('0xf')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]},function(_0x18a431,_0x23f6ec,_0x546f9d){(function(_0x44bfa1){var _0x562ec2=_0x44bfa1[_0x315c('0x20')]();if(_0x562ec2){return _0xf2fe1f['status'](0x1f4)[_0x315c('0x21')](_0x315c('0x22'));}else{FusionSettings[_0x315c('0x12')][_0x315c('0x13')]=null;io['sockets']['emit'](_0x315c('0x16'),FusionSettings[_0x315c('0x12')][_0x315c('0x13')]);_0x3a469b=null;return _0xf2fe1f[_0x315c('0x19')](0xc8)[_0x315c('0x1b')]({'serverMessage':_0x315c('0x23')});}}(_0x23f6ec[_0x315c('0x20')]()));});}else{return _0xf2fe1f[_0x315c('0x19')](0xc8)['json']({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});function _0x4cdc00(){return function(_0x373515,_0x2262f5,_0x3f046c){if(_0x373515[_0x315c('0x24')]()){return _0x3f046c();}else{_0x2262f5[_0x315c('0x19')](0x191)[_0x315c('0x21')](_0x315c('0x25'));}};}}();