var _0x9af7=['trim','stdout','win32','sudo','Data\x20logger\x20stopped\x20successfully','child_process','process\x20found','status','fusion_dataLogger_running','/api/util/dataLogger/stop','exports','User\x20Unauthenticated','../../socket','user','info','../../logging/runRemi.sh','process\x20not\x20found','isAuthenticated','send','../../express','exec','route','stderr','shelljs','../../utils/logger','SocketVariables','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','dataLogger_running','emit','socketId','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','../../logging/dataLogger.py','process\x20number\x20','username','spawn','body','get','json','data','/api/util/dataLogger/start','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','platform','error'];(function(_0x31db1d,_0x9af77b){var _0x48d7da=function(_0x1eb5a1){while(--_0x1eb5a1){_0x31db1d['push'](_0x31db1d['shift']());}};_0x48d7da(++_0x9af77b);}(_0x9af7,0x135));var _0x48d7=function(_0x31db1d,_0x9af77b){_0x31db1d=_0x31db1d-0x0;var _0x48d7da=_0x9af7[_0x31db1d];return _0x48d7da;};var os=require('os');var spawn=require(_0x48d7('0x28'))[_0x48d7('0x1a')];var shell=require(_0x48d7('0xf'));const logger=require(_0x48d7('0x10'));const app=require(_0x48d7('0xb'));const io=require(_0x48d7('0x4'));const FusionSettings=require('../../global/fusionSettings');module[_0x48d7('0x2')]=function(){var _0x3d9192=null;app[_0x48d7('0xd')](_0x48d7('0x1f'))['post'](function(_0x51ecbb,_0x13b9df){if(os[_0x48d7('0x21')]()!=_0x48d7('0x25')){_0x3d9192=spawn(_0x48d7('0x26'),['sh',_0x48d7('0x7'),_0x48d7('0x17'),_0x51ecbb[_0x48d7('0x5')][_0x48d7('0x19')]]);_0x3d9192[_0x48d7('0x24')]['on'](_0x48d7('0x1e'),function(_0x5cee89){logger['info'](String(_0x5cee89));});_0x3d9192[_0x48d7('0xe')]['on']('data',function(_0x1f0acc){logger[_0x48d7('0x22')](String(_0x1f0acc));});var _0xef9d7c=0x1;var _0x271491=0x3;var _0x4ae9b9=setInterval(function(){if(_0xef9d7c<=_0x271491){var _0x10fd78=shell[_0x48d7('0xc')](_0x48d7('0x16'),{'silent':!![]})[_0x48d7('0x24')];logger[_0x48d7('0x6')](_0x48d7('0x18')+_0x10fd78);if(_0x10fd78){logger['info'](_0x48d7('0x29'));clearInterval(_0x4ae9b9);FusionSettings[_0x48d7('0x11')][_0x48d7('0x0')]={'process':_0x10fd78,'socket':_0x51ecbb[_0x48d7('0x1b')][_0x48d7('0x15')]};io['sockets'][_0x48d7('0x14')](_0x48d7('0x13'),FusionSettings[_0x48d7('0x11')][_0x48d7('0x0')]);return _0x13b9df[_0x48d7('0x2a')](0xc8)[_0x48d7('0x1d')]({'serverMessage':'Data\x20logger\x20started\x20successfully'});}else{logger[_0x48d7('0x6')](_0x48d7('0x8'));_0xef9d7c++;}}else{clearInterval(_0x4ae9b9);return _0x13b9df[_0x48d7('0x2a')](0x1f4)[_0x48d7('0xa')]('Error\x20starting\x20data\x20logger');}},0x12c);}else{return _0x13b9df[_0x48d7('0x2a')](0x1f4)['json']({'serverMessage':_0x48d7('0x12')});}});app[_0x48d7('0xd')](_0x48d7('0x1'))[_0x48d7('0x1c')](function(_0x489443,_0x337d3e){if(os[_0x48d7('0x21')]()!=_0x48d7('0x25')){shell[_0x48d7('0xc')](_0x48d7('0x20'),{'silent':!![]});shell[_0x48d7('0xc')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]},function(_0x3d7265,_0x35ffb5,_0x381d7c){(function(_0x4b7441){var _0x54c6aa=_0x4b7441['trim']();if(_0x54c6aa){return _0x337d3e[_0x48d7('0x2a')](0x1f4)[_0x48d7('0xa')]('Unable\x20to\x20stop\x20data\x20logger');}else{FusionSettings['SocketVariables']['fusion_dataLogger_running']=null;io['sockets']['emit']('dataLogger_running',FusionSettings[_0x48d7('0x11')]['fusion_dataLogger_running']);_0x3d9192=null;return _0x337d3e['status'](0xc8)[_0x48d7('0x1d')]({'serverMessage':_0x48d7('0x27')});}}(_0x35ffb5[_0x48d7('0x23')]()));});}else{return _0x337d3e['status'](0xc8)[_0x48d7('0x1d')]({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});function _0x2593c6(){return function(_0x1b2109,_0x562c3f,_0x3eacab){if(_0x1b2109[_0x48d7('0x9')]()){return _0x3eacab();}else{_0x562c3f['status'](0x191)[_0x48d7('0xa')](_0x48d7('0x3'));}};}}();