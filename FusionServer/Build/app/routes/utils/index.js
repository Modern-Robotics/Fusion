var _0x4831=['spawn','emit','get','fusion_dataLogger_running','/api/util/dataLogger/stop','../../socket','Data\x20logger\x20started\x20successfully','sockets','sudo','user','stderr','status','username','../../global/fusionSettings','exec','data','socketId','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','dataLogger_running','Data\x20logger\x20stopped\x20successfully','User\x20Unauthenticated','win32','trim','../../logging/dataLogger.py','process\x20not\x20found','isAuthenticated','/api/util/dataLogger/start','exports','process\x20found','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','error','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','Unable\x20to\x20stop\x20data\x20logger','SocketVariables','../../express','info','../../logging/runRemi.sh','json','send'];(function(_0x11469a,_0x4831aa){var _0x4deb9e=function(_0x4e36d2){while(--_0x4e36d2){_0x11469a['push'](_0x11469a['shift']());}};_0x4deb9e(++_0x4831aa);}(_0x4831,0xac));var _0x4deb=function(_0x11469a,_0x4831aa){_0x11469a=_0x11469a-0x0;var _0x4deb9e=_0x4831[_0x11469a];return _0x4deb9e;};var os=require('os');var spawn=require('child_process')[_0x4deb('0x17')];var shell=require('shelljs');const logger=require('../../utils/logger');const app=require(_0x4deb('0x12'));const io=require(_0x4deb('0x1c'));const FusionSettings=require(_0x4deb('0x24'));module[_0x4deb('0xb')]=function(){var _0x2c6c2c=null;app['route'](_0x4deb('0xa'))['post'](function(_0x17dd36,_0x90a87){if(os['platform']()!=_0x4deb('0x5')){_0x2c6c2c=spawn(_0x4deb('0x1f'),['sh',_0x4deb('0x14'),_0x4deb('0x7'),_0x17dd36[_0x4deb('0x20')][_0x4deb('0x23')]]);_0x2c6c2c['stdout']['on'](_0x4deb('0x26'),function(_0x793d21){logger[_0x4deb('0x13')](String(_0x793d21));});_0x2c6c2c[_0x4deb('0x21')]['on']('data',function(_0x3f0ea0){logger[_0x4deb('0xe')](String(_0x3f0ea0));});var _0x2ec8ff=0x1;var _0x3a775d=0x3;var _0x521acb=setInterval(function(){if(_0x2ec8ff<=_0x3a775d){var _0xcdfb29=shell[_0x4deb('0x25')](_0x4deb('0xd'),{'silent':!![]})['stdout'];logger['info']('process\x20number\x20'+_0xcdfb29);if(_0xcdfb29){logger[_0x4deb('0x13')](_0x4deb('0xc'));clearInterval(_0x521acb);FusionSettings[_0x4deb('0x11')][_0x4deb('0x1a')]={'process':_0xcdfb29,'socket':_0x17dd36['body'][_0x4deb('0x0')]};io[_0x4deb('0x1e')][_0x4deb('0x18')](_0x4deb('0x2'),FusionSettings['SocketVariables'][_0x4deb('0x1a')]);return _0x90a87[_0x4deb('0x22')](0xc8)['json']({'serverMessage':_0x4deb('0x1d')});}else{logger[_0x4deb('0x13')](_0x4deb('0x8'));_0x2ec8ff++;}}else{clearInterval(_0x521acb);return _0x90a87['status'](0x1f4)[_0x4deb('0x16')]('Error\x20starting\x20data\x20logger');}},0x12c);}else{return _0x90a87['status'](0x1f4)[_0x4deb('0x15')]({'serverMessage':_0x4deb('0xf')});}});app['route'](_0x4deb('0x1b'))[_0x4deb('0x19')](function(_0x3772df,_0x1c5969){if(os['platform']()!=_0x4deb('0x5')){shell[_0x4deb('0x25')](_0x4deb('0x1'),{'silent':!![]});shell[_0x4deb('0x25')](_0x4deb('0xd'),{'silent':!![]},function(_0x365640,_0x4a862f,_0xf16dc2){(function(_0x2df445){var _0x11e389=_0x2df445[_0x4deb('0x6')]();if(_0x11e389){return _0x1c5969['status'](0x1f4)['send'](_0x4deb('0x10'));}else{FusionSettings[_0x4deb('0x11')][_0x4deb('0x1a')]=null;io[_0x4deb('0x1e')]['emit'](_0x4deb('0x2'),FusionSettings[_0x4deb('0x11')]['fusion_dataLogger_running']);_0x2c6c2c=null;return _0x1c5969['status'](0xc8)[_0x4deb('0x15')]({'serverMessage':_0x4deb('0x3')});}}(_0x4a862f[_0x4deb('0x6')]()));});}else{return _0x1c5969[_0x4deb('0x22')](0xc8)['json']({'serverMessage':_0x4deb('0xf')});}});function _0x3d152b(){return function(_0x369f9a,_0x11a67b,_0x19343b){if(_0x369f9a[_0x4deb('0x9')]()){return _0x19343b();}else{_0x11a67b[_0x4deb('0x22')](0x191)[_0x4deb('0x16')](_0x4deb('0x4'));}};}}();