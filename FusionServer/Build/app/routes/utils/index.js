var _0x27d9=['exec','stdout','process\x20not\x20found','send','fusion_dataLogger_running','win32','sudo','json','shelljs','route','sockets','data','info','Data\x20logger\x20started\x20successfully','SocketVariables','trim','exports','body','isAuthenticated','/api/util/dataLogger/start','stderr','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','../../express','User\x20Unauthenticated','Error\x20starting\x20data\x20logger','username','process\x20number\x20','emit','status','child_process','user','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','../../utils/logger','get','spawn','process\x20found','Unable\x20to\x20stop\x20data\x20logger','dataLogger_running','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','platform'];(function(_0xf379e,_0x27d9e4){var _0x51c2b9=function(_0x35060c){while(--_0x35060c){_0xf379e['push'](_0xf379e['shift']());}};_0x51c2b9(++_0x27d9e4);}(_0x27d9,0x67));var _0x51c2=function(_0xf379e,_0x27d9e4){_0xf379e=_0xf379e-0x0;var _0x51c2b9=_0x27d9[_0xf379e];return _0x51c2b9;};var os=require('os');var spawn=require(_0x51c2('0x6'))[_0x51c2('0xb')];var shell=require(_0x51c2('0x19'));const logger=require(_0x51c2('0x9'));const app=require(_0x51c2('0x27'));const io=require('../../socket');const FusionSettings=require('../../global/fusionSettings');module[_0x51c2('0x21')]=function(){var _0x1e4b80=null;app[_0x51c2('0x1a')](_0x51c2('0x24'))['post'](function(_0x33eebd,_0x4d60c1){if(os[_0x51c2('0x10')]()!=_0x51c2('0x16')){_0x1e4b80=spawn(_0x51c2('0x17'),['sh','../../logging/runRemi.sh','../../logging/dataLogger.py',_0x33eebd[_0x51c2('0x7')][_0x51c2('0x2')]]);_0x1e4b80['stdout']['on'](_0x51c2('0x1c'),function(_0x14b377){logger[_0x51c2('0x1d')](String(_0x14b377));});_0x1e4b80[_0x51c2('0x25')]['on'](_0x51c2('0x1c'),function(_0x5d9663){logger['error'](String(_0x5d9663));});var _0x404d72=0x1;var _0x78ca73=0x3;var _0x2569b0=setInterval(function(){if(_0x404d72<=_0x78ca73){var _0x4c0606=shell[_0x51c2('0x11')](_0x51c2('0x26'),{'silent':!![]})[_0x51c2('0x12')];logger[_0x51c2('0x1d')](_0x51c2('0x3')+_0x4c0606);if(_0x4c0606){logger[_0x51c2('0x1d')](_0x51c2('0xc'));clearInterval(_0x2569b0);FusionSettings[_0x51c2('0x1f')][_0x51c2('0x15')]={'process':_0x4c0606,'socket':_0x33eebd[_0x51c2('0x22')]['socketId']};io[_0x51c2('0x1b')][_0x51c2('0x4')](_0x51c2('0xe'),FusionSettings[_0x51c2('0x1f')][_0x51c2('0x15')]);return _0x4d60c1['status'](0xc8)['json']({'serverMessage':_0x51c2('0x1e')});}else{logger[_0x51c2('0x1d')](_0x51c2('0x13'));_0x404d72++;}}else{clearInterval(_0x2569b0);return _0x4d60c1[_0x51c2('0x5')](0x1f4)['send'](_0x51c2('0x1'));}},0x12c);}else{return _0x4d60c1['status'](0x1f4)[_0x51c2('0x18')]({'serverMessage':_0x51c2('0x8')});}});app[_0x51c2('0x1a')]('/api/util/dataLogger/stop')[_0x51c2('0xa')](function(_0x595269,_0x3b13ae){if(os['platform']()!=_0x51c2('0x16')){shell[_0x51c2('0x11')](_0x51c2('0xf'),{'silent':!![]});shell[_0x51c2('0x11')](_0x51c2('0x26'),{'silent':!![]},function(_0x3d757f,_0x5c333c,_0x33660d){(function(_0x332add){var _0x5eb7e4=_0x332add['trim']();if(_0x5eb7e4){return _0x3b13ae[_0x51c2('0x5')](0x1f4)[_0x51c2('0x14')](_0x51c2('0xd'));}else{FusionSettings[_0x51c2('0x1f')][_0x51c2('0x15')]=null;io[_0x51c2('0x1b')][_0x51c2('0x4')](_0x51c2('0xe'),FusionSettings[_0x51c2('0x1f')]['fusion_dataLogger_running']);_0x1e4b80=null;return _0x3b13ae[_0x51c2('0x5')](0xc8)[_0x51c2('0x18')]({'serverMessage':'Data\x20logger\x20stopped\x20successfully'});}}(_0x5c333c[_0x51c2('0x20')]()));});}else{return _0x3b13ae['status'](0xc8)[_0x51c2('0x18')]({'serverMessage':_0x51c2('0x8')});}});function _0x4191d2(){return function(_0x40e9d8,_0x11b54b,_0x439af8){if(_0x40e9d8[_0x51c2('0x23')]()){return _0x439af8();}else{_0x11b54b[_0x51c2('0x5')](0x191)[_0x51c2('0x14')](_0x51c2('0x0'));}};}}();