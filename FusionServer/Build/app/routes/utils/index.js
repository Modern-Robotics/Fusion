var _0x757d=['../../socket','data','../../logging/runRemi.sh','get','sockets','stderr','/api/util/dataLogger/start','process\x20not\x20found','../../logging/dataLogger.py','stdout','socketId','exports','spawn','../../express','isAuthenticated','post','Data\x20logger\x20stopped\x20successfully','child_process','json','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','status','trim','platform','route','win32','shelljs','emit','body','process\x20found','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','info','../../global/fusionSettings','User\x20Unauthenticated','fusion_dataLogger_running','Unable\x20to\x20stop\x20data\x20logger','exec','error','SocketVariables','Error\x20starting\x20data\x20logger','user','send','dataLogger_running'];(function(_0x21f0f0,_0x757daa){var _0x419011=function(_0x3aa038){while(--_0x3aa038){_0x21f0f0['push'](_0x21f0f0['shift']());}};_0x419011(++_0x757daa);}(_0x757d,0xf2));var _0x4190=function(_0x21f0f0,_0x757daa){_0x21f0f0=_0x21f0f0-0x0;var _0x419011=_0x757d[_0x21f0f0];return _0x419011;};var os=require('os');var spawn=require(_0x4190('0x1b'))[_0x4190('0x16')];var shell=require(_0x4190('0x23'));const logger=require('../../utils/logger');const app=require(_0x4190('0x17'));const io=require(_0x4190('0xa'));const FusionSettings=require(_0x4190('0x29'));module[_0x4190('0x15')]=function(){var _0x238886=null;app['route'](_0x4190('0x10'))[_0x4190('0x19')](function(_0x88a37d,_0x578cfe){if(os[_0x4190('0x20')]()!=_0x4190('0x22')){_0x238886=spawn('sudo',['sh',_0x4190('0xc'),_0x4190('0x12'),_0x88a37d[_0x4190('0x7')]['username']]);_0x238886[_0x4190('0x13')]['on']('data',function(_0x3987c3){logger['info'](String(_0x3987c3));});_0x238886[_0x4190('0xf')]['on'](_0x4190('0xb'),function(_0x50ab0b){logger[_0x4190('0x4')](String(_0x50ab0b));});var _0x1d8e8a=0x1;var _0x4311ac=0x3;var _0xa4600e=setInterval(function(){if(_0x1d8e8a<=_0x4311ac){var _0x369aa4=shell[_0x4190('0x3')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x4190('0x13')];logger[_0x4190('0x28')]('process\x20number\x20'+_0x369aa4);if(_0x369aa4){logger[_0x4190('0x28')](_0x4190('0x26'));clearInterval(_0xa4600e);FusionSettings[_0x4190('0x5')][_0x4190('0x1')]={'process':_0x369aa4,'socket':_0x88a37d[_0x4190('0x25')][_0x4190('0x14')]};io[_0x4190('0xe')][_0x4190('0x24')](_0x4190('0x9'),FusionSettings[_0x4190('0x5')][_0x4190('0x1')]);return _0x578cfe[_0x4190('0x1e')](0xc8)[_0x4190('0x1c')]({'serverMessage':'Data\x20logger\x20started\x20successfully'});}else{logger[_0x4190('0x28')](_0x4190('0x11'));_0x1d8e8a++;}}else{clearInterval(_0xa4600e);return _0x578cfe[_0x4190('0x1e')](0x1f4)[_0x4190('0x8')](_0x4190('0x6'));}},0x12c);}else{return _0x578cfe['status'](0x1f4)['json']({'serverMessage':_0x4190('0x27')});}});app[_0x4190('0x21')]('/api/util/dataLogger/stop')[_0x4190('0xd')](function(_0xb76374,_0x294e77){if(os['platform']()!=_0x4190('0x22')){shell['exec'](_0x4190('0x1d'),{'silent':!![]});shell[_0x4190('0x3')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]},function(_0x5b7f08,_0x466153,_0x12b879){(function(_0x40190a){var _0x17dba0=_0x40190a[_0x4190('0x1f')]();if(_0x17dba0){return _0x294e77[_0x4190('0x1e')](0x1f4)[_0x4190('0x8')](_0x4190('0x2'));}else{FusionSettings['SocketVariables']['fusion_dataLogger_running']=null;io[_0x4190('0xe')]['emit'](_0x4190('0x9'),FusionSettings['SocketVariables']['fusion_dataLogger_running']);_0x238886=null;return _0x294e77['status'](0xc8)[_0x4190('0x1c')]({'serverMessage':_0x4190('0x1a')});}}(_0x466153[_0x4190('0x1f')]()));});}else{return _0x294e77[_0x4190('0x1e')](0xc8)[_0x4190('0x1c')]({'serverMessage':_0x4190('0x27')});}});function _0x3fe87f(){return function(_0x5bcd98,_0x31d4b8,_0x39e2a7){if(_0x5bcd98[_0x4190('0x18')]()){return _0x39e2a7();}else{_0x31d4b8[_0x4190('0x1e')](0x191)[_0x4190('0x8')](_0x4190('0x0'));}};}}();