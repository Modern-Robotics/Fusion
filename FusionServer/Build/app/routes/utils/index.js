var _0x2bb8=['route','/api/util/dataLogger/stop','shelljs','trim','send','SocketVariables','../../utils/logger','socketId','stderr','fusion_dataLogger_running','Error\x20starting\x20data\x20logger','stdout','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','exec','../../global/fusionSettings','error','data','spawn','process\x20number\x20','isAuthenticated','User\x20Unauthenticated','win32','Unable\x20to\x20stop\x20data\x20logger','username','Data\x20logger\x20stopped\x20successfully','body','../../logging/dataLogger.py','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','../../socket','sockets','Data\x20logger\x20started\x20successfully','json','status','process\x20not\x20found','user','info','emit','get','dataLogger_running','process\x20found','sudo','child_process','platform'];(function(_0x697d42,_0x2bb8e6){var _0x32d77c=function(_0x269775){while(--_0x269775){_0x697d42['push'](_0x697d42['shift']());}};_0x32d77c(++_0x2bb8e6);}(_0x2bb8,0x7f));var _0x32d7=function(_0x697d42,_0x2bb8e6){_0x697d42=_0x697d42-0x0;var _0x32d77c=_0x2bb8[_0x697d42];return _0x32d77c;};var os=require('os');var spawn=require(_0x32d7('0x0'))[_0x32d7('0x13')];var shell=require(_0x32d7('0x4'));const logger=require(_0x32d7('0x8'));const app=require('../../express');const io=require(_0x32d7('0x1e'));const FusionSettings=require(_0x32d7('0x10'));module['exports']=function(){var _0x28821f=null;app[_0x32d7('0x2')]('/api/util/dataLogger/start')['post'](function(_0x37ea7b,_0x272559){if(os[_0x32d7('0x1')]()!=_0x32d7('0x17')){_0x28821f=spawn(_0x32d7('0x2a'),['sh','../../logging/runRemi.sh',_0x32d7('0x1c'),_0x37ea7b[_0x32d7('0x24')][_0x32d7('0x19')]]);_0x28821f[_0x32d7('0xd')]['on']('data',function(_0x4aa4fb){logger[_0x32d7('0x25')](String(_0x4aa4fb));});_0x28821f[_0x32d7('0xa')]['on'](_0x32d7('0x12'),function(_0x1b6638){logger[_0x32d7('0x11')](String(_0x1b6638));});var _0x5d9b52=0x1;var _0x43564d=0x3;var _0x3217bc=setInterval(function(){if(_0x5d9b52<=_0x43564d){var _0x31384b=shell[_0x32d7('0xf')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x32d7('0xd')];logger[_0x32d7('0x25')](_0x32d7('0x14')+_0x31384b);if(_0x31384b){logger[_0x32d7('0x25')](_0x32d7('0x29'));clearInterval(_0x3217bc);FusionSettings['SocketVariables'][_0x32d7('0xb')]={'process':_0x31384b,'socket':_0x37ea7b[_0x32d7('0x1b')][_0x32d7('0x9')]};io[_0x32d7('0x1f')][_0x32d7('0x26')](_0x32d7('0x28'),FusionSettings[_0x32d7('0x7')][_0x32d7('0xb')]);return _0x272559[_0x32d7('0x22')](0xc8)[_0x32d7('0x21')]({'serverMessage':_0x32d7('0x20')});}else{logger['info'](_0x32d7('0x23'));_0x5d9b52++;}}else{clearInterval(_0x3217bc);return _0x272559[_0x32d7('0x22')](0x1f4)[_0x32d7('0x6')](_0x32d7('0xc'));}},0x12c);}else{return _0x272559[_0x32d7('0x22')](0x1f4)[_0x32d7('0x21')]({'serverMessage':_0x32d7('0x1d')});}});app[_0x32d7('0x2')](_0x32d7('0x3'))[_0x32d7('0x27')](function(_0x559959,_0x839c8e){if(os[_0x32d7('0x1')]()!=_0x32d7('0x17')){shell['exec']('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]});shell[_0x32d7('0xf')](_0x32d7('0xe'),{'silent':!![]},function(_0x483a46,_0x5c3283,_0x55e0b3){(function(_0xa42a5f){var _0x11e549=_0xa42a5f[_0x32d7('0x5')]();if(_0x11e549){return _0x839c8e['status'](0x1f4)['send'](_0x32d7('0x18'));}else{FusionSettings[_0x32d7('0x7')][_0x32d7('0xb')]=null;io['sockets']['emit'](_0x32d7('0x28'),FusionSettings['SocketVariables'][_0x32d7('0xb')]);_0x28821f=null;return _0x839c8e['status'](0xc8)[_0x32d7('0x21')]({'serverMessage':_0x32d7('0x1a')});}}(_0x5c3283[_0x32d7('0x5')]()));});}else{return _0x839c8e[_0x32d7('0x22')](0xc8)[_0x32d7('0x21')]({'serverMessage':_0x32d7('0x1d')});}});function _0x3e22eb(){return function(_0x4b7ca5,_0x3d2755,_0x8032be){if(_0x4b7ca5[_0x32d7('0x15')]()){return _0x8032be();}else{_0x3d2755[_0x32d7('0x22')](0x191)[_0x32d7('0x6')](_0x32d7('0x16'));}};}}();