var _0x57a4=['User\x20Unauthenticated','emit','platform','isAuthenticated','dataLogger_running','exports','Unable\x20to\x20stop\x20data\x20logger','post','trim','exec','process\x20not\x20found','../../socket','child_process','user','info','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','stderr','json','body','spawn','socketId','sudo','../../utils/logger','status','/api/util/dataLogger/start','data','route','/api/util/dataLogger/stop','../../global/fusionSettings','SocketVariables','win32','Error\x20starting\x20data\x20logger','send','shelljs','stdout','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','sockets','process\x20number\x20','../../logging/runRemi.sh','fusion_dataLogger_running','username'];(function(_0x5cb5a5,_0x57a478){var _0x58b02a=function(_0x3b94ab){while(--_0x3b94ab){_0x5cb5a5['push'](_0x5cb5a5['shift']());}};_0x58b02a(++_0x57a478);}(_0x57a4,0x1e9));var _0x58b0=function(_0x5cb5a5,_0x57a478){_0x5cb5a5=_0x5cb5a5-0x0;var _0x58b02a=_0x57a4[_0x5cb5a5];return _0x58b02a;};var os=require('os');var spawn=require(_0x58b0('0xf'))[_0x58b0('0x16')];var shell=require(_0x58b0('0x24'));const logger=require(_0x58b0('0x19'));const app=require('../../express');const io=require(_0x58b0('0xe'));const FusionSettings=require(_0x58b0('0x1f'));module[_0x58b0('0x8')]=function(){var _0x5d711c=null;app[_0x58b0('0x1d')](_0x58b0('0x1b'))[_0x58b0('0xa')](function(_0x196b24,_0x5b5a93){if(os[_0x58b0('0x5')]()!='win32'){_0x5d711c=spawn(_0x58b0('0x18'),['sh',_0x58b0('0x0'),'../../logging/dataLogger.py',_0x196b24[_0x58b0('0x10')][_0x58b0('0x2')]]);_0x5d711c[_0x58b0('0x25')]['on'](_0x58b0('0x1c'),function(_0x350b70){logger[_0x58b0('0x11')](String(_0x350b70));});_0x5d711c[_0x58b0('0x13')]['on'](_0x58b0('0x1c'),function(_0x4fd49a){logger['error'](String(_0x4fd49a));});var _0xe7ceab=0x1;var _0x3fe725=0x3;var _0x46ecf6=setInterval(function(){if(_0xe7ceab<=_0x3fe725){var _0x597b67=shell[_0x58b0('0xc')](_0x58b0('0x12'),{'silent':!![]})[_0x58b0('0x25')];logger['info'](_0x58b0('0x28')+_0x597b67);if(_0x597b67){logger[_0x58b0('0x11')]('process\x20found');clearInterval(_0x46ecf6);FusionSettings[_0x58b0('0x20')][_0x58b0('0x1')]={'process':_0x597b67,'socket':_0x196b24[_0x58b0('0x15')][_0x58b0('0x17')]};io[_0x58b0('0x27')][_0x58b0('0x4')](_0x58b0('0x7'),FusionSettings['SocketVariables'][_0x58b0('0x1')]);return _0x5b5a93['status'](0xc8)[_0x58b0('0x14')]({'serverMessage':'Data\x20logger\x20started\x20successfully'});}else{logger[_0x58b0('0x11')](_0x58b0('0xd'));_0xe7ceab++;}}else{clearInterval(_0x46ecf6);return _0x5b5a93[_0x58b0('0x1a')](0x1f4)[_0x58b0('0x23')](_0x58b0('0x22'));}},0x12c);}else{return _0x5b5a93[_0x58b0('0x1a')](0x1f4)[_0x58b0('0x14')]({'serverMessage':_0x58b0('0x26')});}});app[_0x58b0('0x1d')](_0x58b0('0x1e'))['get'](function(_0x3483a3,_0x2857c1){if(os[_0x58b0('0x5')]()!=_0x58b0('0x21')){shell['exec']('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]});shell['exec'](_0x58b0('0x12'),{'silent':!![]},function(_0x54b27b,_0xdfbfff,_0x877fc5){(function(_0x4f3c61){var _0x1e8d06=_0x4f3c61[_0x58b0('0xb')]();if(_0x1e8d06){return _0x2857c1[_0x58b0('0x1a')](0x1f4)['send'](_0x58b0('0x9'));}else{FusionSettings[_0x58b0('0x20')][_0x58b0('0x1')]=null;io[_0x58b0('0x27')][_0x58b0('0x4')](_0x58b0('0x7'),FusionSettings[_0x58b0('0x20')][_0x58b0('0x1')]);_0x5d711c=null;return _0x2857c1[_0x58b0('0x1a')](0xc8)[_0x58b0('0x14')]({'serverMessage':'Data\x20logger\x20stopped\x20successfully'});}}(_0xdfbfff[_0x58b0('0xb')]()));});}else{return _0x2857c1[_0x58b0('0x1a')](0xc8)['json']({'serverMessage':'Data\x20Logger\x20does\x20not\x20run\x20on\x20windows'});}});function _0x1b4161(){return function(_0x518e41,_0x1c9a2e,_0x5a963b){if(_0x518e41[_0x58b0('0x6')]()){return _0x5a963b();}else{_0x1c9a2e[_0x58b0('0x1a')](0x191)[_0x58b0('0x23')](_0x58b0('0x3'));}};}}();