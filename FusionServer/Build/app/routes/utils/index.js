var _0x40c3=['platform','process\x20number\x20','stdout','child_process','Error\x20starting\x20data\x20logger','info','socketId','send','Unable\x20to\x20stop\x20data\x20logger','trim','user','stderr','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','fusion_dataLogger_running','../../global/fusionSettings','exports','emit','sockets','win32','User\x20Unauthenticated','route','SocketVariables','sudo','process\x20found','dataLogger_running','status','Data\x20logger\x20started\x20successfully','../../socket','body','get','json','sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)','../../utils/logger','data','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','exec','username','/api/util/dataLogger/start','/api/util/dataLogger/stop'];(function(_0x15ef93,_0x40c3e9){var _0x2cde33=function(_0x20fa36){while(--_0x20fa36){_0x15ef93['push'](_0x15ef93['shift']());}};_0x2cde33(++_0x40c3e9);}(_0x40c3,0xc0));var _0x2cde=function(_0x15ef93,_0x40c3e9){_0x15ef93=_0x15ef93-0x0;var _0x2cde33=_0x40c3[_0x15ef93];return _0x2cde33;};var os=require('os');var spawn=require(_0x2cde('0x6'))['spawn'];var shell=require('shelljs');const logger=require(_0x2cde('0x23'));const app=require('../../express');const io=require(_0x2cde('0x1e'));const FusionSettings=require(_0x2cde('0x11'));module[_0x2cde('0x12')]=function(){var _0x3ae933=null;app[_0x2cde('0x17')](_0x2cde('0x1'))['post'](function(_0x17345b,_0x53a1ea){if(os['platform']()!=_0x2cde('0x15')){_0x3ae933=spawn(_0x2cde('0x19'),['sh','../../logging/runRemi.sh','../../logging/dataLogger.py',_0x17345b[_0x2cde('0xd')][_0x2cde('0x0')]]);_0x3ae933[_0x2cde('0x5')]['on'](_0x2cde('0x24'),function(_0xbbeb8d){logger[_0x2cde('0x8')](String(_0xbbeb8d));});_0x3ae933[_0x2cde('0xe')]['on'](_0x2cde('0x24'),function(_0x377b9c){logger['error'](String(_0x377b9c));});var _0x25f887=0x1;var _0x2fa005=0x3;var _0x2ecc9c=setInterval(function(){if(_0x25f887<=_0x2fa005){var _0x39f0fe=shell[_0x2cde('0x26')]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]})[_0x2cde('0x5')];logger[_0x2cde('0x8')](_0x2cde('0x4')+_0x39f0fe);if(_0x39f0fe){logger[_0x2cde('0x8')](_0x2cde('0x1a'));clearInterval(_0x2ecc9c);FusionSettings[_0x2cde('0x18')][_0x2cde('0x10')]={'process':_0x39f0fe,'socket':_0x17345b[_0x2cde('0x1f')][_0x2cde('0x9')]};io[_0x2cde('0x14')][_0x2cde('0x13')](_0x2cde('0x1b'),FusionSettings[_0x2cde('0x18')][_0x2cde('0x10')]);return _0x53a1ea[_0x2cde('0x1c')](0xc8)['json']({'serverMessage':_0x2cde('0x1d')});}else{logger[_0x2cde('0x8')]('process\x20not\x20found');_0x25f887++;}}else{clearInterval(_0x2ecc9c);return _0x53a1ea[_0x2cde('0x1c')](0x1f4)[_0x2cde('0xa')](_0x2cde('0x7'));}},0x12c);}else{return _0x53a1ea[_0x2cde('0x1c')](0x1f4)[_0x2cde('0x21')]({'serverMessage':_0x2cde('0x25')});}});app[_0x2cde('0x17')](_0x2cde('0x2'))[_0x2cde('0x20')](function(_0x1860b1,_0x457a69){if(os[_0x2cde('0x3')]()!=_0x2cde('0x15')){shell[_0x2cde('0x26')](_0x2cde('0x22'),{'silent':!![]});shell[_0x2cde('0x26')](_0x2cde('0xf'),{'silent':!![]},function(_0x2f576c,_0x53d1c6,_0x4bdc8c){(function(_0x5654ff){var _0x441a32=_0x5654ff[_0x2cde('0xc')]();if(_0x441a32){return _0x457a69['status'](0x1f4)[_0x2cde('0xa')](_0x2cde('0xb'));}else{FusionSettings[_0x2cde('0x18')][_0x2cde('0x10')]=null;io[_0x2cde('0x14')][_0x2cde('0x13')](_0x2cde('0x1b'),FusionSettings[_0x2cde('0x18')]['fusion_dataLogger_running']);_0x3ae933=null;return _0x457a69[_0x2cde('0x1c')](0xc8)['json']({'serverMessage':'Data\x20logger\x20stopped\x20successfully'});}}(_0x53d1c6[_0x2cde('0xc')]()));});}else{return _0x457a69[_0x2cde('0x1c')](0xc8)[_0x2cde('0x21')]({'serverMessage':_0x2cde('0x25')});}});function _0x41b18e(){return function(_0x133855,_0x3ba5b8,_0x55f214){if(_0x133855['isAuthenticated']()){return _0x55f214();}else{_0x3ba5b8[_0x2cde('0x1c')](0x191)['send'](_0x2cde('0x16'));}};}}();