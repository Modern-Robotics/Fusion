var _0x5cb9=['shelljs','Unable\x20to\x20stop\x20data\x20logger','4575808uJqFeh','emit','../../global/fusionSettings','data','dataLogger_running','1141ioINyY','platform','User\x20Unauthenticated','status','160785xViyot','/api/util/dataLogger/stop','stdout','fusion_dataLogger_running','36443QsNPWw','778597sOZTMY','../../logging/dataLogger.py','info','username','sockets','win32','../../express','4827gsHEQw','process\x20not\x20found','Data\x20logger\x20started\x20successfully','129IdilwD','exports','1BynfSx','exec','1036SUYWuw','get','ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27','6YxHLGg','isAuthenticated','179937LUsqlr','/api/util/dataLogger/start','trim','send','stderr','json','SocketVariables','child_process','Data\x20Logger\x20does\x20not\x20run\x20on\x20windows','user','route','Data\x20logger\x20stopped\x20successfully','process\x20number\x20','sudo'];var _0x38dff7=_0x2508;function _0x2508(_0xbbd741,_0x56146a){return _0x2508=function(_0x5cb982,_0x2508ce){_0x5cb982=_0x5cb982-0x1b7;var _0x2fd888=_0x5cb9[_0x5cb982];return _0x2fd888;},_0x2508(_0xbbd741,_0x56146a);}(function(_0x4b6121,_0x5e9ee4){var _0x38d410=_0x2508;while(!![]){try{var _0x131cf2=-parseInt(_0x38d410(0x1bd))*parseInt(_0x38d410(0x1c4))+parseInt(_0x38d410(0x1bb))*-parseInt(_0x38d410(0x1b8))+-parseInt(_0x38d410(0x1dd))*parseInt(_0x38d410(0x1c2))+-parseInt(_0x38d410(0x1e2))+parseInt(_0x38d410(0x1e1))+parseInt(_0x38d410(0x1bf))*-parseInt(_0x38d410(0x1d9))+parseInt(_0x38d410(0x1d4));if(_0x131cf2===_0x5e9ee4)break;else _0x4b6121['push'](_0x4b6121['shift']());}catch(_0x4ab02e){_0x4b6121['push'](_0x4b6121['shift']());}}}(_0x5cb9,0xd7e18));var os=require('os'),spawn=require(_0x38dff7(0x1cb))['spawn'],shell=require(_0x38dff7(0x1d2));const logger=require('../../utils/logger'),app=require(_0x38dff7(0x1b7)),io=require('../../socket'),FusionSettings=require(_0x38dff7(0x1d6));module[_0x38dff7(0x1bc)]=function(){var _0x3e7502=_0x38dff7,_0x2b0276=null;app[_0x3e7502(0x1ce)](_0x3e7502(0x1c5))['post'](function(_0x571e0d,_0x4ee3b9){var _0x1e332f=_0x3e7502;if(os[_0x1e332f(0x1da)]()!='win32'){_0x2b0276=spawn(_0x1e332f(0x1d1),['sh','../../logging/runRemi.sh',_0x1e332f(0x1e3),_0x571e0d[_0x1e332f(0x1cd)][_0x1e332f(0x1e5)]]),_0x2b0276[_0x1e332f(0x1df)]['on']('data',function(_0x9ad4a1){logger['info'](String(_0x9ad4a1));}),_0x2b0276[_0x1e332f(0x1c8)]['on'](_0x1e332f(0x1d7),function(_0x54fc49){logger['error'](String(_0x54fc49));});var _0x265fd5=0x1,_0x2e2d55=0x3,_0x516b74=setInterval(function(){var _0x2e6aeb=_0x1e332f;if(_0x265fd5<=_0x2e2d55){var _0x496f7a=shell[_0x2e6aeb(0x1be)](_0x2e6aeb(0x1c1),{'silent':!![]})[_0x2e6aeb(0x1df)];logger[_0x2e6aeb(0x1e4)](_0x2e6aeb(0x1d0)+_0x496f7a);if(_0x496f7a)return logger[_0x2e6aeb(0x1e4)]('process\x20found'),clearInterval(_0x516b74),FusionSettings['SocketVariables'][_0x2e6aeb(0x1e0)]={'process':_0x496f7a,'socket':_0x571e0d['body']['socketId']},io[_0x2e6aeb(0x1e6)][_0x2e6aeb(0x1d5)](_0x2e6aeb(0x1d8),FusionSettings[_0x2e6aeb(0x1ca)][_0x2e6aeb(0x1e0)]),_0x4ee3b9['status'](0xc8)[_0x2e6aeb(0x1c9)]({'serverMessage':_0x2e6aeb(0x1ba)});else logger[_0x2e6aeb(0x1e4)](_0x2e6aeb(0x1b9)),_0x265fd5++;}else return clearInterval(_0x516b74),_0x4ee3b9[_0x2e6aeb(0x1dc)](0x1f4)[_0x2e6aeb(0x1c7)]('Error\x20starting\x20data\x20logger');},0x12c);}else return _0x4ee3b9[_0x1e332f(0x1dc)](0x1f4)[_0x1e332f(0x1c9)]({'serverMessage':_0x1e332f(0x1cc)});}),app['route'](_0x3e7502(0x1de))[_0x3e7502(0x1c0)](function(_0x44dc53,_0x5cd23d){var _0x3e2852=_0x3e7502;if(os[_0x3e2852(0x1da)]()!=_0x3e2852(0x1e7))shell['exec']('sudo\x20kill\x20$(ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27)',{'silent':!![]}),shell[_0x3e2852(0x1be)]('ps\x20aux\x20|\x20grep\x20\x27[s]udo\x20python\x20../../logging/dataLogger.py\x27\x20|\x20awk\x20\x27{print\x20$2}\x27',{'silent':!![]},function(_0xe5ee57,_0x5eefc9,_0x401476){var _0x561e9c=_0x3e2852;(function(_0x250429){var _0x206e92=_0x2508,_0x1d4d6d=_0x250429[_0x206e92(0x1c6)]();return _0x1d4d6d?_0x5cd23d[_0x206e92(0x1dc)](0x1f4)[_0x206e92(0x1c7)](_0x206e92(0x1d3)):(FusionSettings[_0x206e92(0x1ca)][_0x206e92(0x1e0)]=null,io[_0x206e92(0x1e6)][_0x206e92(0x1d5)](_0x206e92(0x1d8),FusionSettings[_0x206e92(0x1ca)][_0x206e92(0x1e0)]),_0x2b0276=null,_0x5cd23d[_0x206e92(0x1dc)](0xc8)[_0x206e92(0x1c9)]({'serverMessage':_0x206e92(0x1cf)}));}(_0x5eefc9[_0x561e9c(0x1c6)]()));});else return _0x5cd23d[_0x3e2852(0x1dc)](0xc8)[_0x3e2852(0x1c9)]({'serverMessage':_0x3e2852(0x1cc)});});function _0x5e6d38(){return function(_0x2dba16,_0x8fcad9,_0x452df3){var _0x4a0b6c=_0x2508;if(_0x2dba16[_0x4a0b6c(0x1c3)]())return _0x452df3();else _0x8fcad9[_0x4a0b6c(0x1dc)](0x191)['send'](_0x4a0b6c(0x1db));};}}();