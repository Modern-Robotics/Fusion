var _0x74a1=['</md-toolbar>','</md-menu-bar>','<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22basic\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_BASIC\x22\x20|\x20translate}}</div></md-menu-item>','join','unlinkSync','</md-menu-item>','<i\x20class=\x22far\x20fa-save\x20fa-lg\x20fa-fw\x22></i>','length','exec','exports','<md-button\x20ng-click=\x22DownloadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_EXPORT\x22></div></md-button>','send','file','</div>','utf8','User\x20Unauthenticated','ssh2','<md-button\x20ng-click=\x22OpenFileDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_OPEN\x22></div></md-button>','ENOENT','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_HELP\x22></button>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_FILE\x22></button>','StartBlocklyProgram','connected','Program\x20Deleted\x20Successfully','Program\x20Updated\x20Successfully','public/app/components/blockly/Examples','/api/blockly/stop','root','Program_Name','/Blockly/','<md-menu-item>','data','mkdirp','<i\x20class=\x22fas\x20fa-terminal\x20fa-lg\x20fa-fw\x22></i>','path','</md-menu-content>','children','Client','<i\x20class=\x22fas\x20fa-play\x20fa-lg\x20fa-fw\x22></i>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_NEW_FILE_TOOLTIP\x22></div></md-tooltip>','/api/blockly/start','filepath','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SHOW_CODE\x22></div></md-tooltip>',',\x20signal:\x20','<md-button\x20ng-click=\x22SaveAsDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE_AS\x22></div></md-button>','Program\x20Created\x20Successfully','An\x20error\x20occurred','stderr','<i\x20class=\x22fas\x20fa-stop\x20fa-lg\x20fa-fw\x22></i>','\x20</md-menu-item>','readdir','<md-button\x20class=\x22md-primary\x20fusion-ribbon-button\x22\x20ng-click=\x22runExistingBlocklyProgram()\x22>','scp2','<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22intermediate\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_INTERMEDIATE\x22\x20|\x20translate}}</div></md-menu-item>','Examples','<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowCode\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_CODE_WINDOW\x22\x20|\x20translate}}</div><div\x20translate=\x22\x22></div></md-menu-item>','<md-menu-item\x20class=\x22md-indent\x22>','<i\x20class=\x22fas\x20fa-external-link-square-alt\x20fa-lg\x20fa-fw\x22></i>','<md-menu-content\x20width=\x223\x22>','split','close','<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_VIEW_MODE\x22></div></md-button>','/api/blocklySamplePrograms','end','STDOUT:\x20','../../utils/logger','STDERR:\x20','<md-menu-content>','stat','error','<i\x20class=\x22far\x20fa-file-alt\x20fa-lg\x20fa-fw\x22></i>','directory','/api/blockly/:Program_Name','name','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleProgramOutput()\x22>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_STOP_FILE_TOOLTIP\x22></div></md-tooltip>','readFile','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22SaveBlocklyFile()\x22>','get','\x27)\x22>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_TOGGLE_OUTPUT\x22></div></md-tooltip>','body','filename','<md-button\x20class=\x22md-warn\x20fusion-ribbon-button\x22\x20ng-click=\x22stopRunningBlocklyProgram()\x22>','scp','\x27,\x27','<md-button\x20class=\x22fusion-ribbon-button\x20tooltip\x22\x20ng-click=\x22NewBlocklyFile()\x22>','c3:root@172.16.0.1:/home/c3/FusionFilesystem/','File\x20Does\x20Not\x20Exist.','Error\x20loading\x20example','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_IN_EDITOR\x22></div></md-tooltip>','<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_NEW\x22></div></md-button>','message','writeFile','post','utf-8','status','<md-menu>','directory-tree','</md-menu>','json','<i\x20class=\x22far\x20fa-folder-open\x20fa-lg\x20fa-fw\x22></i>','params','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_RUN_FILE_TOOLTIP\x22></div></md-tooltip>','rm\x20/home/c3/FusionFilesystem/','<md-menu-bar>','/api/blockly','Stream\x20::\x20close\x20::\x20code:\x20','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_FILE_TOOLTIP\x22></div></md-tooltip>','info','</md-button>','<md-menu-divider></md-menu-divider>','<div\x20class=\x22fusion-toolbar-container\x22>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenFileDialog(ev)\x22>','<i\x20class=\x22fas\x20fa-gamepad\x20fa-lg\x20fa-fw\x22></i>','<md-button\x20ng-click=\x22DeleteDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_DELETE\x22></div></md-button>','username','A\x20file\x20with\x20that\x20name\x20already\x20exists','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SAVE_FILE_TOOLTIP\x22></div></md-tooltip>','type','constructor','code','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_MANAGE\x22></button>','<md-button\x20ng-click=\x22SaveBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE\x22></div></md-button>','<div\x20class=\x22fusion-ribbon\x22>','../../classroom/connection','user'];(function(_0xf736fe,_0x74a1f2){var _0x55256f=function(_0x28e41d){while(--_0x28e41d){_0xf736fe['push'](_0xf736fe['shift']());}};_0x55256f(++_0x74a1f2);}(_0x74a1,0xa4));var _0x5525=function(_0xf736fe,_0x74a1f2){_0xf736fe=_0xf736fe-0x0;var _0x55256f=_0x74a1[_0xf736fe];return _0x55256f;};var dirTree=require(_0x5525('0x3d'));var SCP=require(_0x5525('0xf'));var SSH=require(_0x5525('0x6a'))[_0x5525('0x0')];var path=require(_0x5525('0x7c'));const classroomConnection=require(_0x5525('0x58'));const logger=require(_0x5525('0x1c'));const app=require('../../express');const fs=require('fs');const mkdirp=require(_0x5525('0x7a'));const fusionProgram=require('../../fusionProgram');var examplesHtml='';var examplesFilePath=_0x5525('0x73');var tree=dirTree(examplesFilePath,{'extensions':/\.blk$/});module[_0x5525('0x63')]=function(){app[_0x5525('0x29')](_0x5525('0x45'),_0x16d7c2(),function(_0x561447,_0x119d0c){var _0x2941e0=_0x561447[_0x5525('0x59')][_0x5525('0x4')]+'/Blockly';mkdirp(_0x2941e0,function(_0x4c3edb){if(_0x4c3edb)return _0x119d0c[_0x5525('0x3b')](0x1f4)[_0x5525('0x65')](_0x4c3edb);fs[_0x5525('0xd')](_0x2941e0,function(_0x4b9a09,_0x3a1a3f){if(_0x4b9a09)return _0x119d0c['status'](0x1f4)[_0x5525('0x65')](_0x4b9a09);return _0x119d0c[_0x5525('0x3b')](0xc8)[_0x5525('0x65')](_0x3a1a3f);});});});app[_0x5525('0x39')](_0x5525('0x45'),_0x16d7c2(),function(_0x377468,_0x111878){fs[_0x5525('0x1f')](_0x377468['user'][_0x5525('0x4')]+_0x5525('0x77')+_0x377468['body']['filename'],function(_0x3b0731,_0x551c35){if(_0x3b0731==null){return _0x111878[_0x5525('0x3b')](0x1f4)[_0x5525('0x3f')]({'serverMessage':_0x5525('0x50')});}else if(_0x3b0731[_0x5525('0x54')]==_0x5525('0x6c')){fs[_0x5525('0x38')](_0x377468['user'][_0x5525('0x4')]+_0x5525('0x77')+_0x377468[_0x5525('0x2c')]['filename'],_0x377468['body'][_0x5525('0x54')],function(_0x16304a){if(_0x16304a)return _0x111878['status'](0x1f4)[_0x5525('0x3f')]({'serverMessage':_0x16304a});if(classroomConnection[_0x5525('0x70')]){_0x2cfc01(_0x377468[_0x5525('0x59')][_0x5525('0x4')]+_0x5525('0x77')+_0x377468[_0x5525('0x2c')][_0x5525('0x2d')],_0x377468[_0x5525('0x59')][_0x5525('0x4f')]+_0x5525('0x77')+_0x377468[_0x5525('0x2c')][_0x5525('0x2d')]);}return _0x111878[_0x5525('0x3b')](0xc8)[_0x5525('0x3f')]({'serverMessage':_0x5525('0x8')});});}else{return _0x111878[_0x5525('0x3b')](0x1f4)[_0x5525('0x3f')]({'serverMessage':_0x5525('0x9')});}});});app[_0x5525('0x29')]('/api/blockly/:Program_Name',_0x16d7c2(),function(_0x4c9c42,_0x4ad652){fs[_0x5525('0x27')](_0x4c9c42[_0x5525('0x59')]['filepath']+_0x5525('0x77')+_0x4c9c42['params'][_0x5525('0x76')],_0x5525('0x68'),function(_0xc0903f,_0x916bc0){if(_0xc0903f)_0x4ad652[_0x5525('0x3b')](0x1f4)[_0x5525('0x65')](_0xc0903f);_0x4ad652['status'](0xc8)['send'](_0x916bc0);});});app['put']('/api/blockly/:Program_Name',_0x16d7c2(),function(_0x3f00b3,_0x4ee451){fs['readFile'](_0x3f00b3[_0x5525('0x59')][_0x5525('0x4')]+'/Blockly/'+_0x3f00b3[_0x5525('0x41')]['Program_Name'],'utf8',function(_0x2340b2,_0x1c6a79){if(_0x2340b2)return _0x4ee451[_0x5525('0x3b')](0x1f4)[_0x5525('0x65')](_0x2340b2);fs[_0x5525('0x38')](_0x3f00b3['user'][_0x5525('0x4')]+_0x5525('0x77')+_0x3f00b3[_0x5525('0x41')][_0x5525('0x76')],_0x3f00b3[_0x5525('0x2c')]['code'],_0x5525('0x3a'),function(_0x3730f1){if(_0x3730f1)return _0x4ee451[_0x5525('0x3b')](0x1f4)[_0x5525('0x65')](_0x3730f1);if(classroomConnection[_0x5525('0x70')]){_0x5ba0de(_0x3f00b3[_0x5525('0x59')][_0x5525('0x4')]+_0x5525('0x77')+_0x3f00b3['params'][_0x5525('0x76')],_0x3f00b3[_0x5525('0x59')]['username']+'/Blockly/'+_0x3f00b3[_0x5525('0x41')]['Program_Name']);}return _0x4ee451['status'](0xc8)[_0x5525('0x3f')]({'serverMessage':_0x5525('0x72')});});});});app['delete'](_0x5525('0x23'),_0x16d7c2(),function(_0x316a2c,_0xcddf15){fs[_0x5525('0x27')](_0x316a2c['user'][_0x5525('0x4')]+'/Blockly/'+_0x316a2c[_0x5525('0x41')]['Program_Name'],_0x5525('0x68'),function(_0x373242,_0x19dff9){if(_0x373242)return _0xcddf15[_0x5525('0x3b')](0x1f4)['json']({'serverMessage':_0x5525('0x33')});fs[_0x5525('0x5e')](_0x316a2c['user'][_0x5525('0x4')]+_0x5525('0x77')+_0x316a2c['params'][_0x5525('0x76')]);if(classroomConnection['connected']){_0x103dd9(_0x316a2c[_0x5525('0x59')][_0x5525('0x4f')]+_0x5525('0x77')+_0x316a2c[_0x5525('0x41')]['Program_Name']);}return _0xcddf15[_0x5525('0x3b')](0xc8)[_0x5525('0x3f')]({'serverMessage':_0x5525('0x71')});});});app[_0x5525('0x39')](_0x5525('0x3'),_0x16d7c2(),function(_0x1c8d3c,_0x1063d3){var _0x1cd4dd=fusionProgram[_0x5525('0x6f')](_0x1c8d3c[_0x5525('0x2c')]['code'],_0x1c8d3c[_0x5525('0x59')][_0x5525('0x4f')],_0x1c8d3c['body']['socketId']);return _0x1063d3[_0x5525('0x3b')](_0x1cd4dd['status'])[_0x5525('0x3f')]({'serverMessage':_0x1cd4dd[_0x5525('0x37')]});});app[_0x5525('0x39')](_0x5525('0x74'),_0x16d7c2(),function(_0x2e24af,_0x58d6d4){var _0x2aaeb4=fusionProgram['StopProgram'](_0x2e24af[_0x5525('0x59')][_0x5525('0x4f')]);return _0x58d6d4[_0x5525('0x3b')](_0x2aaeb4[_0x5525('0x3b')])[_0x5525('0x3f')]({'serverMessage':_0x2aaeb4[_0x5525('0x37')]});});app['post'](_0x5525('0x19'),function(_0x190d68,_0x27f98c){fs['readFile'](_0x190d68[_0x5525('0x2c')][_0x5525('0x4')],_0x5525('0x68'),function(_0x418ec7,_0x514967){if(_0x418ec7)return _0x27f98c[_0x5525('0x3b')](0x1f4)[_0x5525('0x65')](_0x5525('0x34'));return _0x27f98c['status'](0xc8)[_0x5525('0x65')](_0x514967);});});app['get']('/api/blocklyToolbar',function(_0x78e02,_0x39732f){var _0x461f66=_0x5525('0x4b')+'<md-toolbar\x20class=\x22md-menu-toolbar\x22\x20ng-cloak>'+'<div\x20layout=\x22row\x22>'+'<div\x20class=\x22fusion-toolbar\x22>'+'<h2\x20class=\x22md-toolbar-tools\x22\x20ng-class=\x22isExampleFile(SelectedFile)\x22>{{displaySaveSymbol(SelectedFile.NeedsSaving)}}\x20{{SelectedFile.Name}}</h2>'+'<div>'+_0x5525('0x44')+_0x5525('0x3c')+_0x5525('0x6e')+_0x5525('0x1e')+_0x5525('0x78')+_0x5525('0x36')+_0x5525('0x5f')+_0x5525('0x78')+_0x5525('0x6b')+'</md-menu-item>'+_0x5525('0x78')+'<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_CLOSE\x22></div></md-button>'+'</md-menu-item>'+_0x5525('0x4a')+_0x5525('0x78')+_0x5525('0x56')+_0x5525('0xc')+'<md-menu-item>'+_0x5525('0x7')+'</md-menu-item>'+_0x5525('0x4a')+_0x5525('0x78')+_0x5525('0x4e')+_0x5525('0x5f')+_0x5525('0x7d')+_0x5525('0x3e')+'<md-menu>'+'<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_VIEW\x22></button>'+_0x5525('0x1e')+_0x5525('0x13')+_0x5525('0x3c')+_0x5525('0x18')+_0x5525('0x15')+_0x5525('0x5c')+_0x5525('0x10')+'</md-menu-content>'+_0x5525('0x3e')+'\x20</md-menu-item>'+_0x5525('0x4a')+'<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowConsole\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_PROGRAM_OUTPUT\x22\x20|\x20translate}}</div></md-menu-item>'+_0x5525('0x12')+'</md-menu-content>'+_0x5525('0x3e')+_0x5525('0x3c')+_0x5525('0x55')+_0x5525('0x1e')+'<md-menu-item>'+'<md-button\x20ng-click=\x22UploadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_IMPORT\x22></div></md-button>'+_0x5525('0x5f')+_0x5525('0x78')+_0x5525('0x64')+_0x5525('0x5f')+_0x5525('0x7d')+_0x5525('0x3e')+_0x5525('0x3c')+_0x5525('0x6d')+_0x5525('0x1e')+examplesHtml+_0x5525('0x78')+'<md-button\x20ng-click=\x22takeToBlocklyDocs()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_DOCUMENTATION\x22></div></md-button>'+_0x5525('0x5f')+_0x5525('0x7d')+_0x5525('0x3e')+_0x5525('0x5b')+_0x5525('0x67')+'</div>'+_0x5525('0x67')+_0x5525('0x57')+_0x5525('0x31')+_0x5525('0x2')+_0x5525('0x21')+'</md-button>'+_0x5525('0x4c')+_0x5525('0x47')+_0x5525('0x40')+'</md-button>'+_0x5525('0x28')+_0x5525('0x51')+_0x5525('0x60')+_0x5525('0x49')+_0x5525('0xe')+_0x5525('0x42')+_0x5525('0x1')+_0x5525('0x49')+_0x5525('0x2e')+_0x5525('0x26')+_0x5525('0xb')+_0x5525('0x49')+_0x5525('0x25')+_0x5525('0x2b')+_0x5525('0x7b')+_0x5525('0x49')+'<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleCodeWindow()\x22>'+_0x5525('0x5')+'<i\x20class=\x22fas\x20fa-code\x20fa-lg\x20fa-fw\x22></i>'+_0x5525('0x49')+'<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenVirtualGamepad()\x22\x20ng-disabled=\x22DisableVirtualGamepad()\x22>'+'<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_GAMEPAD_TOOLTIP\x22></div></md-tooltip>'+_0x5525('0x4d')+_0x5525('0x49')+'<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22openInEditor()\x22>'+_0x5525('0x35')+_0x5525('0x14')+_0x5525('0x49')+'</div>'+_0x5525('0x5a')+'</div>';return _0x39732f[_0x5525('0x3b')](0xc8)[_0x5525('0x65')](_0x461f66);});function _0x16d7c2(){return function(_0x3c394c,_0x5b9250,_0x28ee15){if(_0x3c394c['isAuthenticated']()){return _0x28ee15();}else{return _0x5b9250['status'](0x191)[_0x5525('0x65')](_0x5525('0x69'));}};}function _0x2cfc01(_0x7281a8,_0x3a3a5d){SCP[_0x5525('0x2f')](_0x7281a8,_0x5525('0x32')+_0x3a3a5d,function(_0x504c68){logger[_0x5525('0x20')](_0x504c68);});}function _0x5ba0de(_0x3c3adb,_0x2fa1f3){SCP['scp'](_0x3c3adb,_0x5525('0x32')+_0x2fa1f3,function(_0x5da5d7){logger['error'](_0x5da5d7);});}function _0x103dd9(_0x43e1a1){var _0x237835=new SSH();_0x237835['on']('ready',function(){logger[_0x5525('0x48')]('Client\x20::\x20ready');_0x237835[_0x5525('0x62')](_0x5525('0x43')+_0x43e1a1,function(_0xc3dcb9,_0x2cf512){if(_0xc3dcb9)throw _0xc3dcb9;_0x2cf512['on'](_0x5525('0x17'),function(_0x321cfb,_0x5178be){logger['info'](_0x5525('0x46')+_0x321cfb+_0x5525('0x6')+_0x5178be);_0x237835[_0x5525('0x1a')]();})['on'](_0x5525('0x79'),function(_0x2f3df7){logger['info'](_0x5525('0x1b')+_0x2f3df7);})[_0x5525('0xa')]['on'](_0x5525('0x79'),function(_0x2a3964){logger[_0x5525('0x20')](_0x5525('0x1d')+_0x2a3964);});});})['connect']({'host':'172.16.0.1','port':0x16,'username':'c3','password':_0x5525('0x75')});}function _0x373191(_0x45d078){if(_0x45d078[_0x5525('0x52')]==_0x5525('0x22')){if(_0x45d078[_0x5525('0x24')]==_0x5525('0x11')){examplesHtml+=_0x5525('0x3c');examplesHtml+='<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_EXAMPLES\x22></div></md-button>';examplesHtml+='<md-menu-content>';_0x373191(_0x45d078[_0x5525('0x7e')]);examplesHtml+=_0x5525('0x7d');examplesHtml+=_0x5525('0x3e');}else{examplesHtml+=_0x5525('0x78');examplesHtml+=_0x5525('0x3c');examplesHtml+='<md-button\x20ng-click=\x22$mdMenu.open()\x22>'+_0x45d078[_0x5525('0x24')]+_0x5525('0x49');examplesHtml+=_0x5525('0x1e');_0x373191(_0x45d078[_0x5525('0x7e')]);examplesHtml+=_0x5525('0x7d');examplesHtml+='</md-menu>';examplesHtml+='</md-menu-item>';}}else if(_0x45d078[_0x5525('0x53')]===Array){for(var _0x23502a=0x0;_0x23502a<_0x45d078[_0x5525('0x61')];_0x23502a++){_0x373191(_0x45d078[_0x23502a]);}}else if(_0x45d078[_0x5525('0x52')]==_0x5525('0x66')){examplesHtml+='<md-menu-item>';examplesHtml+='<md-button\x20ng-click=\x22openExampleProgram(\x27'+_0x45d078[_0x5525('0x24')]+_0x5525('0x30')+_0x45d078[_0x5525('0x7c')][_0x5525('0x16')]('\x5c')[_0x5525('0x5d')]('/')+_0x5525('0x2a')+_0x45d078[_0x5525('0x24')]+_0x5525('0x49');examplesHtml+=_0x5525('0x5f');}}_0x373191(tree);}();