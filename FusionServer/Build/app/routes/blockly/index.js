var _0x4e52=['post','ready','body','Program\x20Updated\x20Successfully','<div\x20class=\x22fusion-ribbon\x22>','/Blockly','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleCodeWindow()\x22>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_STOP_FILE_TOOLTIP\x22></div></md-tooltip>','STDOUT:\x20','join','<md-button\x20ng-click=\x22SaveAsDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE_AS\x22></div></md-button>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleProgramOutput()\x22>','json','StopProgram','<div\x20class=\x22fusion-toolbar\x22>','<md-menu-item>','<md-button\x20ng-click=\x22$mdMenu.open()\x22>','exec','<md-button\x20ng-click=\x22UploadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_IMPORT\x22></div></md-button>','c3:root@172.16.0.1:/home/c3/FusionFilesystem/','<md-button\x20ng-click=\x22DeleteDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_DELETE\x22></div></md-button>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_FILE\x22></button>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_TOGGLE_OUTPUT\x22></div></md-tooltip>','put','message','Program\x20Created\x20Successfully','filepath','Examples','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_VIEW\x22></button>','directory','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenFileDialog(ev)\x22>','unlinkSync','<md-button\x20ng-click=\x22openExampleProgram(\x27','<md-menu-content>','</md-menu-item>','constructor','</md-button>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_HELP\x22></button>','utf-8','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SHOW_CODE\x22></div></md-tooltip>','connect','username','info','connected','public/app/components/blockly/Examples','/api/blockly/start','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_RUN_FILE_TOOLTIP\x22></div></md-tooltip>','isAuthenticated','stderr','readFile','/api/blocklyToolbar','socketId','<md-menu-item\x20class=\x22md-indent\x22>','<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22intermediate\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_INTERMEDIATE\x22\x20|\x20translate}}</div></md-menu-item>','scp2','error','<div>','children','</md-menu>','/Blockly/','<i\x20class=\x22far\x20fa-save\x20fa-lg\x20fa-fw\x22></i>','<md-menu>','<md-button\x20ng-click=\x22DownloadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_EXPORT\x22></div></md-button>','../../classroom/connection','status','<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowCode\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_CODE_WINDOW\x22\x20|\x20translate}}</div><div\x20translate=\x22\x22></div></md-menu-item>','<md-button\x20class=\x22md-primary\x20fusion-ribbon-button\x22\x20ng-click=\x22runExistingBlocklyProgram()\x22>','Error\x20loading\x20example','root','<i\x20class=\x22fas\x20fa-play\x20fa-lg\x20fa-fw\x22></i>','filename','<i\x20class=\x22fas\x20fa-external-link-square-alt\x20fa-lg\x20fa-fw\x22></i>','<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_NEW\x22></div></md-button>','\x20</md-menu-item>','/api/blocklySamplePrograms','A\x20file\x20with\x20that\x20name\x20already\x20exists','ENOENT','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_NEW_FILE_TOOLTIP\x22></div></md-tooltip>','An\x20error\x20occurred','<md-toolbar\x20class=\x22md-menu-toolbar\x22\x20ng-cloak>','utf8','user','send','STDERR:\x20','params','<div\x20layout=\x22row\x22>',',\x20signal:\x20','rm\x20/home/c3/FusionFilesystem/','</div>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_GAMEPAD_TOOLTIP\x22></div></md-tooltip>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenVirtualGamepad()\x22\x20ng-disabled=\x22DisableVirtualGamepad()\x22>','readdir','name','</md-menu-content>','type','/api/blockly','<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowConsole\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_PROGRAM_OUTPUT\x22\x20|\x20translate}}</div></md-menu-item>','<md-button\x20ng-click=\x22SaveBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE\x22></div></md-button>','writeFile','172.16.0.1','</md-toolbar>','Program_Name','file','delete','../../utils/logger','User\x20Unauthenticated','\x27,\x27','<md-menu-bar>','get','<i\x20class=\x22far\x20fa-file-alt\x20fa-lg\x20fa-fw\x22></i>','File\x20Does\x20Not\x20Exist.','<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_CLOSE\x22></div></md-button>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_MANAGE\x22></button>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22SaveBlocklyFile()\x22>','<md-button\x20class=\x22fusion-ribbon-button\x20tooltip\x22\x20ng-click=\x22NewBlocklyFile()\x22>','split','/api/blockly/:Program_Name','/api/blockly/stop','close','data','mkdirp','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_IN_EDITOR\x22></div></md-tooltip>','directory-tree','ssh2','<md-menu-divider></md-menu-divider>','path','code','<i\x20class=\x22fas\x20fa-terminal\x20fa-lg\x20fa-fw\x22></i>'];(function(_0x4cc70f,_0x4e5228){var _0xe9142b=function(_0x977650){while(--_0x977650){_0x4cc70f['push'](_0x4cc70f['shift']());}};_0xe9142b(++_0x4e5228);}(_0x4e52,0x1a6));var _0xe914=function(_0x4cc70f,_0x4e5228){_0x4cc70f=_0x4cc70f-0x0;var _0xe9142b=_0x4e52[_0x4cc70f];return _0xe9142b;};var dirTree=require(_0xe914('0x54'));var SCP=require(_0xe914('0x10'));var SSH=require(_0xe914('0x55'))['Client'];var path=require(_0xe914('0x57'));const classroomConnection=require(_0xe914('0x19'));const logger=require(_0xe914('0x42'));const app=require('../../express');const fs=require('fs');const mkdirp=require(_0xe914('0x52'));const fusionProgram=require('../../fusionProgram');var examplesHtml='';var examplesFilePath=_0xe914('0x6');var tree=dirTree(examplesFilePath,{'extensions':/\.blk$/});module['exports']=function(){app[_0xe914('0x46')](_0xe914('0x39'),_0xc9d0(),function(_0x3ae006,_0x226a79){var _0x252219=_0x3ae006[_0xe914('0x2b')][_0xe914('0x74')]+_0xe914('0x5f');mkdirp(_0x252219,function(_0x296500){if(_0x296500)return _0x226a79[_0xe914('0x1a')](0x1f4)[_0xe914('0x2c')](_0x296500);fs[_0xe914('0x35')](_0x252219,function(_0x5b0f08,_0x140d7b){if(_0x5b0f08)return _0x226a79[_0xe914('0x1a')](0x1f4)[_0xe914('0x2c')](_0x5b0f08);return _0x226a79['status'](0xc8)[_0xe914('0x2c')](_0x140d7b);});});});app['post'](_0xe914('0x39'),_0xc9d0(),function(_0x4e4179,_0x13ca8e){fs['stat'](_0x4e4179[_0xe914('0x2b')][_0xe914('0x74')]+_0xe914('0x15')+_0x4e4179[_0xe914('0x5c')]['filename'],function(_0xfa8aa0,_0x1cccfe){if(_0xfa8aa0==null){return _0x13ca8e[_0xe914('0x1a')](0x1f4)[_0xe914('0x66')]({'serverMessage':_0xe914('0x25')});}else if(_0xfa8aa0[_0xe914('0x58')]==_0xe914('0x26')){fs[_0xe914('0x3c')](_0x4e4179[_0xe914('0x2b')][_0xe914('0x74')]+'/Blockly/'+_0x4e4179['body'][_0xe914('0x20')],_0x4e4179[_0xe914('0x5c')][_0xe914('0x58')],function(_0x15d9e5){if(_0x15d9e5)return _0x13ca8e[_0xe914('0x1a')](0x1f4)[_0xe914('0x66')]({'serverMessage':_0x15d9e5});if(classroomConnection['connected']){_0x12694b(_0x4e4179[_0xe914('0x2b')][_0xe914('0x74')]+_0xe914('0x15')+_0x4e4179['body'][_0xe914('0x20')],_0x4e4179[_0xe914('0x2b')][_0xe914('0x3')]+'/Blockly/'+_0x4e4179['body'][_0xe914('0x20')]);}return _0x13ca8e[_0xe914('0x1a')](0xc8)[_0xe914('0x66')]({'serverMessage':_0xe914('0x73')});});}else{return _0x13ca8e[_0xe914('0x1a')](0x1f4)[_0xe914('0x66')]({'serverMessage':_0xe914('0x28')});}});});app[_0xe914('0x46')](_0xe914('0x4e'),_0xc9d0(),function(_0x471c76,_0x41e3e9){fs['readFile'](_0x471c76['user'][_0xe914('0x74')]+'/Blockly/'+_0x471c76['params'][_0xe914('0x3f')],'utf8',function(_0x20c40b,_0x27fabf){if(_0x20c40b)_0x41e3e9[_0xe914('0x1a')](0x1f4)[_0xe914('0x2c')](_0x20c40b);_0x41e3e9['status'](0xc8)[_0xe914('0x2c')](_0x27fabf);});});app[_0xe914('0x71')](_0xe914('0x4e'),_0xc9d0(),function(_0x3dcf43,_0x39da92){fs[_0xe914('0xb')](_0x3dcf43[_0xe914('0x2b')][_0xe914('0x74')]+'/Blockly/'+_0x3dcf43['params'][_0xe914('0x3f')],_0xe914('0x2a'),function(_0x1fa21e,_0x2b858d){if(_0x1fa21e)return _0x39da92['status'](0x1f4)['send'](_0x1fa21e);fs['writeFile'](_0x3dcf43[_0xe914('0x2b')]['filepath']+_0xe914('0x15')+_0x3dcf43['params'][_0xe914('0x3f')],_0x3dcf43['body'][_0xe914('0x58')],_0xe914('0x0'),function(_0x2ef1b3){if(_0x2ef1b3)return _0x39da92[_0xe914('0x1a')](0x1f4)[_0xe914('0x2c')](_0x2ef1b3);if(classroomConnection[_0xe914('0x5')]){_0x17249a(_0x3dcf43[_0xe914('0x2b')][_0xe914('0x74')]+'/Blockly/'+_0x3dcf43[_0xe914('0x2e')]['Program_Name'],_0x3dcf43['user'][_0xe914('0x3')]+_0xe914('0x15')+_0x3dcf43[_0xe914('0x2e')][_0xe914('0x3f')]);}return _0x39da92[_0xe914('0x1a')](0xc8)[_0xe914('0x66')]({'serverMessage':_0xe914('0x5d')});});});});app[_0xe914('0x41')](_0xe914('0x4e'),_0xc9d0(),function(_0x2aab79,_0x5e803c){fs['readFile'](_0x2aab79[_0xe914('0x2b')]['filepath']+_0xe914('0x15')+_0x2aab79[_0xe914('0x2e')]['Program_Name'],_0xe914('0x2a'),function(_0x2b8909,_0x57000d){if(_0x2b8909)return _0x5e803c['status'](0x1f4)[_0xe914('0x66')]({'serverMessage':_0xe914('0x48')});fs[_0xe914('0x79')](_0x2aab79[_0xe914('0x2b')][_0xe914('0x74')]+_0xe914('0x15')+_0x2aab79[_0xe914('0x2e')][_0xe914('0x3f')]);if(classroomConnection['connected']){_0xbdb14(_0x2aab79[_0xe914('0x2b')][_0xe914('0x3')]+_0xe914('0x15')+_0x2aab79['params'][_0xe914('0x3f')]);}return _0x5e803c[_0xe914('0x1a')](0xc8)['json']({'serverMessage':'Program\x20Deleted\x20Successfully'});});});app['post'](_0xe914('0x7'),_0xc9d0(),function(_0x201900,_0x4b310d){var _0x5772f8=fusionProgram['StartBlocklyProgram'](_0x201900[_0xe914('0x5c')]['code'],_0x201900['user']['username'],_0x201900[_0xe914('0x5c')][_0xe914('0xd')]);return _0x4b310d[_0xe914('0x1a')](_0x5772f8['status'])[_0xe914('0x66')]({'serverMessage':_0x5772f8[_0xe914('0x72')]});});app[_0xe914('0x5a')](_0xe914('0x4f'),_0xc9d0(),function(_0x21e7da,_0x15635b){var _0x2af946=fusionProgram[_0xe914('0x67')](_0x21e7da['user'][_0xe914('0x3')]);return _0x15635b['status'](_0x2af946[_0xe914('0x1a')])[_0xe914('0x66')]({'serverMessage':_0x2af946[_0xe914('0x72')]});});app[_0xe914('0x5a')](_0xe914('0x24'),function(_0x51315e,_0x525c25){fs[_0xe914('0xb')](_0x51315e[_0xe914('0x5c')][_0xe914('0x74')],_0xe914('0x2a'),function(_0x2d03d9,_0x1ab9bd){if(_0x2d03d9)return _0x525c25[_0xe914('0x1a')](0x1f4)[_0xe914('0x2c')](_0xe914('0x1d'));return _0x525c25['status'](0xc8)[_0xe914('0x2c')](_0x1ab9bd);});});app[_0xe914('0x46')](_0xe914('0xc'),function(_0x5de109,_0x2bb3e7){var _0x33c250='<div\x20class=\x22fusion-toolbar-container\x22>'+_0xe914('0x29')+_0xe914('0x2f')+_0xe914('0x68')+'<h2\x20class=\x22md-toolbar-tools\x22\x20ng-class=\x22isExampleFile(SelectedFile)\x22>{{displaySaveSymbol(SelectedFile.NeedsSaving)}}\x20{{SelectedFile.Name}}</h2>'+_0xe914('0x12')+_0xe914('0x45')+'<md-menu>'+_0xe914('0x6f')+_0xe914('0x7b')+_0xe914('0x69')+_0xe914('0x22')+_0xe914('0x7c')+'<md-menu-item>'+'<md-button\x20ng-click=\x22OpenFileDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_OPEN\x22></div></md-button>'+_0xe914('0x7c')+_0xe914('0x69')+_0xe914('0x49')+_0xe914('0x7c')+_0xe914('0x56')+'<md-menu-item>'+_0xe914('0x3b')+'\x20</md-menu-item>'+_0xe914('0x69')+_0xe914('0x64')+'</md-menu-item>'+_0xe914('0x56')+'<md-menu-item>'+_0xe914('0x6e')+'</md-menu-item>'+_0xe914('0x37')+_0xe914('0x14')+_0xe914('0x17')+_0xe914('0x76')+_0xe914('0x7b')+_0xe914('0xe')+_0xe914('0x17')+'<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_VIEW_MODE\x22></div></md-button>'+'<md-menu-content\x20width=\x223\x22>'+'<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22basic\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_BASIC\x22\x20|\x20translate}}</div></md-menu-item>'+_0xe914('0xf')+_0xe914('0x37')+_0xe914('0x14')+_0xe914('0x23')+_0xe914('0x56')+_0xe914('0x3a')+_0xe914('0x1b')+_0xe914('0x37')+_0xe914('0x14')+_0xe914('0x17')+_0xe914('0x4a')+_0xe914('0x7b')+'<md-menu-item>'+_0xe914('0x6c')+_0xe914('0x7c')+_0xe914('0x69')+_0xe914('0x18')+_0xe914('0x7c')+'</md-menu-content>'+_0xe914('0x14')+'<md-menu>'+_0xe914('0x7f')+_0xe914('0x7b')+examplesHtml+_0xe914('0x69')+'<md-button\x20ng-click=\x22takeToBlocklyDocs()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_DOCUMENTATION\x22></div></md-button>'+_0xe914('0x7c')+_0xe914('0x37')+'</md-menu>'+'</md-menu-bar>'+_0xe914('0x32')+_0xe914('0x32')+_0xe914('0x32')+_0xe914('0x5e')+_0xe914('0x4c')+_0xe914('0x27')+_0xe914('0x47')+_0xe914('0x7e')+_0xe914('0x78')+'<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_FILE_TOOLTIP\x22></div></md-tooltip>'+'<i\x20class=\x22far\x20fa-folder-open\x20fa-lg\x20fa-fw\x22></i>'+_0xe914('0x7e')+_0xe914('0x4b')+'<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SAVE_FILE_TOOLTIP\x22></div></md-tooltip>'+_0xe914('0x16')+'</md-button>'+_0xe914('0x1c')+_0xe914('0x8')+_0xe914('0x1f')+_0xe914('0x7e')+'<md-button\x20class=\x22md-warn\x20fusion-ribbon-button\x22\x20ng-click=\x22stopRunningBlocklyProgram()\x22>'+_0xe914('0x61')+'<i\x20class=\x22fas\x20fa-stop\x20fa-lg\x20fa-fw\x22></i>'+'</md-button>'+_0xe914('0x65')+_0xe914('0x70')+_0xe914('0x59')+_0xe914('0x7e')+_0xe914('0x60')+_0xe914('0x1')+'<i\x20class=\x22fas\x20fa-code\x20fa-lg\x20fa-fw\x22></i>'+_0xe914('0x7e')+_0xe914('0x34')+_0xe914('0x33')+'<i\x20class=\x22fas\x20fa-gamepad\x20fa-lg\x20fa-fw\x22></i>'+_0xe914('0x7e')+'<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22openInEditor()\x22>'+_0xe914('0x53')+_0xe914('0x21')+_0xe914('0x7e')+'</div>'+_0xe914('0x3e')+'</div>';return _0x2bb3e7['status'](0xc8)[_0xe914('0x2c')](_0x33c250);});function _0xc9d0(){return function(_0x5bb59e,_0x4e44a4,_0x4c0eb5){if(_0x5bb59e[_0xe914('0x9')]()){return _0x4c0eb5();}else{return _0x4e44a4['status'](0x191)[_0xe914('0x2c')](_0xe914('0x43'));}};}function _0x12694b(_0x15158b,_0x29a856){SCP['scp'](_0x15158b,_0xe914('0x6d')+_0x29a856,function(_0x554084){logger[_0xe914('0x11')](_0x554084);});}function _0x17249a(_0x13c6ee,_0xe900ca){SCP['scp'](_0x13c6ee,_0xe914('0x6d')+_0xe900ca,function(_0x102cbd){logger[_0xe914('0x11')](_0x102cbd);});}function _0xbdb14(_0x47be8c){var _0x2ce388=new SSH();_0x2ce388['on'](_0xe914('0x5b'),function(){logger[_0xe914('0x4')]('Client\x20::\x20ready');_0x2ce388[_0xe914('0x6b')](_0xe914('0x31')+_0x47be8c,function(_0x39d31c,_0x38d3dc){if(_0x39d31c)throw _0x39d31c;_0x38d3dc['on'](_0xe914('0x50'),function(_0x182916,_0x228661){logger[_0xe914('0x4')]('Stream\x20::\x20close\x20::\x20code:\x20'+_0x182916+_0xe914('0x30')+_0x228661);_0x2ce388['end']();})['on'](_0xe914('0x51'),function(_0x40f693){logger[_0xe914('0x4')](_0xe914('0x62')+_0x40f693);})[_0xe914('0xa')]['on'](_0xe914('0x51'),function(_0x38bd71){logger[_0xe914('0x11')](_0xe914('0x2d')+_0x38bd71);});});})[_0xe914('0x2')]({'host':_0xe914('0x3d'),'port':0x16,'username':'c3','password':_0xe914('0x1e')});}function _0x4f2390(_0x35354c){if(_0x35354c[_0xe914('0x38')]==_0xe914('0x77')){if(_0x35354c[_0xe914('0x36')]==_0xe914('0x75')){examplesHtml+='<md-menu>';examplesHtml+='<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_EXAMPLES\x22></div></md-button>';examplesHtml+='<md-menu-content>';_0x4f2390(_0x35354c[_0xe914('0x13')]);examplesHtml+=_0xe914('0x37');examplesHtml+=_0xe914('0x14');}else{examplesHtml+='<md-menu-item>';examplesHtml+=_0xe914('0x17');examplesHtml+=_0xe914('0x6a')+_0x35354c[_0xe914('0x36')]+_0xe914('0x7e');examplesHtml+='<md-menu-content>';_0x4f2390(_0x35354c['children']);examplesHtml+=_0xe914('0x37');examplesHtml+='</md-menu>';examplesHtml+=_0xe914('0x7c');}}else if(_0x35354c[_0xe914('0x7d')]===Array){for(var _0x4b1703=0x0;_0x4b1703<_0x35354c['length'];_0x4b1703++){_0x4f2390(_0x35354c[_0x4b1703]);}}else if(_0x35354c['type']==_0xe914('0x40')){examplesHtml+='<md-menu-item>';examplesHtml+=_0xe914('0x7a')+_0x35354c[_0xe914('0x36')]+_0xe914('0x44')+_0x35354c[_0xe914('0x57')][_0xe914('0x4d')]('\x5c')[_0xe914('0x63')]('/')+'\x27)\x22>'+_0x35354c[_0xe914('0x36')]+_0xe914('0x7e');examplesHtml+=_0xe914('0x7c');}}_0x4f2390(tree);}();