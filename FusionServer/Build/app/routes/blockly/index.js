var _0x2d8b=['172.16.0.1','<div\x20class=\x22fusion-toolbar-container\x22>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SHOW_CODE\x22></div></md-tooltip>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_IN_EDITOR\x22></div></md-tooltip>','body','type','<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowConsole\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_PROGRAM_OUTPUT\x22\x20|\x20translate}}</div></md-menu-item>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_MANAGE\x22></button>','<i\x20class=\x22fas\x20fa-code\x20fa-lg\x20fa-fw\x22></i>','\x27,\x27','info','<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowCode\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_CODE_WINDOW\x22\x20|\x20translate}}</div><div\x20translate=\x22\x22></div></md-menu-item>','<md-menu-content\x20width=\x223\x22>','/api/blockly','<md-button\x20ng-click=\x22SaveAsDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE_AS\x22></div></md-button>','<md-menu-divider></md-menu-divider>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_NEW_FILE_TOOLTIP\x22></div></md-tooltip>','user','join','writeFile','Program\x20Created\x20Successfully','<md-button\x20ng-click=\x22DownloadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_EXPORT\x22></div></md-button>','<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_CLOSE\x22></div></md-button>','error','utf8','<md-button\x20ng-click=\x22UploadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_IMPORT\x22></div></md-button>','../../express','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SAVE_FILE_TOOLTIP\x22></div></md-tooltip>','readdir','</md-menu-content>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleProgramOutput()\x22>','STDERR:\x20','<md-button\x20ng-click=\x22SaveBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE\x22></div></md-button>','<md-menu-item>','<md-button\x20ng-click=\x22$mdMenu.open()\x22>','username','</md-menu>','rm\x20/home/c3/FusionFilesystem/','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenFileDialog(ev)\x22>','file','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_HELP\x22></button>','An\x20error\x20occurred','StopProgram','stat','exports','Client','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_GAMEPAD_TOOLTIP\x22></div></md-tooltip>','exec','get','<md-toolbar\x20class=\x22md-menu-toolbar\x22\x20ng-cloak>','children','</div>','mkdirp','Client\x20::\x20ready','/api/blocklyToolbar','</md-menu-item>','User\x20Unauthenticated','send','put','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenVirtualGamepad()\x22\x20ng-disabled=\x22DisableVirtualGamepad()\x22>','params','directory','code','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22openInEditor()\x22>','ENOENT','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_STOP_FILE_TOOLTIP\x22></div></md-tooltip>','c3:root@172.16.0.1:/home/c3/FusionFilesystem/','connect','/api/blockly/start','<md-button\x20ng-click=\x22DeleteDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_DELETE\x22></div></md-button>','<div\x20class=\x22fusion-toolbar\x22>','</md-button>','close',',\x20signal:\x20','</md-menu-bar>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_FILE\x22></button>','<div\x20class=\x22fusion-ribbon\x22>','../../utils/logger','isAuthenticated','Program\x20Updated\x20Successfully','scp','root','json','utf-8','data','/api/blocklySamplePrograms','Program_Name','end','directory-tree','filename','post','<md-button\x20class=\x22md-primary\x20fusion-ribbon-button\x22\x20ng-click=\x22runExistingBlocklyProgram()\x22>','\x27)\x22>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22SaveBlocklyFile()\x22>','message','<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_VIEW_MODE\x22></div></md-button>','STDOUT:\x20','public/app/components/blockly/Examples','filepath','Stream\x20::\x20close\x20::\x20code:\x20','A\x20file\x20with\x20that\x20name\x20already\x20exists','</md-toolbar>','<md-menu-content>','<md-button\x20ng-click=\x22openExampleProgram(\x27','/api/blockly/:Program_Name','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_VIEW\x22></button>','name','<md-menu-bar>','<div\x20layout=\x22row\x22>','scp2','ssh2','<md-button\x20ng-click=\x22takeToBlocklyDocs()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_DOCUMENTATION\x22></div></md-button>','<i\x20class=\x22fas\x20fa-play\x20fa-lg\x20fa-fw\x22></i>','<i\x20class=\x22far\x20fa-file-alt\x20fa-lg\x20fa-fw\x22></i>','socketId','readFile','/Blockly/','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleCodeWindow()\x22>','unlinkSync','<h2\x20class=\x22md-toolbar-tools\x22\x20ng-class=\x22isExampleFile(SelectedFile)\x22>{{displaySaveSymbol(SelectedFile.NeedsSaving)}}\x20{{SelectedFile.Name}}</h2>','../../classroom/connection','/Blockly','connected','status','<md-menu>','Error\x20loading\x20example','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_TOGGLE_OUTPUT\x22></div></md-tooltip>','<md-button\x20class=\x22md-warn\x20fusion-ribbon-button\x22\x20ng-click=\x22stopRunningBlocklyProgram()\x22>','<md-button\x20class=\x22fusion-ribbon-button\x20tooltip\x22\x20ng-click=\x22NewBlocklyFile()\x22>'];(function(_0x50f038,_0x2d8b9e){var _0x400801=function(_0x20c3d1){while(--_0x20c3d1){_0x50f038['push'](_0x50f038['shift']());}};_0x400801(++_0x2d8b9e);}(_0x2d8b,0x79));var _0x4008=function(_0x50f038,_0x2d8b9e){_0x50f038=_0x50f038-0x0;var _0x400801=_0x2d8b[_0x50f038];return _0x400801;};var dirTree=require(_0x4008('0x60'));var SCP=require(_0x4008('0x75'));var SSH=require(_0x4008('0x76'))[_0x4008('0x35')];var path=require('path');const classroomConnection=require(_0x4008('0x80'));const logger=require(_0x4008('0x55'));const app=require(_0x4008('0x22'));const fs=require('fs');const mkdirp=require(_0x4008('0x3c'));const fusionProgram=require('../../fusionProgram');var examplesHtml='';var examplesFilePath=_0x4008('0x69');var tree=dirTree(examplesFilePath,{'extensions':/\.blk$/});module[_0x4008('0x34')]=function(){app[_0x4008('0x38')]('/api/blockly',_0x5b842c(),function(_0x4a1e7e,_0x3dac2a){var _0x3c9781=_0x4a1e7e[_0x4008('0x19')]['filepath']+_0x4008('0x0');mkdirp(_0x3c9781,function(_0x136450){if(_0x136450)return _0x3dac2a[_0x4008('0x2')](0x1f4)[_0x4008('0x41')](_0x136450);fs[_0x4008('0x24')](_0x3c9781,function(_0x278cb9,_0x419117){if(_0x278cb9)return _0x3dac2a[_0x4008('0x2')](0x1f4)[_0x4008('0x41')](_0x278cb9);return _0x3dac2a[_0x4008('0x2')](0xc8)[_0x4008('0x41')](_0x419117);});});});app[_0x4008('0x62')](_0x4008('0x15'),_0x5b842c(),function(_0x2e4bc8,_0x268613){fs[_0x4008('0x33')](_0x2e4bc8['user'][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2e4bc8[_0x4008('0xc')][_0x4008('0x61')],function(_0xc7a458,_0x3a9eb0){if(_0xc7a458==null){return _0x268613['status'](0x1f4)[_0x4008('0x5a')]({'serverMessage':_0x4008('0x6c')});}else if(_0xc7a458['code']==_0x4008('0x48')){fs['writeFile'](_0x2e4bc8[_0x4008('0x19')][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2e4bc8[_0x4008('0xc')]['filename'],_0x2e4bc8['body'][_0x4008('0x46')],function(_0x6e64cb){if(_0x6e64cb)return _0x268613[_0x4008('0x2')](0x1f4)['json']({'serverMessage':_0x6e64cb});if(classroomConnection[_0x4008('0x1')]){_0x51dd53(_0x2e4bc8[_0x4008('0x19')][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2e4bc8[_0x4008('0xc')][_0x4008('0x61')],_0x2e4bc8[_0x4008('0x19')][_0x4008('0x2b')]+_0x4008('0x7c')+_0x2e4bc8[_0x4008('0xc')]['filename']);}return _0x268613[_0x4008('0x2')](0xc8)[_0x4008('0x5a')]({'serverMessage':_0x4008('0x1c')});});}else{return _0x268613[_0x4008('0x2')](0x1f4)[_0x4008('0x5a')]({'serverMessage':_0x4008('0x31')});}});});app[_0x4008('0x38')](_0x4008('0x70'),_0x5b842c(),function(_0x2e7466,_0x3c2384){fs[_0x4008('0x7b')](_0x2e7466['user'][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2e7466['params'][_0x4008('0x5e')],_0x4008('0x20'),function(_0x22374b,_0x1844aa){if(_0x22374b)_0x3c2384[_0x4008('0x2')](0x1f4)[_0x4008('0x41')](_0x22374b);_0x3c2384[_0x4008('0x2')](0xc8)[_0x4008('0x41')](_0x1844aa);});});app[_0x4008('0x42')](_0x4008('0x70'),_0x5b842c(),function(_0x2cebd2,_0x2979b5){fs[_0x4008('0x7b')](_0x2cebd2[_0x4008('0x19')][_0x4008('0x6a')]+'/Blockly/'+_0x2cebd2['params'][_0x4008('0x5e')],_0x4008('0x20'),function(_0x339393,_0x361620){if(_0x339393)return _0x2979b5['status'](0x1f4)[_0x4008('0x41')](_0x339393);fs[_0x4008('0x1b')](_0x2cebd2[_0x4008('0x19')][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2cebd2[_0x4008('0x44')][_0x4008('0x5e')],_0x2cebd2[_0x4008('0xc')][_0x4008('0x46')],_0x4008('0x5b'),function(_0x1fa2cf){if(_0x1fa2cf)return _0x2979b5['status'](0x1f4)[_0x4008('0x41')](_0x1fa2cf);if(classroomConnection[_0x4008('0x1')]){_0x315c8b(_0x2cebd2[_0x4008('0x19')][_0x4008('0x6a')]+_0x4008('0x7c')+_0x2cebd2[_0x4008('0x44')]['Program_Name'],_0x2cebd2[_0x4008('0x19')][_0x4008('0x2b')]+_0x4008('0x7c')+_0x2cebd2['params'][_0x4008('0x5e')]);}return _0x2979b5[_0x4008('0x2')](0xc8)[_0x4008('0x5a')]({'serverMessage':_0x4008('0x57')});});});});app['delete']('/api/blockly/:Program_Name',_0x5b842c(),function(_0x282b6f,_0x36f81a){fs[_0x4008('0x7b')](_0x282b6f['user'][_0x4008('0x6a')]+_0x4008('0x7c')+_0x282b6f[_0x4008('0x44')][_0x4008('0x5e')],'utf8',function(_0x559b20,_0x56af80){if(_0x559b20)return _0x36f81a[_0x4008('0x2')](0x1f4)['json']({'serverMessage':'File\x20Does\x20Not\x20Exist.'});fs[_0x4008('0x7e')](_0x282b6f[_0x4008('0x19')][_0x4008('0x6a')]+_0x4008('0x7c')+_0x282b6f[_0x4008('0x44')][_0x4008('0x5e')]);if(classroomConnection[_0x4008('0x1')]){_0x242337(_0x282b6f[_0x4008('0x19')][_0x4008('0x2b')]+_0x4008('0x7c')+_0x282b6f['params']['Program_Name']);}return _0x36f81a[_0x4008('0x2')](0xc8)[_0x4008('0x5a')]({'serverMessage':'Program\x20Deleted\x20Successfully'});});});app[_0x4008('0x62')](_0x4008('0x4c'),_0x5b842c(),function(_0x3a81ec,_0x3bbaff){var _0x17ed83=fusionProgram['StartBlocklyProgram'](_0x3a81ec[_0x4008('0xc')][_0x4008('0x46')],_0x3a81ec[_0x4008('0x19')]['username'],_0x3a81ec[_0x4008('0xc')][_0x4008('0x7a')]);return _0x3bbaff[_0x4008('0x2')](_0x17ed83[_0x4008('0x2')])[_0x4008('0x5a')]({'serverMessage':_0x17ed83[_0x4008('0x66')]});});app[_0x4008('0x62')]('/api/blockly/stop',_0x5b842c(),function(_0x26a70b,_0x5590ca){var _0x5026b8=fusionProgram[_0x4008('0x32')](_0x26a70b[_0x4008('0x19')][_0x4008('0x2b')]);return _0x5590ca[_0x4008('0x2')](_0x5026b8['status'])[_0x4008('0x5a')]({'serverMessage':_0x5026b8[_0x4008('0x66')]});});app[_0x4008('0x62')](_0x4008('0x5d'),function(_0x462db3,_0x3f9a72){fs[_0x4008('0x7b')](_0x462db3[_0x4008('0xc')][_0x4008('0x6a')],'utf8',function(_0x5b3d14,_0x227871){if(_0x5b3d14)return _0x3f9a72[_0x4008('0x2')](0x1f4)[_0x4008('0x41')](_0x4008('0x4'));return _0x3f9a72[_0x4008('0x2')](0xc8)[_0x4008('0x41')](_0x227871);});});app[_0x4008('0x38')](_0x4008('0x3e'),function(_0x1e02f4,_0x1e776b){var _0x40468a=_0x4008('0x9')+_0x4008('0x39')+_0x4008('0x74')+_0x4008('0x4e')+_0x4008('0x7f')+'<div>'+_0x4008('0x73')+_0x4008('0x3')+_0x4008('0x53')+_0x4008('0x6e')+'<md-menu-item>'+'<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_NEW\x22></div></md-button>'+_0x4008('0x3f')+_0x4008('0x29')+'<md-button\x20ng-click=\x22OpenFileDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_OPEN\x22></div></md-button>'+'</md-menu-item>'+'<md-menu-item>'+_0x4008('0x1e')+_0x4008('0x3f')+_0x4008('0x17')+_0x4008('0x29')+_0x4008('0x28')+'\x20</md-menu-item>'+_0x4008('0x29')+_0x4008('0x16')+'</md-menu-item>'+_0x4008('0x17')+'<md-menu-item>'+_0x4008('0x4d')+'</md-menu-item>'+_0x4008('0x25')+'</md-menu>'+_0x4008('0x3')+_0x4008('0x71')+_0x4008('0x6e')+'<md-menu-item\x20class=\x22md-indent\x22>'+'<md-menu>'+_0x4008('0x67')+_0x4008('0x14')+'<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22basic\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_BASIC\x22\x20|\x20translate}}</div></md-menu-item>'+'<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22intermediate\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_INTERMEDIATE\x22\x20|\x20translate}}</div></md-menu-item>'+_0x4008('0x25')+'</md-menu>'+'\x20</md-menu-item>'+_0x4008('0x17')+_0x4008('0xe')+_0x4008('0x13')+'</md-menu-content>'+_0x4008('0x2c')+_0x4008('0x3')+_0x4008('0xf')+_0x4008('0x6e')+_0x4008('0x29')+_0x4008('0x21')+'</md-menu-item>'+_0x4008('0x29')+_0x4008('0x1d')+_0x4008('0x3f')+'</md-menu-content>'+_0x4008('0x2c')+_0x4008('0x3')+_0x4008('0x30')+_0x4008('0x6e')+examplesHtml+_0x4008('0x29')+_0x4008('0x77')+'</md-menu-item>'+_0x4008('0x25')+_0x4008('0x2c')+_0x4008('0x52')+_0x4008('0x3b')+'</div>'+_0x4008('0x3b')+_0x4008('0x54')+_0x4008('0x7')+_0x4008('0x18')+_0x4008('0x79')+_0x4008('0x4f')+_0x4008('0x2e')+'<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_FILE_TOOLTIP\x22></div></md-tooltip>'+'<i\x20class=\x22far\x20fa-folder-open\x20fa-lg\x20fa-fw\x22></i>'+_0x4008('0x4f')+_0x4008('0x65')+_0x4008('0x23')+'<i\x20class=\x22far\x20fa-save\x20fa-lg\x20fa-fw\x22></i>'+_0x4008('0x4f')+_0x4008('0x63')+'<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_RUN_FILE_TOOLTIP\x22></div></md-tooltip>'+_0x4008('0x78')+'</md-button>'+_0x4008('0x6')+_0x4008('0x49')+'<i\x20class=\x22fas\x20fa-stop\x20fa-lg\x20fa-fw\x22></i>'+'</md-button>'+_0x4008('0x26')+_0x4008('0x5')+'<i\x20class=\x22fas\x20fa-terminal\x20fa-lg\x20fa-fw\x22></i>'+_0x4008('0x4f')+_0x4008('0x7d')+_0x4008('0xa')+_0x4008('0x10')+_0x4008('0x4f')+_0x4008('0x43')+_0x4008('0x36')+'<i\x20class=\x22fas\x20fa-gamepad\x20fa-lg\x20fa-fw\x22></i>'+'</md-button>'+_0x4008('0x47')+_0x4008('0xb')+'<i\x20class=\x22fas\x20fa-external-link-square-alt\x20fa-lg\x20fa-fw\x22></i>'+_0x4008('0x4f')+'</div>'+_0x4008('0x6d')+_0x4008('0x3b');return _0x1e776b[_0x4008('0x2')](0xc8)[_0x4008('0x41')](_0x40468a);});function _0x5b842c(){return function(_0x30015f,_0x438611,_0x168b90){if(_0x30015f[_0x4008('0x56')]()){return _0x168b90();}else{return _0x438611['status'](0x191)[_0x4008('0x41')](_0x4008('0x40'));}};}function _0x51dd53(_0x26c76b,_0x1f8a9e){SCP[_0x4008('0x58')](_0x26c76b,_0x4008('0x4a')+_0x1f8a9e,function(_0x36a3a7){logger[_0x4008('0x1f')](_0x36a3a7);});}function _0x315c8b(_0x19f455,_0x29a21c){SCP[_0x4008('0x58')](_0x19f455,_0x4008('0x4a')+_0x29a21c,function(_0x4596f3){logger[_0x4008('0x1f')](_0x4596f3);});}function _0x242337(_0x1a93bf){var _0x2c5f05=new SSH();_0x2c5f05['on']('ready',function(){logger[_0x4008('0x12')](_0x4008('0x3d'));_0x2c5f05[_0x4008('0x37')](_0x4008('0x2d')+_0x1a93bf,function(_0x546ffc,_0x641e84){if(_0x546ffc)throw _0x546ffc;_0x641e84['on'](_0x4008('0x50'),function(_0x597e89,_0x4f5839){logger['info'](_0x4008('0x6b')+_0x597e89+_0x4008('0x51')+_0x4f5839);_0x2c5f05[_0x4008('0x5f')]();})['on'](_0x4008('0x5c'),function(_0x3f2f83){logger[_0x4008('0x12')](_0x4008('0x68')+_0x3f2f83);})['stderr']['on'](_0x4008('0x5c'),function(_0x55d065){logger[_0x4008('0x1f')](_0x4008('0x27')+_0x55d065);});});})[_0x4008('0x4b')]({'host':_0x4008('0x8'),'port':0x16,'username':'c3','password':_0x4008('0x59')});}function _0x1d0e02(_0x51b94a){if(_0x51b94a[_0x4008('0xd')]==_0x4008('0x45')){if(_0x51b94a[_0x4008('0x72')]=='Examples'){examplesHtml+='<md-menu>';examplesHtml+='<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_EXAMPLES\x22></div></md-button>';examplesHtml+=_0x4008('0x6e');_0x1d0e02(_0x51b94a[_0x4008('0x3a')]);examplesHtml+='</md-menu-content>';examplesHtml+=_0x4008('0x2c');}else{examplesHtml+=_0x4008('0x29');examplesHtml+='<md-menu>';examplesHtml+=_0x4008('0x2a')+_0x51b94a[_0x4008('0x72')]+_0x4008('0x4f');examplesHtml+=_0x4008('0x6e');_0x1d0e02(_0x51b94a['children']);examplesHtml+='</md-menu-content>';examplesHtml+=_0x4008('0x2c');examplesHtml+=_0x4008('0x3f');}}else if(_0x51b94a['constructor']===Array){for(var _0x1a1813=0x0;_0x1a1813<_0x51b94a['length'];_0x1a1813++){_0x1d0e02(_0x51b94a[_0x1a1813]);}}else if(_0x51b94a[_0x4008('0xd')]==_0x4008('0x2f')){examplesHtml+=_0x4008('0x29');examplesHtml+=_0x4008('0x6f')+_0x51b94a[_0x4008('0x72')]+_0x4008('0x11')+_0x51b94a['path']['split']('\x5c')[_0x4008('0x1a')]('/')+_0x4008('0x64')+_0x51b94a['name']+_0x4008('0x4f');examplesHtml+='</md-menu-item>';}}_0x1d0e02(tree);}();