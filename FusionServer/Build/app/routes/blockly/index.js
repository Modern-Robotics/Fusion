var _0x1ea9=['<h2\x20class=\x22md-toolbar-tools\x22\x20ng-class=\x22isExampleFile(SelectedFile)\x22>{{displaySaveSymbol(SelectedFile.NeedsSaving)}}\x20{{SelectedFile.Name}}</h2>','<i\x20class=\x22fas\x20fa-terminal\x20fa-lg\x20fa-fw\x22></i>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_FILE\x22></button>','Stream\x20::\x20close\x20::\x20code:\x20','<md-menu-item\x20class=\x22md-indent\x22>','<md-button\x20ng-click=\x22SaveAsDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE_AS\x22></div></md-button>','readFile','<div\x20layout=\x22row\x22>','<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_VIEW_MODE\x22></div></md-button>','info','StartBlocklyProgram','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22openInEditor()\x22>',',\x20signal:\x20','STDOUT:\x20','<md-button\x20ng-click=\x22$mdMenu.open()\x22>','<md-button\x20ng-click=\x22DownloadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_EXPORT\x22></div></md-button>','type','filename','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_IN_EDITOR\x22></div></md-tooltip>','children','\x27,\x27','connect','/api/blocklySamplePrograms','<md-button\x20ng-click=\x22openExampleProgram(\x27','</div>','data','File\x20Does\x20Not\x20Exist.','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_STOP_FILE_TOOLTIP\x22></div></md-tooltip>','<md-toolbar\x20class=\x22md-menu-toolbar\x22\x20ng-cloak>','<md-button\x20class=\x22md-primary\x20fusion-ribbon-button\x22\x20ng-click=\x22runExistingBlocklyProgram()\x22>','ENOENT','public/app/components/blockly/Examples','length','<md-menu-content\x20width=\x223\x22>','Client','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_RUN_FILE_TOOLTIP\x22></div></md-tooltip>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_NEW_FILE_TOOLTIP\x22></div></md-tooltip>','/api/blockly/:Program_Name','</md-menu-content>','code','filepath','error','<md-button\x20ng-click=\x22DeleteDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_DELETE\x22></div></md-button>','connected','Program_Name','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SHOW_CODE\x22></div></md-tooltip>','An\x20error\x20occurred','A\x20file\x20with\x20that\x20name\x20already\x20exists','root','<md-button\x20ng-click=\x22$mdMenu.open()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_EXAMPLES\x22></div></md-button>','params','Examples','path','/api/blocklyToolbar','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_OPEN_FILE_TOOLTIP\x22></div></md-tooltip>','<md-menu-content>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleCodeWindow()\x22>','isAuthenticated','<md-menu-item>','<i\x20class=\x22far\x20fa-save\x20fa-lg\x20fa-fw\x22></i>','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22toggleProgramOutput()\x22>','/api/blockly/stop','send','json','user','writeFile','../../express','constructor','<i\x20class=\x22far\x20fa-folder-open\x20fa-lg\x20fa-fw\x22></i>','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_MANAGE\x22></button>','scp','c3:root@172.16.0.1:/home/c3/FusionFilesystem/','join','<div\x20class=\x22fusion-toolbar\x22>','</md-menu-bar>','Client\x20::\x20ready','stat','message','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_HELP\x22></button>','utf-8','</md-menu>','<md-menu-bar>','\x20</md-menu-item>','mkdirp','<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_NEW\x22></div></md-button>','<i\x20class=\x22fas\x20fa-external-link-square-alt\x20fa-lg\x20fa-fw\x22></i>','/api/blockly','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenFileDialog(ev)\x22>','Error\x20loading\x20example','<i\x20class=\x22fas\x20fa-play\x20fa-lg\x20fa-fw\x22></i>','/Blockly/','exec','<md-menu>','socketId','StopProgram','directory-tree','<button\x20ng-click=\x22$mdMenu.open()\x22\x20class=\x22fusion-toolbar-item\x22\x20translate=\x22BLOCKLY.MENUBAR_VIEW\x22></button>','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_TOGGLE_OUTPUT\x22></div></md-tooltip>','readdir','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_GAMEPAD_TOOLTIP\x22></div></md-tooltip>','post','scp2','rm\x20/home/c3/FusionFilesystem/','<md-tooltip><div\x20translate=\x22BLOCKLY.TOOLBAR_SAVE_FILE_TOOLTIP\x22></div></md-tooltip>','delete','body','<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22SaveBlocklyFile()\x22>','/api/blockly/start','put','username','<div\x20class=\x22fusion-ribbon\x22>','../../utils/logger','<i\x20class=\x22fas\x20fa-gamepad\x20fa-lg\x20fa-fw\x22></i>','../../fusionProgram','<md-menu-divider></md-menu-divider>','<md-button\x20class=\x22fusion-ribbon-button\x20tooltip\x22\x20ng-click=\x22NewBlocklyFile()\x22>','Program\x20Created\x20Successfully','utf8','</md-menu-item>','status','<md-button\x20ng-click=\x22takeToBlocklyDocs()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_HELP_DOCUMENTATION\x22></div></md-button>','split','</md-button>','name','get','/Blockly'];(function(_0x54d592,_0x1ea92c){var _0x406c69=function(_0x5aa5a4){while(--_0x5aa5a4){_0x54d592['push'](_0x54d592['shift']());}};_0x406c69(++_0x1ea92c);}(_0x1ea9,0x1c8));var _0x406c=function(_0x54d592,_0x1ea92c){_0x54d592=_0x54d592-0x0;var _0x406c69=_0x1ea9[_0x54d592];return _0x406c69;};var dirTree=require(_0x406c('0x11'));var SCP=require(_0x406c('0x17'));var SSH=require('ssh2')[_0x406c('0x52')];var path=require(_0x406c('0x64'));const classroomConnection=require('../../classroom/connection');const logger=require(_0x406c('0x21'));const app=require(_0x406c('0x72'));const fs=require('fs');const mkdirp=require(_0x406c('0x5'));const fusionProgram=require(_0x406c('0x23'));var examplesHtml='';var examplesFilePath=_0x406c('0x4f');var tree=dirTree(examplesFilePath,{'extensions':/\.blk$/});module['exports']=function(){app[_0x406c('0x2e')](_0x406c('0x8'),_0x2552c9(),function(_0x36939f,_0x18adc2){var _0x1778e2=_0x36939f['user'][_0x406c('0x58')]+_0x406c('0x2f');mkdirp(_0x1778e2,function(_0x20f47e){if(_0x20f47e)return _0x18adc2[_0x406c('0x29')](0x1f4)['send'](_0x20f47e);fs[_0x406c('0x14')](_0x1778e2,function(_0x5074fd,_0x478afc){if(_0x5074fd)return _0x18adc2[_0x406c('0x29')](0x1f4)[_0x406c('0x6e')](_0x5074fd);return _0x18adc2[_0x406c('0x29')](0xc8)['send'](_0x478afc);});});});app[_0x406c('0x16')](_0x406c('0x8'),_0x2552c9(),function(_0x24835f,_0x1b944e){fs[_0x406c('0x7c')](_0x24835f['user'][_0x406c('0x58')]+_0x406c('0xc')+_0x24835f[_0x406c('0x1b')]['filename'],function(_0x4c8463,_0x5d2326){if(_0x4c8463==null){return _0x1b944e['status'](0x1f4)['json']({'serverMessage':_0x406c('0x5f')});}else if(_0x4c8463[_0x406c('0x57')]==_0x406c('0x4e')){fs[_0x406c('0x71')](_0x24835f[_0x406c('0x70')]['filepath']+_0x406c('0xc')+_0x24835f[_0x406c('0x1b')]['filename'],_0x24835f[_0x406c('0x1b')]['code'],function(_0xdcb420){if(_0xdcb420)return _0x1b944e[_0x406c('0x29')](0x1f4)[_0x406c('0x6f')]({'serverMessage':_0xdcb420});if(classroomConnection[_0x406c('0x5b')]){_0x209634(_0x24835f[_0x406c('0x70')][_0x406c('0x58')]+_0x406c('0xc')+_0x24835f[_0x406c('0x1b')][_0x406c('0x41')],_0x24835f[_0x406c('0x70')][_0x406c('0x1f')]+_0x406c('0xc')+_0x24835f['body'][_0x406c('0x41')]);}return _0x1b944e[_0x406c('0x29')](0xc8)[_0x406c('0x6f')]({'serverMessage':_0x406c('0x26')});});}else{return _0x1b944e['status'](0x1f4)['json']({'serverMessage':_0x406c('0x5e')});}});});app[_0x406c('0x2e')](_0x406c('0x55'),_0x2552c9(),function(_0x560d45,_0x80ff19){fs[_0x406c('0x36')](_0x560d45[_0x406c('0x70')][_0x406c('0x58')]+'/Blockly/'+_0x560d45[_0x406c('0x62')][_0x406c('0x5c')],_0x406c('0x27'),function(_0x3cdb20,_0xf12194){if(_0x3cdb20)_0x80ff19['status'](0x1f4)['send'](_0x3cdb20);_0x80ff19['status'](0xc8)['send'](_0xf12194);});});app[_0x406c('0x1e')]('/api/blockly/:Program_Name',_0x2552c9(),function(_0x284aa8,_0x55a3bf){fs['readFile'](_0x284aa8['user'][_0x406c('0x58')]+_0x406c('0xc')+_0x284aa8['params'][_0x406c('0x5c')],_0x406c('0x27'),function(_0x4a42e9,_0x2355f0){if(_0x4a42e9)return _0x55a3bf[_0x406c('0x29')](0x1f4)[_0x406c('0x6e')](_0x4a42e9);fs['writeFile'](_0x284aa8['user']['filepath']+_0x406c('0xc')+_0x284aa8[_0x406c('0x62')][_0x406c('0x5c')],_0x284aa8['body'][_0x406c('0x57')],_0x406c('0x1'),function(_0x39dd06){if(_0x39dd06)return _0x55a3bf[_0x406c('0x29')](0x1f4)[_0x406c('0x6e')](_0x39dd06);if(classroomConnection['connected']){_0x5e1be3(_0x284aa8[_0x406c('0x70')]['filepath']+_0x406c('0xc')+_0x284aa8[_0x406c('0x62')][_0x406c('0x5c')],_0x284aa8[_0x406c('0x70')]['username']+'/Blockly/'+_0x284aa8[_0x406c('0x62')][_0x406c('0x5c')]);}return _0x55a3bf[_0x406c('0x29')](0xc8)[_0x406c('0x6f')]({'serverMessage':'Program\x20Updated\x20Successfully'});});});});app[_0x406c('0x1a')](_0x406c('0x55'),_0x2552c9(),function(_0x539b47,_0x447760){fs[_0x406c('0x36')](_0x539b47[_0x406c('0x70')][_0x406c('0x58')]+'/Blockly/'+_0x539b47[_0x406c('0x62')]['Program_Name'],_0x406c('0x27'),function(_0x19521d,_0x1d7f51){if(_0x19521d)return _0x447760[_0x406c('0x29')](0x1f4)[_0x406c('0x6f')]({'serverMessage':_0x406c('0x4a')});fs['unlinkSync'](_0x539b47[_0x406c('0x70')]['filepath']+'/Blockly/'+_0x539b47[_0x406c('0x62')]['Program_Name']);if(classroomConnection[_0x406c('0x5b')]){_0x1e1269(_0x539b47['user'][_0x406c('0x1f')]+_0x406c('0xc')+_0x539b47[_0x406c('0x62')][_0x406c('0x5c')]);}return _0x447760['status'](0xc8)[_0x406c('0x6f')]({'serverMessage':'Program\x20Deleted\x20Successfully'});});});app[_0x406c('0x16')](_0x406c('0x1d'),_0x2552c9(),function(_0xdc8e3a,_0x5debac){var _0x4faf7c=fusionProgram[_0x406c('0x3a')](_0xdc8e3a[_0x406c('0x1b')][_0x406c('0x57')],_0xdc8e3a['user'][_0x406c('0x1f')],_0xdc8e3a[_0x406c('0x1b')][_0x406c('0xf')]);return _0x5debac[_0x406c('0x29')](_0x4faf7c['status'])['json']({'serverMessage':_0x4faf7c['message']});});app['post'](_0x406c('0x6d'),_0x2552c9(),function(_0x10133e,_0x18d448){var _0x59326c=fusionProgram[_0x406c('0x10')](_0x10133e[_0x406c('0x70')][_0x406c('0x1f')]);return _0x18d448['status'](_0x59326c['status'])[_0x406c('0x6f')]({'serverMessage':_0x59326c[_0x406c('0x7d')]});});app['post'](_0x406c('0x46'),function(_0x5c72b4,_0x22a471){fs[_0x406c('0x36')](_0x5c72b4['body']['filepath'],_0x406c('0x27'),function(_0x450a9a,_0x127f1c){if(_0x450a9a)return _0x22a471[_0x406c('0x29')](0x1f4)[_0x406c('0x6e')](_0x406c('0xa'));return _0x22a471[_0x406c('0x29')](0xc8)[_0x406c('0x6e')](_0x127f1c);});});app[_0x406c('0x2e')](_0x406c('0x65'),function(_0x15db3a,_0x1a995a){var _0x54d074='<div\x20class=\x22fusion-toolbar-container\x22>'+_0x406c('0x4c')+_0x406c('0x37')+_0x406c('0x79')+_0x406c('0x30')+'<div>'+_0x406c('0x3')+_0x406c('0xe')+_0x406c('0x32')+'<md-menu-content>'+'<md-menu-item>'+_0x406c('0x6')+_0x406c('0x28')+_0x406c('0x6a')+'<md-button\x20ng-click=\x22OpenFileDialog(ev)\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_OPEN\x22></div></md-button>'+_0x406c('0x28')+_0x406c('0x6a')+'<md-button\x20ng-click=\x22NewBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_CLOSE\x22></div></md-button>'+'</md-menu-item>'+_0x406c('0x24')+_0x406c('0x6a')+'<md-button\x20ng-click=\x22SaveBlocklyFile()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_FILE_SAVE\x22></div></md-button>'+'\x20</md-menu-item>'+_0x406c('0x6a')+_0x406c('0x35')+_0x406c('0x28')+_0x406c('0x24')+_0x406c('0x6a')+_0x406c('0x5a')+_0x406c('0x28')+'</md-menu-content>'+_0x406c('0x2')+'<md-menu>'+_0x406c('0x12')+_0x406c('0x67')+_0x406c('0x34')+'<md-menu>'+_0x406c('0x38')+_0x406c('0x51')+'<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22basic\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_BASIC\x22\x20|\x20translate}}</div></md-menu-item>'+'<md-menu-item\x20type=\x22radio\x22\x20ng-model=\x22Settings.Mode\x22\x20value=\x22intermediate\x22\x20ng-click=\x22setToolbox()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_MODE_INTERMEDIATE\x22\x20|\x20translate}}</div></md-menu-item>'+_0x406c('0x56')+_0x406c('0x2')+_0x406c('0x4')+'<md-menu-divider></md-menu-divider>'+'<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowConsole\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_PROGRAM_OUTPUT\x22\x20|\x20translate}}</div></md-menu-item>'+'<md-menu-item\x20type=\x22checkbox\x22\x20ng-model=\x22Settings.ShowCode\x22\x20ng-click=\x22resizeBlockly()\x22><div>{{\x22BLOCKLY.MENUBAR_VIEW_CODE_WINDOW\x22\x20|\x20translate}}</div><div\x20translate=\x22\x22></div></md-menu-item>'+'</md-menu-content>'+_0x406c('0x2')+'<md-menu>'+_0x406c('0x75')+_0x406c('0x67')+'<md-menu-item>'+'<md-button\x20ng-click=\x22UploadFilesDialog()\x22><div\x20translate=\x22BLOCKLY.MENUBAR_MANAGE_IMPORT\x22></div></md-button>'+_0x406c('0x28')+_0x406c('0x6a')+_0x406c('0x3f')+_0x406c('0x28')+'</md-menu-content>'+_0x406c('0x2')+_0x406c('0xe')+_0x406c('0x0')+_0x406c('0x67')+examplesHtml+'<md-menu-item>'+_0x406c('0x2a')+'</md-menu-item>'+_0x406c('0x56')+'</md-menu>'+_0x406c('0x7a')+_0x406c('0x48')+'</div>'+_0x406c('0x48')+_0x406c('0x20')+_0x406c('0x25')+_0x406c('0x54')+'<i\x20class=\x22far\x20fa-file-alt\x20fa-lg\x20fa-fw\x22></i>'+_0x406c('0x2c')+_0x406c('0x9')+_0x406c('0x66')+_0x406c('0x74')+_0x406c('0x2c')+_0x406c('0x1c')+_0x406c('0x19')+_0x406c('0x6b')+_0x406c('0x2c')+_0x406c('0x4d')+_0x406c('0x53')+_0x406c('0xb')+_0x406c('0x2c')+'<md-button\x20class=\x22md-warn\x20fusion-ribbon-button\x22\x20ng-click=\x22stopRunningBlocklyProgram()\x22>'+_0x406c('0x4b')+'<i\x20class=\x22fas\x20fa-stop\x20fa-lg\x20fa-fw\x22></i>'+'</md-button>'+_0x406c('0x6c')+_0x406c('0x13')+_0x406c('0x31')+_0x406c('0x2c')+_0x406c('0x68')+_0x406c('0x5d')+'<i\x20class=\x22fas\x20fa-code\x20fa-lg\x20fa-fw\x22></i>'+_0x406c('0x2c')+'<md-button\x20class=\x22fusion-ribbon-button\x22\x20ng-click=\x22OpenVirtualGamepad()\x22\x20ng-disabled=\x22DisableVirtualGamepad()\x22>'+_0x406c('0x15')+_0x406c('0x22')+'</md-button>'+_0x406c('0x3b')+_0x406c('0x42')+_0x406c('0x7')+_0x406c('0x2c')+_0x406c('0x48')+'</md-toolbar>'+_0x406c('0x48');return _0x1a995a[_0x406c('0x29')](0xc8)['send'](_0x54d074);});function _0x2552c9(){return function(_0x42a03,_0xd763,_0x2f84a2){if(_0x42a03[_0x406c('0x69')]()){return _0x2f84a2();}else{return _0xd763[_0x406c('0x29')](0x191)[_0x406c('0x6e')]('User\x20Unauthenticated');}};}function _0x209634(_0x54d87c,_0x1f3340){SCP[_0x406c('0x76')](_0x54d87c,_0x406c('0x77')+_0x1f3340,function(_0x224484){logger[_0x406c('0x59')](_0x224484);});}function _0x5e1be3(_0x17b88b,_0x3ff52d){SCP[_0x406c('0x76')](_0x17b88b,_0x406c('0x77')+_0x3ff52d,function(_0x1787d9){logger[_0x406c('0x59')](_0x1787d9);});}function _0x1e1269(_0x214db0){var _0xda56a8=new SSH();_0xda56a8['on']('ready',function(){logger['info'](_0x406c('0x7b'));_0xda56a8[_0x406c('0xd')](_0x406c('0x18')+_0x214db0,function(_0x4a2629,_0x1fa235){if(_0x4a2629)throw _0x4a2629;_0x1fa235['on']('close',function(_0x3a3a4b,_0x3bcc4d){logger['info'](_0x406c('0x33')+_0x3a3a4b+_0x406c('0x3c')+_0x3bcc4d);_0xda56a8['end']();})['on'](_0x406c('0x49'),function(_0x4b89d7){logger[_0x406c('0x39')](_0x406c('0x3d')+_0x4b89d7);})['stderr']['on'](_0x406c('0x49'),function(_0x1541ee){logger[_0x406c('0x59')]('STDERR:\x20'+_0x1541ee);});});})[_0x406c('0x45')]({'host':'172.16.0.1','port':0x16,'username':'c3','password':_0x406c('0x60')});}function _0x21283(_0x43943d){if(_0x43943d[_0x406c('0x40')]=='directory'){if(_0x43943d[_0x406c('0x2d')]==_0x406c('0x63')){examplesHtml+=_0x406c('0xe');examplesHtml+=_0x406c('0x61');examplesHtml+='<md-menu-content>';_0x21283(_0x43943d[_0x406c('0x43')]);examplesHtml+=_0x406c('0x56');examplesHtml+=_0x406c('0x2');}else{examplesHtml+=_0x406c('0x6a');examplesHtml+=_0x406c('0xe');examplesHtml+=_0x406c('0x3e')+_0x43943d[_0x406c('0x2d')]+_0x406c('0x2c');examplesHtml+=_0x406c('0x67');_0x21283(_0x43943d[_0x406c('0x43')]);examplesHtml+=_0x406c('0x56');examplesHtml+=_0x406c('0x2');examplesHtml+=_0x406c('0x28');}}else if(_0x43943d[_0x406c('0x73')]===Array){for(var _0x3b4516=0x0;_0x3b4516<_0x43943d[_0x406c('0x50')];_0x3b4516++){_0x21283(_0x43943d[_0x3b4516]);}}else if(_0x43943d[_0x406c('0x40')]=='file'){examplesHtml+=_0x406c('0x6a');examplesHtml+=_0x406c('0x47')+_0x43943d[_0x406c('0x2d')]+_0x406c('0x44')+_0x43943d['path'][_0x406c('0x2b')]('\x5c')[_0x406c('0x78')]('/')+'\x27)\x22>'+_0x43943d['name']+_0x406c('0x2c');examplesHtml+=_0x406c('0x28');}}_0x21283(tree);}();