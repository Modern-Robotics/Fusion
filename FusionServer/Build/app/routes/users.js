var _0x4130=['exports','get','/api/users','find','Guest','send','json','post','authenticate','status','message','MultiUserAccess','connected','socketId','logIn','body','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','local-signup','user','Error','/api/users/:User_Id','findOne','params','User_Id','toLowerCase','trim','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','username','fusion_program_running','logout','remove','removeFileSystem','Successfully\x20deleted','/api/users/login','local-login','LOGIN.SUCCESS','LOGIN.MULTIUSER_DENIED','/api/users/cloudLogin','log','in\x20cloud\x20login','POST','https://172.16.0.1/backend/auth/ldap','exec','login','create','Error\x20with\x20request\x20promise.\x20','/api/users/logout','SocketVariables','User','KillProgram','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','local-recovery','Login\x20Successful','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20found','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','verbose','filename','push','Getting\x20data\x20for\x20','Blockly','/Editor','stat','name','/Blockly','Editor','debug','floor','mtimeMs','Remote\x20mtime:\x20','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','Error\x20creating\x20editor\x20directory:\x20','Error\x20creating\x20blockly\x20directory:\x20','Error\x20reading\x20classroom\x20editor\x20files:\x20','Retrieving\x20files','app/filesystem/','Moving:\x20','\x20to\x20','scp','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','scp2','Client','fs-extra','path','request-promise','./../../server/classroom/connection/','winston'];(function(_0x252ade,_0x2fa9b0){var _0x1405dc=function(_0x26f909){while(--_0x26f909){_0x252ade['push'](_0x252ade['shift']());}};_0x1405dc(++_0x2fa9b0);}(_0x4130,0x8b));var _0x1a30=function(_0x3975d4,_0x1df8a3){_0x3975d4=_0x3975d4-0x0;var _0x15cc5d=_0x4130[_0x3975d4];return _0x15cc5d;};var SCP=require(_0x1a30('0x0'));var SSH=require('ssh2')[_0x1a30('0x1')];var fs=require(_0x1a30('0x2'));var path=require(_0x1a30('0x3'));var rp=require(_0x1a30('0x4'));const classroomConnection=require(_0x1a30('0x5'));const winston=require(_0x1a30('0x6'));module[_0x1a30('0x7')]=function(_0x465391,_0x505077,_0x3cc8b0,_0x37a3e5,_0x4fe92e,_0x48eba9){_0x465391[_0x1a30('0x8')](_0x1a30('0x9'),_0x32814a(),function(_0x45bd7b,_0x84adba){_0x505077[_0x1a30('0xa')]({'usergroup':{'$ne':_0x1a30('0xb')}},function(_0x2f4bdb,_0x112cb0){if(_0x2f4bdb)_0x84adba[_0x1a30('0xc')](_0x2f4bdb);_0x84adba[_0x1a30('0xd')](_0x112cb0);});});_0x465391[_0x1a30('0xe')]('/api/users',function(_0x506eca,_0x252132,_0x10fc67){_0x3cc8b0[_0x1a30('0xf')]('local-signup',async function(_0x551c9e,_0x12e041,_0x5280f7){if(_0x551c9e)return _0x252132[_0x1a30('0x10')](0x1f4)['send'](_0x551c9e);if(_0x5280f7&&_0x5280f7['message'])return _0x252132[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x506eca['__'](_0x5280f7[_0x1a30('0x11')]));if(_0x48eba9[_0x1a30('0x12')]){if(classroomConnection[_0x1a30('0x13')]){await _0x516377(_0x12e041);}_0x506eca['logIn'](_0x12e041,function(_0x551c9e){if(_0x551c9e){return _0x10fc67(_0x551c9e);}_0x136bd0(_0x506eca['body'][_0x1a30('0x14')],_0x12e041);return _0x252132[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x506eca['__']('REGISTER.CREATED'),'user':_0x12e041});});}else{if(_0x3e786d()==0x0){_0x136bd0(_0x506eca['body'][_0x1a30('0x14')],_0x12e041);if(classroomConnection['connected']){await _0x516377(_0x12e041);}_0x506eca[_0x1a30('0x15')](_0x12e041,function(_0x551c9e){if(_0x551c9e){return _0x10fc67(_0x551c9e);}_0x136bd0(_0x506eca[_0x1a30('0x16')][_0x1a30('0x14')],_0x12e041);return _0x252132[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x506eca['__']('REGISTER.CREATED'),'user':_0x12e041});});}else{return _0x252132[_0x1a30('0x10')](0x1f4)['send'](_0x506eca['__'](_0x1a30('0x17')));}}})(_0x506eca,_0x252132,_0x10fc67);});_0x465391[_0x1a30('0xe')](_0x1a30('0x9'),_0x3cc8b0[_0x1a30('0xf')](_0x1a30('0x18'),{'session':!![]}),function(_0x481fee,_0x172cbe){if(_0x481fee[_0x1a30('0x19')][_0x1a30('0x1a')]){return _0x172cbe[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x481fee['user']['Error']);}else{}});_0x465391[_0x1a30('0x8')](_0x1a30('0x1b'),_0x32814a(),function(_0x5cf210,_0x333dee){_0x505077[_0x1a30('0x1c')]({'username':_0x5cf210[_0x1a30('0x1d')][_0x1a30('0x1e')][_0x1a30('0x1f')]()[_0x1a30('0x20')]()},function(_0x38edfa,_0x2879ef){if(_0x38edfa)_0x333dee[_0x1a30('0xc')](_0x38edfa);_0x333dee[_0x1a30('0xd')](_0x2879ef);});});_0x465391['put'](_0x1a30('0x1b'),_0x32814a(),function(_0x2247f5,_0x4d933a){_0x505077['findOne']({'username':_0x2247f5[_0x1a30('0x1d')][_0x1a30('0x1e')]['toLowerCase']()[_0x1a30('0x20')]()},function(_0x3bd461,_0xb23af7){if(_0x3bd461)_0x4d933a[_0x1a30('0xc')](_0x3bd461);if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x21')]){_0xb23af7['password']=_0xb23af7[_0x1a30('0x22')](_0x2247f5[_0x1a30('0x16')][_0x1a30('0x21')]);}if(_0x2247f5['body'][_0x1a30('0x23')]){_0xb23af7[_0x1a30('0x23')]=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x23')];}if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x24')]){_0xb23af7['lastname']=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x24')];}if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x25')]){_0xb23af7['language']=_0x2247f5['body']['language'];}if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x26')]){_0xb23af7[_0x1a30('0x26')]=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x26')];}if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x27')]){_0xb23af7[_0x1a30('0x27')]=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x27')];}if(_0x2247f5[_0x1a30('0x16')][_0x1a30('0x28')]){_0xb23af7['securityquestion']=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x28')];}if(_0x2247f5[_0x1a30('0x16')]['securityanswer']){_0xb23af7[_0x1a30('0x29')]=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x29')];}if(_0x2247f5['body'][_0x1a30('0x2a')]){_0xb23af7[_0x1a30('0x2a')]=_0x2247f5[_0x1a30('0x16')][_0x1a30('0x2a')];}_0xb23af7[_0x1a30('0x2b')](function(_0x3bd461){if(_0x3bd461)_0x4d933a[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x3bd461);_0x4d933a[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')]({'serverMessage':'User\x20updated!'});});});});_0x465391['delete'](_0x1a30('0x1b'),_0x32814a(),function(_0x5dff18,_0x15d0f7){if(_0x5dff18[_0x1a30('0x1d')][_0x1a30('0x1e')][_0x1a30('0x1f')]()[_0x1a30('0x20')]()==_0x5dff18[_0x1a30('0x19')][_0x1a30('0x2c')]){if(_0x48eba9['SocketVariables'][_0x1a30('0x2d')])if(_0x48eba9['SocketVariables'][_0x1a30('0x2d')]['User']==_0x5dff18['user'][_0x1a30('0x2c')])_0x37a3e5['KillProgram']();_0x1cc169(_0x5dff18[_0x1a30('0x19')][_0x1a30('0x2c')]);_0x5dff18[_0x1a30('0x2e')]();}_0x505077[_0x1a30('0x2f')]({'username':_0x5dff18[_0x1a30('0x1d')][_0x1a30('0x1e')][_0x1a30('0x1f')]()[_0x1a30('0x20')]()},function(_0x2622df,_0x20db65){if(_0x2622df)return _0x15d0f7[_0x1a30('0xc')](_0x2622df);_0x505077[_0x1a30('0x30')](_0x5dff18[_0x1a30('0x1d')]['User_Id'][_0x1a30('0x1f')]()[_0x1a30('0x20')]());return _0x15d0f7[_0x1a30('0x10')](0xc8)['json']({'serverMessage':_0x1a30('0x31')});});});_0x465391[_0x1a30('0xe')](_0x1a30('0x32'),function(_0x5a9b48,_0x2b04eb,_0x1788be){_0x3cc8b0[_0x1a30('0xf')](_0x1a30('0x33'),async function(_0xb1df2d,_0x211856,_0x4f1ed9){if(_0xb1df2d)return _0x2b04eb['status'](0x1f4)[_0x1a30('0xc')](_0x5a9b48['__'](_0xb1df2d[_0x1a30('0x11')]));if(!_0x211856)return _0x2b04eb[_0x1a30('0x10')](0x191)[_0x1a30('0xc')](_0x5a9b48['__'](_0x4f1ed9[_0x1a30('0x11')]));if(_0x48eba9[_0x1a30('0x12')]){if(classroomConnection[_0x1a30('0x13')]){await _0x516377(_0x211856);}_0x5a9b48[_0x1a30('0x15')](_0x211856,function(_0xb1df2d){if(_0xb1df2d){return _0x1788be(_0xb1df2d);}_0x136bd0(_0x5a9b48[_0x1a30('0x16')][_0x1a30('0x14')],_0x211856);return _0x2b04eb['status'](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x5a9b48['__'](_0x1a30('0x34')),'user':_0x211856});});}else{if(_0x3e786d()==0x0){_0x136bd0(_0x5a9b48['body'][_0x1a30('0x14')],_0x211856);if(classroomConnection[_0x1a30('0x13')]){await _0x516377(_0x211856);}_0x5a9b48['logIn'](_0x211856,function(_0xb1df2d){if(_0xb1df2d){return _0x1788be(_0xb1df2d);}_0x136bd0(_0x5a9b48['body'][_0x1a30('0x14')],_0x211856);return _0x2b04eb['status'](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x5a9b48['__'](_0x1a30('0x34')),'user':_0x211856});});}else{return _0x2b04eb[_0x1a30('0x10')](0x1f4)['send'](_0x5a9b48['__'](_0x1a30('0x35')));}}})(_0x5a9b48,_0x2b04eb,_0x1788be);});_0x465391['post'](_0x1a30('0x36'),async function(_0x4dab50,_0x3aedef){console[_0x1a30('0x37')](_0x1a30('0x38'));var _0x1dcf3f={'method':_0x1a30('0x39'),'uri':_0x1a30('0x3a'),'body':{'username':_0x4dab50[_0x1a30('0x16')][_0x1a30('0x2c')],'password':_0x4dab50['body'][_0x1a30('0x21')]},'json':!![],'rejectUnauthorized':![]};try{let _0x5102ef=await rp(_0x1dcf3f);let _0x4723d7=await _0x505077['findOne']({'username':_0x4dab50[_0x1a30('0x16')][_0x1a30('0x2c')]})[_0x1a30('0x3b')]();if(_0x4723d7){return _0x3aedef[_0x1a30('0x10')](0xc8)[_0x1a30('0xc')](_0x1a30('0x3c'));}else{return _0x3aedef[_0x1a30('0x10')](0xc8)[_0x1a30('0xc')](_0x1a30('0x3d'));}}catch(_0x1e5f1d){console['log'](_0x1a30('0x3e')+_0x1e5f1d);return _0x3aedef[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x1e5f1d);}});_0x465391['post'](_0x1a30('0x3f'),_0x32814a(),function(_0x51c5d8,_0x475fbf){if(_0x48eba9[_0x1a30('0x40')][_0x1a30('0x2d')])if(_0x48eba9[_0x1a30('0x40')][_0x1a30('0x2d')][_0x1a30('0x41')]==_0x51c5d8[_0x1a30('0x19')][_0x1a30('0x2c')])_0x37a3e5[_0x1a30('0x42')]();_0x16e5ba(_0x51c5d8[_0x1a30('0x16')][_0x1a30('0x14')]);_0x51c5d8[_0x1a30('0x2e')]();_0x475fbf[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x1a30('0x43')});});_0x465391[_0x1a30('0x8')](_0x1a30('0x44'),function(_0x20cd56,_0x34bd93){_0x505077[_0x1a30('0x1c')]({'username':_0x20cd56[_0x1a30('0x1d')][_0x1a30('0x1e')][_0x1a30('0x1f')]()[_0x1a30('0x20')]()},function(_0x169155,_0x208cc3){if(_0x169155)return _0x34bd93[_0x1a30('0x10')](0x1f4)['send'](_0x169155);if(!_0x208cc3)return _0x34bd93[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x1a30('0x45'));else return _0x34bd93[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')](_0x208cc3['securityquestion']);});});_0x465391[_0x1a30('0xe')](_0x1a30('0x46'),_0x3cc8b0[_0x1a30('0xf')](_0x1a30('0x47'),{'session':!![]}),function(_0x5579e0,_0x54a058){if(_0x48eba9[_0x1a30('0x12')]){if(classroomConnection[_0x1a30('0x13')]){_0x516377(_0x5579e0['user']);}_0x136bd0(_0x5579e0[_0x1a30('0x16')][_0x1a30('0x14')],_0x5579e0[_0x1a30('0x19')]);return _0x54a058[_0x1a30('0x10')](0xc8)['json']({'serverMessage':_0x1a30('0x48'),'user':_0x5579e0[_0x1a30('0x19')]});}else{if(_0x3e786d()==0x0){_0x136bd0(_0x5579e0['body']['socketId'],_0x5579e0['user']);if(classroomConnection[_0x1a30('0x13')]){_0x516377(_0x5579e0[_0x1a30('0x19')]);}return _0x54a058[_0x1a30('0x10')](0xc8)[_0x1a30('0xd')]({'serverMessage':_0x1a30('0x48'),'user':_0x5579e0['user']});}else{_0x5579e0[_0x1a30('0x2e')]();return _0x54a058[_0x1a30('0x10')](0x1f4)[_0x1a30('0xc')](_0x1a30('0x49'));}}});_0x465391['get'](_0x1a30('0x4a'),function(_0x12513d,_0x35f3cc){var _0x6efeb5=[_0x1a30('0x41')];_0x505077['findOne']({'usergroup':_0x1a30('0x4b')},function(_0x4ff800,_0x3c7949){if(_0x4ff800)return _0x35f3cc['status'](0xc8)[_0x1a30('0xc')](_0x6efeb5);if(!_0x3c7949)_0x6efeb5[_0x1a30('0x4c')](_0x1a30('0x4b'));return _0x35f3cc[_0x1a30('0x10')](0xc8)[_0x1a30('0xc')](_0x6efeb5);});});function _0x3e786d(){var _0x98a964=0x0;for(var _0xff610b=0x0;_0xff610b<_0x48eba9[_0x1a30('0x4d')][_0x1a30('0x4e')];_0xff610b++){if(_0x48eba9['connectedClients'][_0xff610b][_0x1a30('0x41')]){_0x98a964++;}}return _0x98a964;}function _0x136bd0(_0xada87f,_0xe3b836){for(var _0x3fb27d=0x0;_0x3fb27d<_0x48eba9['connectedClients']['length'];_0x3fb27d++){if(_0x48eba9[_0x1a30('0x4d')][_0x3fb27d]['id']==_0xada87f){_0x48eba9[_0x1a30('0x4d')][_0x3fb27d][_0x1a30('0x41')]=_0xe3b836;break;}}}function _0x16e5ba(_0x58a84b){for(var _0xec2562=0x0;_0xec2562<_0x48eba9[_0x1a30('0x4d')][_0x1a30('0x4e')];_0xec2562++){if(_0x48eba9[_0x1a30('0x4d')][_0xec2562]['id']==_0x58a84b){_0x48eba9[_0x1a30('0x4d')][_0xec2562]['User']=undefined;break;}}}function _0x1cc169(_0x11daa5){for(var _0x434d7d=0x0;_0x434d7d<_0x48eba9[_0x1a30('0x4d')]['length'];_0x434d7d++){if(_0x48eba9[_0x1a30('0x4d')][_0x434d7d][_0x1a30('0x41')][_0x1a30('0x2c')]==_0x11daa5){_0x48eba9[_0x1a30('0x4d')][_0x434d7d]['User']=undefined;break;}}}function _0x32814a(){return function(_0x513030,_0x5ef66c,_0x5039f1){if(_0x513030[_0x1a30('0x4f')]()){return _0x5039f1();}else{return _0x5ef66c[_0x1a30('0x10')](0x191)[_0x1a30('0xc')](_0x1a30('0x50'));}};}async function _0x516377(_0x4341bf){try{await _0x509861(_0x4341bf);}catch(_0x52efad){winston['info'](_0x52efad);winston[_0x1a30('0x51')](_0x1a30('0x52')+_0x4341bf['username']);}};function _0x509861(_0x32652c){return new Promise(function(_0x1ba806,_0x21f650){var _0x1d502e=new SSH();_0x1d502e['on'](_0x1a30('0x53'),function(){_0x1d502e[_0x1a30('0x54')](async function(_0x4b6dd6,_0x59266f){if(_0x4b6dd6){winston[_0x1a30('0x51')](_0x1a30('0x55')+_0x4b6dd6);_0x1d502e[_0x1a30('0x56')]();return _0x21f650(_0x4b6dd6);}try{await _0x206855(_0x59266f);await _0x239b33(_0x59266f,_0x32652c[_0x1a30('0x2c')]);await _0x4a7107(_0x59266f,_0x32652c[_0x1a30('0x2c')]);await _0x33bc60(_0x59266f,_0x32652c[_0x1a30('0x2c')]);let _0x4ea57b=await _0x306b80(_0x59266f,_0x32652c[_0x1a30('0x2c')]);winston[_0x1a30('0x51')](JSON[_0x1a30('0x57')](_0x4ea57b));let _0x820d9a=await _0x5d5f5d(_0x32652c[_0x1a30('0x58')]);winston['info'](JSON[_0x1a30('0x57')](_0x820d9a));await _0x423d89(_0x59266f,_0x32652c,_0x4ea57b,_0x820d9a);_0x1d502e[_0x1a30('0x56')]();return _0x1ba806();}catch(_0x182d0d){winston[_0x1a30('0x51')](_0x182d0d);_0x1d502e[_0x1a30('0x56')]();return _0x21f650(_0x182d0d);}});})[_0x1a30('0x59')]({'host':_0x1a30('0x5a'),'port':0x16,'username':'c3','password':_0x1a30('0x5b')});});};function _0x206855(_0x26309a){return new Promise(function(_0x21bb57,_0xe398a3){_0x26309a[_0x1a30('0x5c')](_0x1a30('0x5d'),function(_0x19004f){if(_0x19004f){_0x26309a[_0x1a30('0x5e')](_0x1a30('0x5d'),function(_0x383ab2){if(_0x383ab2){return _0xe398a3(_0x1a30('0x5f')+_0x383ab2);}else{winston[_0x1a30('0x51')]('Classroom\x20file\x20system\x20created');return _0x21bb57();}});}else{winston['info'](_0x1a30('0x60'));return _0x21bb57();}});});};function _0x239b33(_0x3cb77c,_0x2240bc){return new Promise(function(_0x1ec068,_0x1fd56b){_0x3cb77c[_0x1a30('0x5c')]('/home/c3/FusionFilesystem/'+_0x2240bc,function(_0x344edf){if(_0x344edf){_0x3cb77c[_0x1a30('0x5e')](_0x1a30('0x5d')+_0x2240bc,function(_0x57c011){if(_0x57c011){return _0x1fd56b('Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20'+_0x57c011);}else{winston[_0x1a30('0x51')]('User\x27s\x20classroom\x20file\x20system\x20created');return _0x1ec068();}});}else{winston[_0x1a30('0x51')](_0x1a30('0x61'));return _0x1ec068();}});});};function _0x4a7107(_0x5c7e73,_0x4e1032){return new Promise(function(_0x6b6177,_0x4e8272){_0x5c7e73[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x4e1032+_0x1a30('0x62'),function(_0x365662){if(_0x365662){_0x5c7e73[_0x1a30('0x5e')](_0x1a30('0x5d')+_0x4e1032+'/Editor/',function(_0x2724e5){if(_0x2724e5){return _0x4e8272('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x2724e5);}else{winston[_0x1a30('0x51')](_0x1a30('0x63'));return _0x6b6177();}});}else{winston[_0x1a30('0x51')](_0x1a30('0x64'));return _0x6b6177();}});});};function _0x33bc60(_0x52357f,_0x6a42b0){return new Promise(function(_0x502e6b,_0x4a0ca3){_0x52357f['readdir'](_0x1a30('0x5d')+_0x6a42b0+_0x1a30('0x65'),function(_0x2ed30f){if(_0x2ed30f){_0x52357f[_0x1a30('0x5e')](_0x1a30('0x5d')+_0x6a42b0+_0x1a30('0x65'),function(_0x451b49){if(_0x451b49){return _0x4a0ca3(_0x1a30('0x66')+_0x451b49);}else{winston[_0x1a30('0x51')](_0x1a30('0x67'));return _0x502e6b();}});}else{winston[_0x1a30('0x51')](_0x1a30('0x68'));return _0x502e6b();}});});};function _0x306b80(_0x39d665,_0x4af9d8){return new Promise(async function(_0xcaa6a9,_0x4c3fd9){try{let _0x5626bf={};_0x5626bf['Editor']=await _0x4e1d25(_0x39d665,_0x4af9d8);_0x5626bf['Blockly']=await _0x256619(_0x39d665,_0x4af9d8);return _0xcaa6a9(_0x5626bf);}catch(_0x4c30f8){return _0x4c3fd9(_0x4c30f8);}});};function _0x4e1d25(_0x321614,_0x370138){return new Promise(function(_0x2b2bcd,_0x4239b7){_0x321614[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x370138+_0x1a30('0x62'),function(_0x1b8833,_0x3ab6ca){if(_0x1b8833)return _0x4239b7(_0x1b8833);let _0x2c0ee1=[];for(let _0x156738=0x0;_0x156738<_0x3ab6ca['length'];_0x156738++){winston[_0x1a30('0x69')]('Getting\x20data\x20for\x20'+_0x3ab6ca[_0x156738][_0x1a30('0x6a')]);_0x2c0ee1[_0x1a30('0x6b')](_0x3ab6ca[_0x156738]);}return _0x2b2bcd(_0x2c0ee1);});});};function _0x256619(_0x3caa03,_0x314808){return new Promise(function(_0x169013,_0x12299b){_0x3caa03[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x314808+_0x1a30('0x65'),function(_0x534a7e,_0x46f0cd){if(_0x534a7e)return _0x12299b(_0x534a7e);let _0x28a055=[];for(let _0x1b085e=0x0;_0x1b085e<_0x46f0cd[_0x1a30('0x4e')];_0x1b085e++){winston[_0x1a30('0x69')](_0x1a30('0x6c')+_0x46f0cd[_0x1b085e][_0x1a30('0x6a')]);_0x28a055[_0x1a30('0x6b')](_0x46f0cd[_0x1b085e]);}return _0x169013(_0x28a055);});});};function _0x5d5f5d(_0x3b09b6){return new Promise(async function(_0x4e0e4a,_0x3a100f){try{let _0x23e3bd={};_0x23e3bd['Editor']=await _0x5a7f4b(_0x3b09b6);_0x23e3bd[_0x1a30('0x6d')]=await _0x550086(_0x3b09b6);return _0x4e0e4a(_0x23e3bd);}catch(_0x4b24b0){return _0x3a100f(_0x4b24b0);}});};function _0x5a7f4b(_0x10619c){return new Promise(async function(_0x14292e,_0x2fffbb){try{let _0x3cbf13=[];let _0x4eef1f=await fs[_0x1a30('0x5c')](_0x10619c+_0x1a30('0x6e'));for(let _0x1e9e28=0x0;_0x1e9e28<_0x4eef1f[_0x1a30('0x4e')];_0x1e9e28++){winston[_0x1a30('0x69')]('Getting\x20data\x20for\x20'+_0x4eef1f[_0x1e9e28]);let _0x35ec7b=await fs[_0x1a30('0x6f')](_0x10619c+_0x1a30('0x62')+_0x4eef1f[_0x1e9e28]);_0x35ec7b[_0x1a30('0x70')]=_0x4eef1f[_0x1e9e28];_0x3cbf13[_0x1a30('0x6b')](_0x35ec7b);}return _0x14292e(_0x3cbf13);}catch(_0x3b2bca){return _0x2fffbb(_0x3b2bca);}});};function _0x550086(_0x3d4ce5){return new Promise(async function(_0x42226d,_0x10dda3){try{let _0x490923=[];let _0x294a2d=await fs[_0x1a30('0x5c')](_0x3d4ce5+_0x1a30('0x71'));for(let _0x2452e5=0x0;_0x2452e5<_0x294a2d[_0x1a30('0x4e')];_0x2452e5++){winston[_0x1a30('0x69')](_0x1a30('0x6c')+_0x294a2d[_0x2452e5]);let _0x381ca=await fs[_0x1a30('0x6f')](_0x3d4ce5+'/Blockly/'+_0x294a2d[_0x2452e5]);_0x381ca[_0x1a30('0x70')]=_0x294a2d[_0x2452e5];_0x490923['push'](_0x381ca);}return _0x42226d(_0x490923);}catch(_0x3c5ad2){return _0x10dda3(_0x3c5ad2);}});};function _0x423d89(_0x3b9110,_0x22048c,_0x5bc633,_0x486d61){return new Promise(async function(_0x5c681e,_0x3b941a){try{for(let _0x3251eb=0x0;_0x3251eb<_0x5bc633[_0x1a30('0x72')][_0x1a30('0x4e')];_0x3251eb++){let _0x1422e5=![];for(let _0x923698=0x0;_0x923698<_0x486d61['Editor'][_0x1a30('0x4e')];_0x923698++){if(_0x486d61[_0x1a30('0x72')][_0x923698][_0x1a30('0x70')]==_0x5bc633[_0x1a30('0x72')][_0x3251eb][_0x1a30('0x6a')]){winston[_0x1a30('0x73')]('Local\x20mtime:\x20'+Math[_0x1a30('0x74')](_0x486d61['Editor'][_0x923698][_0x1a30('0x75')]/0x3e8));winston['debug'](_0x1a30('0x76')+_0x5bc633['Editor'][_0x3251eb][_0x1a30('0x77')][_0x1a30('0x78')]);if(Math[_0x1a30('0x74')](_0x486d61[_0x1a30('0x72')][_0x923698][_0x1a30('0x75')]/0x3e8)>_0x5bc633[_0x1a30('0x72')][_0x3251eb][_0x1a30('0x77')][_0x1a30('0x78')]){_0x1422e5=!![];winston[_0x1a30('0x69')](_0x1a30('0x79')+_0x486d61[_0x1a30('0x72')][_0x923698][_0x1a30('0x70')]+_0x1a30('0x7a'));try{await _0x32fc90(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x72')][_0x3251eb][_0x1a30('0x6a')],_0x1a30('0x72'));}catch(_0xecca0b){return _0x3b941a(_0xecca0b);}break;}else{_0x1422e5=!![];winston[_0x1a30('0x69')](_0x1a30('0x7b')+_0x486d61[_0x1a30('0x72')][_0x923698][_0x1a30('0x70')]+_0x1a30('0x7c'));try{await _0x7b34c5(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x72')][_0x3251eb][_0x1a30('0x6a')],_0x1a30('0x72'));}catch(_0x3735ab){winston['debug'](_0x1a30('0x7d')+_0x3735ab);return _0x3b941a(_0x3735ab);}break;}}}if(!_0x1422e5){winston[_0x1a30('0x69')](_0x5bc633[_0x1a30('0x72')][_0x3251eb]['filename']+_0x1a30('0x7e'));try{await _0x7b34c5(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x72')][_0x3251eb][_0x1a30('0x6a')],'Editor');}catch(_0x8fb201){return _0x3b941a(_0x8fb201);}}}for(let _0x5501c2=0x0;_0x5501c2<_0x5bc633[_0x1a30('0x6d')][_0x1a30('0x4e')];_0x5501c2++){let _0x1422e5=![];for(let _0x923698=0x0;_0x923698<_0x486d61[_0x1a30('0x6d')]['length'];_0x923698++){if(_0x486d61['Blockly'][_0x923698][_0x1a30('0x70')]==_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x6a')]){winston['debug']('Local\x20mtime:\x20'+Math[_0x1a30('0x74')](_0x486d61[_0x1a30('0x6d')][_0x923698][_0x1a30('0x75')]/0x3e8));winston[_0x1a30('0x73')](_0x1a30('0x76')+_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x77')][_0x1a30('0x78')]);if(Math[_0x1a30('0x74')](_0x486d61[_0x1a30('0x6d')][_0x923698][_0x1a30('0x75')]/0x3e8)>_0x5bc633['Blockly'][_0x5501c2]['attrs']['mtime']){_0x1422e5=!![];winston[_0x1a30('0x69')](_0x1a30('0x79')+_0x486d61[_0x1a30('0x6d')][_0x923698][_0x1a30('0x70')]+_0x1a30('0x7a'));try{await _0x32fc90(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x6a')],_0x1a30('0x6d'));}catch(_0x32b1f0){return _0x3b941a(_0x32b1f0);}break;}else{_0x1422e5=!![];winston['verbose'](_0x1a30('0x7b')+_0x486d61[_0x1a30('0x6d')][_0x923698][_0x1a30('0x70')]+_0x1a30('0x7c'));try{await _0x7b34c5(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x6a')],_0x1a30('0x6d'));}catch(_0x4e82c5){winston['debug'](_0x1a30('0x7d')+_0x4e82c5);return _0x3b941a(_0x4e82c5);}break;}}}if(!_0x1422e5){winston['verbose'](_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x6a')]+'\x20not\x20a\x20common\x20file!');try{await _0x7b34c5(_0x3b9110,_0x22048c,_0x5bc633[_0x1a30('0x6d')][_0x5501c2][_0x1a30('0x6a')],_0x1a30('0x6d'));}catch(_0x17d410){return _0x3b941a(_0x17d410);}}}return _0x5c681e();}catch(_0x21a1ee){return _0x3b941a(_0x21a1ee);}});};function _0x32fc90(_0x1ad001,_0x5a1453,_0x444b98,_0x2f58b0){return new Promise((_0x54c36,_0xc287f6)=>{try{let _0x4f8768=_0x1a30('0x5d')+_0x5a1453[_0x1a30('0x2c')]+'/'+_0x2f58b0+'/'+_0x444b98;let _0x4b3cfa=_0x5a1453[_0x1a30('0x58')]+'/'+_0x2f58b0+'/'+_0x444b98;winston[_0x1a30('0x69')](_0x1a30('0x7f')+_0x4f8768);winston[_0x1a30('0x69')](_0x1a30('0x80')+_0x4b3cfa);_0x1ad001[_0x1a30('0x81')](_0x4b3cfa,_0x4f8768,{},function(_0x2f4d1d){if(_0x2f4d1d){winston[_0x1a30('0x73')]('Error\x20uploading\x20file:\x20'+_0x444b98);return _0xc287f6(_0x2f4d1d);}winston[_0x1a30('0x51')](_0x1a30('0x82')+_0x444b98);return _0x54c36();});}catch(_0x1ef53c){return _0xc287f6(_0x1ef53c);}});};function _0x7b34c5(_0x6b128b,_0x1383f1,_0x1cf23c,_0x4544c8){return new Promise((_0x32cb94,_0x17e776)=>{try{let _0x90276b=_0x1a30('0x5d')+_0x1383f1['username']+'/'+_0x4544c8+'/'+_0x1cf23c;let _0x5ec029=_0x1383f1[_0x1a30('0x58')]+'/'+_0x4544c8+'/'+_0x1cf23c;winston[_0x1a30('0x69')]('Remote\x20path:\x20'+_0x90276b);winston['verbose'](_0x1a30('0x80')+_0x5ec029);_0x6b128b[_0x1a30('0x83')](_0x90276b,_0x5ec029,{},function(_0xc96efd){if(_0xc96efd){winston[_0x1a30('0x73')](_0x1a30('0x84')+_0x1cf23c);return _0x17e776(_0xc96efd);}winston[_0x1a30('0x51')]('Retrieved\x20'+_0x1cf23c);return _0x32cb94();});}catch(_0x15c81f){return _0x17e776(_0x15c81f);}});};function _0x5abfab(_0x5c7297,_0x4be47a,_0x2002fc,_0x494373){_0x5c7297[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x4be47a[_0x1a30('0x2c')],function(_0x300606){if(_0x300606){console[_0x1a30('0x37')](_0x1a30('0x85')+_0x300606);_0x5c7297[_0x1a30('0x5e')]('/home/c3/FusionFilesystem/'+_0x4be47a[_0x1a30('0x2c')],function(_0x595972){if(_0x595972){console[_0x1a30('0x37')](_0x1a30('0x86')+_0x595972);throw _0x595972;}console[_0x1a30('0x37')]('User\x20c3\x20directory\x20created');_0x5c7297[_0x1a30('0x5e')]('/home/c3/FusionFilesystem/'+_0x4be47a['username']+_0x1a30('0x62'),function(_0x57a0cb){if(_0x57a0cb){console[_0x1a30('0x37')](_0x1a30('0x87')+_0x57a0cb);throw _0x57a0cb;}console['log']('Editor\x20directory\x20created');_0x5c7297['mkdir']('/home/c3/FusionFilesystem/'+_0x4be47a[_0x1a30('0x2c')]+'/Blockly/',function(_0x50e2c9){if(_0x50e2c9){console[_0x1a30('0x37')](_0x1a30('0x88')+_0x50e2c9);throw _0x50e2c9;}console['log']('Blockly\x20directory\x20created');_0x494373(_0x5c7297,_0x4be47a,_0x2002fc);});});});}_0x494373(_0x5c7297,_0x4be47a,_0x2002fc);});};function _0x3d55cd(_0x5a1575,_0x302ed3,_0x32de96){_0x5a1575[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x302ed3[_0x1a30('0x2c')]+'/Editor/',function(_0x2905d0,_0x448f2e){if(_0x2905d0){console[_0x1a30('0x37')](_0x1a30('0x89')+_0x2905d0);throw _0x2905d0;}_0x4e255b(_0x302ed3,_0x1a30('0x72'),_0x448f2e,_0x32de96);});_0x5a1575[_0x1a30('0x5c')](_0x1a30('0x5d')+_0x302ed3[_0x1a30('0x2c')]+_0x1a30('0x65'),function(_0x1e1324,_0x31cd0e){if(_0x1e1324){console['log']('Error\x20reading\x20classroom\x20blockly\x20files:\x20'+_0x1e1324);throw _0x1e1324;}_0x4e255b(_0x302ed3,_0x1a30('0x6d'),_0x31cd0e,_0x32de96);});};function _0x4e255b(_0xff9ff3,_0x58d2c8,_0x60bc1f,_0x489317){console[_0x1a30('0x37')](_0x1a30('0x8a'));if(_0x58d2c8==_0x1a30('0x6d')&&_0x60bc1f[_0x1a30('0x4e')]==0x0){_0x489317['end']();}for(var _0x151e95=0x0;_0x151e95<_0x60bc1f['length'];_0x151e95++){let _0x3a7365=_0x1a30('0x5d')+_0xff9ff3['username']+'/'+_0x58d2c8+'/'+_0x60bc1f[_0x151e95][_0x1a30('0x6a')];let _0x2e6b1a=_0x1a30('0x8b')+_0xff9ff3[_0x1a30('0x2c')]+'/'+_0x58d2c8+'/';console['log'](_0x1a30('0x8c')+_0x3a7365+_0x1a30('0x8d')+_0x2e6b1a);SCP[_0x1a30('0x8e')](_0x1a30('0x8f')+_0x3a7365,_0x2e6b1a,function(_0x950fa8){if(_0x950fa8){console[_0x1a30('0x37')](_0x1a30('0x90')+_0x3a7365+_0x1a30('0x91')+_0x950fa8);}if(_0x58d2c8==_0x1a30('0x6d')&&(_0x151e95=_0x60bc1f[_0x1a30('0x4e')]-0x1)){_0x489317[_0x1a30('0x56')]();}});}};};