var _0x47f6=['Error:\x20','filepath','Remote\x20path:\x20','Local\x20Path:\x20','Error\x20uploading\x20file:\x20','Uploaded\x20','Error\x20downloading\x20file:\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','app/filesystem/','Moving:\x20','\x20to\x20','scp','c3:root@172.16.0.1:',',\x20error:\x20','ssh2','Client','fs-extra','path','request-promise','./../../server/classroom/connection/','winston','get','/api/users','find','Guest','send','json','post','authenticate','local-signup','user','Error','status','MultiUserAccess','connected','socketId','User\x20created!','logout','User\x20created\x20but\x20another\x20user\x20is\x20already\x20logged\x20in.','findOne','toLowerCase','trim','put','params','User_Id','body','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','username','SocketVariables','fusion_program_running','KillProgram','removeFileSystem','local-login','Login\x20Successful','User:\x20','/api/users/cloudLogin','log','in\x20cloud\x20login','https://172.16.0.1/backend/auth/ldap','login','create','User','Logged\x20out\x20successfully','/api/recovery/:User_Id','/api/recovery','local-recovery','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','connect','root','readdir','/home/c3/FusionFilesystem/','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','/Editor/','mkdir','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','Editor','Blockly','verbose','Getting\x20data\x20for\x20','push','filename','/Editor','name','debug','mtimeMs','Remote\x20mtime:\x20','attrs','mtime','floor','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x20not\x20a\x20common\x20file!','Local\x20mtime:\x20','\x22\x20newer,\x20updating\x20local\x20version'];(function(_0x4565bf,_0x3cffd5){var _0x580c64=function(_0x8f28f6){while(--_0x8f28f6){_0x4565bf['push'](_0x4565bf['shift']());}};_0x580c64(++_0x3cffd5);}(_0x47f6,0x99));var _0x3e71=function(_0x2f184b,_0x150adb){_0x2f184b=_0x2f184b-0x0;var _0x66a54d=_0x47f6[_0x2f184b];return _0x66a54d;};var SCP=require('scp2');var SSH=require(_0x3e71('0x0'))[_0x3e71('0x1')];var fs=require(_0x3e71('0x2'));var path=require(_0x3e71('0x3'));var rp=require(_0x3e71('0x4'));const classroomConnection=require(_0x3e71('0x5'));const winston=require(_0x3e71('0x6'));module['exports']=function(_0x507a92,_0x2b192b,_0x304d33,_0x4938ab,_0x1fd5ec,_0x20a225){_0x507a92[_0x3e71('0x7')](_0x3e71('0x8'),_0x335bd4(),function(_0x4a5b3e,_0x1d0d14){_0x2b192b[_0x3e71('0x9')]({'usergroup':{'$ne':_0x3e71('0xa')}},function(_0x86088d,_0x2f95b1){if(_0x86088d)_0x1d0d14[_0x3e71('0xb')](_0x86088d);_0x1d0d14[_0x3e71('0xc')](_0x2f95b1);});});_0x507a92[_0x3e71('0xd')](_0x3e71('0x8'),_0x304d33[_0x3e71('0xe')](_0x3e71('0xf'),{'session':!![]}),function(_0x5798be,_0x3ce938){if(_0x5798be[_0x3e71('0x10')][_0x3e71('0x11')]){return _0x3ce938[_0x3e71('0x12')](0x1f4)[_0x3e71('0xb')](_0x5798be['user'][_0x3e71('0x11')]);}else{if(_0x20a225[_0x3e71('0x13')]){if(classroomConnection[_0x3e71('0x14')]){_0x553fd4(_0x5798be[_0x3e71('0x10')]);}_0x309e8d(_0x5798be['body'][_0x3e71('0x15')],_0x5798be['user']);return _0x3ce938[_0x3e71('0x12')](0xc8)['json']({'serverMessage':_0x3e71('0x16'),'user':_0x5798be[_0x3e71('0x10')]});}else{if(_0x26b312()==0x0){_0x309e8d(_0x5798be['body']['socketId'],_0x5798be[_0x3e71('0x10')]);if(classroomConnection[_0x3e71('0x14')]){_0x553fd4(_0x5798be[_0x3e71('0x10')]);}return _0x3ce938['status'](0xc8)[_0x3e71('0xc')]({'serverMessage':_0x3e71('0x16'),'user':_0x5798be[_0x3e71('0x10')]});}else{_0x5798be[_0x3e71('0x17')]();return _0x3ce938[_0x3e71('0x12')](0x1f4)[_0x3e71('0xb')](_0x3e71('0x18'));}}}});_0x507a92[_0x3e71('0x7')]('/api/users/:User_Id',_0x335bd4(),function(_0x30c079,_0x4336eb){_0x2b192b[_0x3e71('0x19')]({'username':_0x30c079['params']['User_Id'][_0x3e71('0x1a')]()[_0x3e71('0x1b')]()},function(_0x2d54dd,_0x50cd60){if(_0x2d54dd)_0x4336eb['send'](_0x2d54dd);_0x4336eb[_0x3e71('0xc')](_0x50cd60);});});_0x507a92[_0x3e71('0x1c')]('/api/users/:User_Id',_0x335bd4(),function(_0x13b564,_0x4c0290){_0x2b192b[_0x3e71('0x19')]({'username':_0x13b564[_0x3e71('0x1d')][_0x3e71('0x1e')][_0x3e71('0x1a')]()[_0x3e71('0x1b')]()},function(_0x29c4eb,_0x1777b3){if(_0x29c4eb)_0x4c0290[_0x3e71('0xb')](_0x29c4eb);if(_0x13b564[_0x3e71('0x1f')][_0x3e71('0x20')]){_0x1777b3[_0x3e71('0x20')]=_0x1777b3[_0x3e71('0x21')](_0x13b564[_0x3e71('0x1f')][_0x3e71('0x20')]);}if(_0x13b564[_0x3e71('0x1f')][_0x3e71('0x22')]){_0x1777b3['firstname']=_0x13b564['body']['firstname'];}if(_0x13b564[_0x3e71('0x1f')][_0x3e71('0x23')]){_0x1777b3[_0x3e71('0x23')]=_0x13b564[_0x3e71('0x1f')][_0x3e71('0x23')];}if(_0x13b564[_0x3e71('0x1f')][_0x3e71('0x24')]){_0x1777b3[_0x3e71('0x24')]=_0x13b564['body'][_0x3e71('0x24')];}if(_0x13b564[_0x3e71('0x1f')][_0x3e71('0x25')]){_0x1777b3[_0x3e71('0x25')]=_0x13b564['body'][_0x3e71('0x25')];}if(_0x13b564['body'][_0x3e71('0x26')]){_0x1777b3['defaultprogramminglanguage']=_0x13b564[_0x3e71('0x1f')][_0x3e71('0x26')];}if(_0x13b564['body'][_0x3e71('0x27')]){_0x1777b3[_0x3e71('0x27')]=_0x13b564[_0x3e71('0x1f')][_0x3e71('0x27')];}if(_0x13b564['body'][_0x3e71('0x28')]){_0x1777b3[_0x3e71('0x28')]=_0x13b564[_0x3e71('0x1f')][_0x3e71('0x28')];}if(_0x13b564[_0x3e71('0x1f')]['usergroup']){_0x1777b3[_0x3e71('0x29')]=_0x13b564[_0x3e71('0x1f')][_0x3e71('0x29')];}_0x1777b3[_0x3e71('0x2a')](function(_0x29c4eb){if(_0x29c4eb)_0x4c0290[_0x3e71('0x12')](0x1f4)[_0x3e71('0xb')](_0x29c4eb);_0x4c0290[_0x3e71('0x12')](0xc8)['json']({'serverMessage':_0x3e71('0x2b')});});});});_0x507a92['delete']('/api/users/:User_Id',_0x335bd4(),function(_0x996c27,_0xd29aea){if(_0x996c27[_0x3e71('0x1d')][_0x3e71('0x1e')][_0x3e71('0x1a')]()[_0x3e71('0x1b')]()==_0x996c27['user'][_0x3e71('0x2c')]){if(_0x20a225[_0x3e71('0x2d')][_0x3e71('0x2e')])if(_0x20a225[_0x3e71('0x2d')][_0x3e71('0x2e')]['User']==_0x996c27[_0x3e71('0x10')][_0x3e71('0x2c')])_0x4938ab[_0x3e71('0x2f')]();_0x33546b(_0x996c27[_0x3e71('0x10')][_0x3e71('0x2c')]);_0x996c27[_0x3e71('0x17')]();}_0x2b192b['remove']({'username':_0x996c27[_0x3e71('0x1d')][_0x3e71('0x1e')][_0x3e71('0x1a')]()[_0x3e71('0x1b')]()},function(_0x24c77f,_0x554df4){if(_0x24c77f)return _0xd29aea[_0x3e71('0xb')](_0x24c77f);_0x2b192b[_0x3e71('0x30')](_0x996c27[_0x3e71('0x1d')][_0x3e71('0x1e')][_0x3e71('0x1a')]()[_0x3e71('0x1b')]());return _0xd29aea[_0x3e71('0x12')](0xc8)[_0x3e71('0xc')]({'serverMessage':'Successfully\x20deleted'});});});_0x507a92[_0x3e71('0xd')]('/api/users/login',_0x304d33[_0x3e71('0xe')](_0x3e71('0x31'),{'session':!![]}),async function(_0x38f85f,_0x20d008){if(_0x20a225[_0x3e71('0x13')]){if(classroomConnection[_0x3e71('0x14')]){await _0x553fd4(_0x38f85f[_0x3e71('0x10')]);}_0x309e8d(_0x38f85f[_0x3e71('0x1f')][_0x3e71('0x15')],_0x38f85f[_0x3e71('0x10')]);return _0x20d008[_0x3e71('0x12')](0xc8)[_0x3e71('0xc')]({'serverMessage':_0x3e71('0x32'),'user':_0x38f85f[_0x3e71('0x10')]});}else{if(_0x26b312()==0x0){_0x309e8d(_0x38f85f[_0x3e71('0x1f')][_0x3e71('0x15')],_0x38f85f['user']);console['log'](_0x3e71('0x33')+_0x38f85f[_0x3e71('0x10')]+'\x20connected\x20to\x20classroom?\x20'+classroomConnection[_0x3e71('0x14')]);if(classroomConnection[_0x3e71('0x14')]){await _0x553fd4(_0x38f85f[_0x3e71('0x10')]);}return _0x20d008['status'](0xc8)[_0x3e71('0xc')]({'serverMessage':_0x3e71('0x32'),'user':_0x38f85f['user']});}else{_0x38f85f[_0x3e71('0x17')]();return _0x20d008['status'](0x1f4)[_0x3e71('0xb')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x507a92[_0x3e71('0xd')](_0x3e71('0x34'),async function(_0x203d6e,_0x45736d){console[_0x3e71('0x35')](_0x3e71('0x36'));var _0x47563b={'method':'POST','uri':_0x3e71('0x37'),'body':{'username':_0x203d6e[_0x3e71('0x1f')]['username'],'password':_0x203d6e[_0x3e71('0x1f')][_0x3e71('0x20')]},'json':!![],'rejectUnauthorized':![]};try{let _0x1cfd1d=await rp(_0x47563b);let _0x2c6ff9=await _0x2b192b['findOne']({'username':_0x203d6e[_0x3e71('0x1f')]['username']})['exec']();if(_0x2c6ff9){return _0x45736d[_0x3e71('0x12')](0xc8)[_0x3e71('0xb')](_0x3e71('0x38'));}else{return _0x45736d[_0x3e71('0x12')](0xc8)[_0x3e71('0xb')](_0x3e71('0x39'));}}catch(_0x145621){console[_0x3e71('0x35')]('Error\x20with\x20request\x20promise.\x20'+_0x145621);return _0x45736d['status'](0x1f4)[_0x3e71('0xb')](_0x145621);}});_0x507a92['post']('/api/users/logout',_0x335bd4(),function(_0x3b06ba,_0x56c6b5){if(_0x20a225['SocketVariables'][_0x3e71('0x2e')])if(_0x20a225['SocketVariables']['fusion_program_running'][_0x3e71('0x3a')]==_0x3b06ba[_0x3e71('0x10')]['username'])_0x4938ab[_0x3e71('0x2f')]();_0x3f10aa(_0x3b06ba[_0x3e71('0x1f')][_0x3e71('0x15')]);_0x3b06ba[_0x3e71('0x17')]();_0x56c6b5[_0x3e71('0x12')](0xc8)['json']({'serverMessage':_0x3e71('0x3b')});});_0x507a92[_0x3e71('0x7')](_0x3e71('0x3c'),function(_0x3908cf,_0x1eeb57){_0x2b192b[_0x3e71('0x19')]({'username':_0x3908cf[_0x3e71('0x1d')][_0x3e71('0x1e')][_0x3e71('0x1a')]()[_0x3e71('0x1b')]()},function(_0x1a2d01,_0x51b566){if(_0x1a2d01)return _0x1eeb57['status'](0x1f4)[_0x3e71('0xb')](_0x1a2d01);if(!_0x51b566)return _0x1eeb57[_0x3e71('0x12')](0x1f4)[_0x3e71('0xb')]('User\x20does\x20not\x20exist');else return _0x1eeb57['status'](0xc8)[_0x3e71('0xc')](_0x51b566[_0x3e71('0x27')]);});});_0x507a92[_0x3e71('0xd')](_0x3e71('0x3d'),_0x304d33[_0x3e71('0xe')](_0x3e71('0x3e'),{'session':!![]}),function(_0x105582,_0x28c077){if(_0x20a225[_0x3e71('0x13')]){if(classroomConnection[_0x3e71('0x14')]){_0x553fd4(_0x105582[_0x3e71('0x10')]);}_0x309e8d(_0x105582[_0x3e71('0x1f')][_0x3e71('0x15')],_0x105582[_0x3e71('0x10')]);return _0x28c077[_0x3e71('0x12')](0xc8)[_0x3e71('0xc')]({'serverMessage':'Login\x20Successful','user':_0x105582[_0x3e71('0x10')]});}else{if(_0x26b312()==0x0){_0x309e8d(_0x105582[_0x3e71('0x1f')][_0x3e71('0x15')],_0x105582['user']);if(classroomConnection[_0x3e71('0x14')]){_0x553fd4(_0x105582[_0x3e71('0x10')]);}return _0x28c077[_0x3e71('0x12')](0xc8)[_0x3e71('0xc')]({'serverMessage':_0x3e71('0x32'),'user':_0x105582['user']});}else{_0x105582[_0x3e71('0x17')]();return _0x28c077[_0x3e71('0x12')](0x1f4)['send'](_0x3e71('0x3f'));}}});_0x507a92[_0x3e71('0x7')](_0x3e71('0x40'),function(_0x43adf1,_0x32a9e8){var _0x5dee79=[_0x3e71('0x3a')];_0x2b192b['findOne']({'usergroup':_0x3e71('0x41')},function(_0x41acfe,_0x20a86e){if(_0x41acfe)return _0x32a9e8[_0x3e71('0x12')](0xc8)[_0x3e71('0xb')](_0x5dee79);if(!_0x20a86e)_0x5dee79[_0x3e71('0x42')]('Admin');return _0x32a9e8[_0x3e71('0x12')](0xc8)[_0x3e71('0xb')](_0x5dee79);});});function _0x26b312(){var _0x5b098d=0x0;for(var _0x846802=0x0;_0x846802<_0x20a225[_0x3e71('0x43')][_0x3e71('0x44')];_0x846802++){if(_0x20a225[_0x3e71('0x43')][_0x846802][_0x3e71('0x3a')]){_0x5b098d++;}}return _0x5b098d;}function _0x309e8d(_0x90da24,_0x53d9f4){for(var _0x2779c7=0x0;_0x2779c7<_0x20a225[_0x3e71('0x43')]['length'];_0x2779c7++){if(_0x20a225[_0x3e71('0x43')][_0x2779c7]['id']==_0x90da24){_0x20a225[_0x3e71('0x43')][_0x2779c7][_0x3e71('0x3a')]=_0x53d9f4;break;}}}function _0x3f10aa(_0x4c52de){for(var _0x41c663=0x0;_0x41c663<_0x20a225['connectedClients'][_0x3e71('0x44')];_0x41c663++){if(_0x20a225[_0x3e71('0x43')][_0x41c663]['id']==_0x4c52de){_0x20a225['connectedClients'][_0x41c663]['User']=undefined;break;}}}function _0x33546b(_0x2fd5ac){for(var _0x2d2da1=0x0;_0x2d2da1<_0x20a225[_0x3e71('0x43')][_0x3e71('0x44')];_0x2d2da1++){if(_0x20a225[_0x3e71('0x43')][_0x2d2da1]['User']['username']==_0x2fd5ac){_0x20a225['connectedClients'][_0x2d2da1]['User']=undefined;break;}}}function _0x335bd4(){return function(_0xb23664,_0x48cd59,_0x5775fc){if(_0xb23664[_0x3e71('0x45')]()){return _0x5775fc();}else{_0x48cd59[_0x3e71('0x12')](0x191)[_0x3e71('0xb')](_0x3e71('0x46'));}};}async function _0x553fd4(_0x3ac203){try{await _0x386acc(_0x3ac203);}catch(_0x409207){winston[_0x3e71('0x47')](_0x409207);winston['info'](_0x3e71('0x48')+_0x3ac203[_0x3e71('0x2c')]);}};function _0x386acc(_0x23842e){return new Promise(function(_0x4347a1,_0x469990){var _0x12a5ea=new SSH();_0x12a5ea['on'](_0x3e71('0x49'),function(){_0x12a5ea[_0x3e71('0x4a')](async function(_0x559d76,_0x555c08){if(_0x559d76){winston[_0x3e71('0x47')](_0x3e71('0x4b')+_0x559d76);_0x12a5ea[_0x3e71('0x4c')]();return _0x469990(_0x559d76);}try{await _0x35e175(_0x555c08);await _0x47d007(_0x555c08,_0x23842e[_0x3e71('0x2c')]);await _0x215c00(_0x555c08,_0x23842e[_0x3e71('0x2c')]);await _0x288f3c(_0x555c08,_0x23842e['username']);let _0x421aef=await _0xf9faef(_0x555c08,_0x23842e[_0x3e71('0x2c')]);winston[_0x3e71('0x47')](JSON[_0x3e71('0x4d')](_0x421aef));let _0x22c64=await _0x40bd7e(_0x23842e['filepath']);winston[_0x3e71('0x47')](JSON['stringify'](_0x22c64));await _0x341d21(_0x555c08,_0x23842e,_0x421aef,_0x22c64);_0x12a5ea['end']();return _0x4347a1();}catch(_0x7e15de){winston[_0x3e71('0x47')](_0x7e15de);_0x12a5ea[_0x3e71('0x4c')]();return _0x469990(_0x7e15de);}});})[_0x3e71('0x4e')]({'host':'10.200.200.1','port':0x16,'username':'c3','password':_0x3e71('0x4f')});});};function _0x35e175(_0x19b352){return new Promise(function(_0x2365f7,_0xe44ade){_0x19b352[_0x3e71('0x50')]('/home/c3/FusionFilesystem/',function(_0x435bdb){if(_0x435bdb){_0x19b352['mkdir'](_0x3e71('0x51'),function(_0x5f4866){if(_0x5f4866){return _0xe44ade(_0x3e71('0x52')+_0x5f4866);}else{winston['info'](_0x3e71('0x53'));return _0x2365f7();}});}else{winston['info']('Classroom\x20file\x20system\x20found');return _0x2365f7();}});});};function _0x47d007(_0x3f1390,_0x378de2){return new Promise(function(_0x4792c8,_0xd94a37){_0x3f1390['readdir'](_0x3e71('0x51')+_0x378de2,function(_0x4a292f){if(_0x4a292f){_0x3f1390['mkdir']('/home/c3/FusionFilesystem/'+_0x378de2,function(_0x2960bc){if(_0x2960bc){return _0xd94a37(_0x3e71('0x54')+_0x2960bc);}else{winston[_0x3e71('0x47')](_0x3e71('0x55'));return _0x4792c8();}});}else{winston[_0x3e71('0x47')]('User\x27s\x20classroom\x20file\x20system\x20found');return _0x4792c8();}});});};function _0x215c00(_0x30dc18,_0x1c1ba1){return new Promise(function(_0x32819e,_0xdd0c34){_0x30dc18['readdir'](_0x3e71('0x51')+_0x1c1ba1+_0x3e71('0x56'),function(_0x5e2fe1){if(_0x5e2fe1){_0x30dc18[_0x3e71('0x57')]('/home/c3/FusionFilesystem/'+_0x1c1ba1+_0x3e71('0x56'),function(_0x59275e){if(_0x59275e){return _0xdd0c34('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x59275e);}else{winston[_0x3e71('0x47')](_0x3e71('0x58'));return _0x32819e();}});}else{winston[_0x3e71('0x47')](_0x3e71('0x59'));return _0x32819e();}});});};function _0x288f3c(_0x3417c6,_0x194bdd){return new Promise(function(_0x5ab439,_0x37c22b){_0x3417c6[_0x3e71('0x50')]('/home/c3/FusionFilesystem/'+_0x194bdd+_0x3e71('0x5a'),function(_0x464e94){if(_0x464e94){_0x3417c6[_0x3e71('0x57')](_0x3e71('0x51')+_0x194bdd+_0x3e71('0x5a'),function(_0x3aa08f){if(_0x3aa08f){return _0x37c22b('Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20'+_0x3aa08f);}else{winston[_0x3e71('0x47')](_0x3e71('0x5b'));return _0x5ab439();}});}else{winston[_0x3e71('0x47')](_0x3e71('0x5c'));return _0x5ab439();}});});};function _0xf9faef(_0x550296,_0x2a26eb){return new Promise(async function(_0x14631f,_0x541001){try{let _0x39004c={};_0x39004c[_0x3e71('0x5d')]=await _0x37e76a(_0x550296,_0x2a26eb);_0x39004c[_0x3e71('0x5e')]=await _0x183568(_0x550296,_0x2a26eb);return _0x14631f(_0x39004c);}catch(_0x4adbfb){return _0x541001(_0x4adbfb);}});};function _0x37e76a(_0x4928ea,_0x5553eb){return new Promise(function(_0x2259dd,_0x27e506){_0x4928ea[_0x3e71('0x50')](_0x3e71('0x51')+_0x5553eb+_0x3e71('0x56'),function(_0x45b514,_0xb597c4){if(_0x45b514)return _0x27e506(_0x45b514);let _0x2e2bbc=[];for(let _0x391315=0x0;_0x391315<_0xb597c4[_0x3e71('0x44')];_0x391315++){winston[_0x3e71('0x5f')](_0x3e71('0x60')+_0xb597c4[_0x391315]['filename']);_0x2e2bbc[_0x3e71('0x61')](_0xb597c4[_0x391315]);}return _0x2259dd(_0x2e2bbc);});});};function _0x183568(_0x426508,_0x314573){return new Promise(function(_0x4a2975,_0x56e09a){_0x426508[_0x3e71('0x50')](_0x3e71('0x51')+_0x314573+_0x3e71('0x5a'),function(_0x42c259,_0x17374e){if(_0x42c259)return _0x56e09a(_0x42c259);let _0x1f17b3=[];for(let _0x24f6e4=0x0;_0x24f6e4<_0x17374e[_0x3e71('0x44')];_0x24f6e4++){winston[_0x3e71('0x5f')]('Getting\x20data\x20for\x20'+_0x17374e[_0x24f6e4][_0x3e71('0x62')]);_0x1f17b3['push'](_0x17374e[_0x24f6e4]);}return _0x4a2975(_0x1f17b3);});});};function _0x40bd7e(_0x105fc4){return new Promise(async function(_0x39bc9c,_0x315f6f){try{let _0x1e38fb={};_0x1e38fb[_0x3e71('0x5d')]=await _0x841ffa(_0x105fc4);_0x1e38fb[_0x3e71('0x5e')]=await _0x455046(_0x105fc4);return _0x39bc9c(_0x1e38fb);}catch(_0x8d28cf){return _0x315f6f(_0x8d28cf);}});};function _0x841ffa(_0x517dc2){return new Promise(async function(_0x839d22,_0x2253a7){try{let _0x171f3d=[];let _0x5bba0d=await fs[_0x3e71('0x50')](_0x517dc2+_0x3e71('0x63'));for(let _0x20f84e=0x0;_0x20f84e<_0x5bba0d['length'];_0x20f84e++){winston[_0x3e71('0x5f')](_0x3e71('0x60')+_0x5bba0d[_0x20f84e]);let _0x3a5a01=await fs['stat'](_0x517dc2+'/Editor/'+_0x5bba0d[_0x20f84e]);_0x3a5a01[_0x3e71('0x64')]=_0x5bba0d[_0x20f84e];_0x171f3d[_0x3e71('0x61')](_0x3a5a01);}return _0x839d22(_0x171f3d);}catch(_0x5bd6ff){return _0x2253a7(_0x5bd6ff);}});};function _0x455046(_0x2bffdf){return new Promise(async function(_0x4c3205,_0x5e56e3){try{let _0x2e8142=[];let _0x1d8d55=await fs[_0x3e71('0x50')](_0x2bffdf+'/Blockly');for(let _0xb10860=0x0;_0xb10860<_0x1d8d55[_0x3e71('0x44')];_0xb10860++){winston['verbose'](_0x3e71('0x60')+_0x1d8d55[_0xb10860]);let _0x428687=await fs['stat'](_0x2bffdf+_0x3e71('0x5a')+_0x1d8d55[_0xb10860]);_0x428687[_0x3e71('0x64')]=_0x1d8d55[_0xb10860];_0x2e8142[_0x3e71('0x61')](_0x428687);}return _0x4c3205(_0x2e8142);}catch(_0x3e9b75){return _0x5e56e3(_0x3e9b75);}});};function _0x341d21(_0x3c40d1,_0x45959d,_0x385cee,_0x1fca94){return new Promise(async function(_0x470e48,_0x3270fd){try{for(let _0x1c6f3b=0x0;_0x1c6f3b<_0x385cee[_0x3e71('0x5d')]['length'];_0x1c6f3b++){let _0x1f3d1e=![];for(let _0x26ee0e=0x0;_0x26ee0e<_0x1fca94['Editor'][_0x3e71('0x44')];_0x26ee0e++){if(_0x1fca94[_0x3e71('0x5d')][_0x26ee0e][_0x3e71('0x64')]==_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x62')]){winston[_0x3e71('0x65')]('Local\x20mtime:\x20'+Math['floor'](_0x1fca94[_0x3e71('0x5d')][_0x26ee0e][_0x3e71('0x66')]/0x3e8));winston[_0x3e71('0x65')](_0x3e71('0x67')+_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x68')][_0x3e71('0x69')]);if(Math[_0x3e71('0x6a')](_0x1fca94[_0x3e71('0x5d')][_0x26ee0e][_0x3e71('0x66')]/0x3e8)>_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x68')][_0x3e71('0x69')]){_0x1f3d1e=!![];winston[_0x3e71('0x5f')](_0x3e71('0x6b')+_0x1fca94[_0x3e71('0x5d')][_0x26ee0e][_0x3e71('0x64')]+_0x3e71('0x6c'));try{await _0x25b4b3(_0x3c40d1,_0x45959d,_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x62')],'Editor');}catch(_0x242360){return _0x3270fd(_0x242360);}break;}else{_0x1f3d1e=!![];winston[_0x3e71('0x5f')](_0x3e71('0x6d')+_0x1fca94['Editor'][_0x26ee0e][_0x3e71('0x64')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x30adc5(_0x3c40d1,_0x45959d,_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x62')],_0x3e71('0x5d'));}catch(_0x11bef1){winston[_0x3e71('0x65')]('Error:\x20'+_0x11bef1);return _0x3270fd(_0x11bef1);}break;}}}if(!_0x1f3d1e){winston[_0x3e71('0x5f')](_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x62')]+_0x3e71('0x6e'));try{await _0x30adc5(_0x3c40d1,_0x45959d,_0x385cee[_0x3e71('0x5d')][_0x1c6f3b][_0x3e71('0x62')],_0x3e71('0x5d'));}catch(_0x52dfb9){return _0x3270fd(_0x52dfb9);}}}for(let _0x15b173=0x0;_0x15b173<_0x385cee[_0x3e71('0x5e')][_0x3e71('0x44')];_0x15b173++){let _0x1f3d1e=![];for(let _0x26ee0e=0x0;_0x26ee0e<_0x1fca94['Blockly']['length'];_0x26ee0e++){if(_0x1fca94[_0x3e71('0x5e')][_0x26ee0e][_0x3e71('0x64')]==_0x385cee['Blockly'][_0x15b173][_0x3e71('0x62')]){winston[_0x3e71('0x65')](_0x3e71('0x6f')+Math[_0x3e71('0x6a')](_0x1fca94['Blockly'][_0x26ee0e][_0x3e71('0x66')]/0x3e8));winston[_0x3e71('0x65')](_0x3e71('0x67')+_0x385cee[_0x3e71('0x5e')][_0x15b173][_0x3e71('0x68')][_0x3e71('0x69')]);if(Math[_0x3e71('0x6a')](_0x1fca94['Blockly'][_0x26ee0e]['mtimeMs']/0x3e8)>_0x385cee[_0x3e71('0x5e')][_0x15b173][_0x3e71('0x68')][_0x3e71('0x69')]){_0x1f3d1e=!![];winston[_0x3e71('0x5f')](_0x3e71('0x6b')+_0x1fca94['Blockly'][_0x26ee0e][_0x3e71('0x64')]+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x25b4b3(_0x3c40d1,_0x45959d,_0x385cee['Blockly'][_0x15b173][_0x3e71('0x62')],_0x3e71('0x5e'));}catch(_0x1c163a){return _0x3270fd(_0x1c163a);}break;}else{_0x1f3d1e=!![];winston[_0x3e71('0x5f')](_0x3e71('0x6d')+_0x1fca94[_0x3e71('0x5e')][_0x26ee0e][_0x3e71('0x64')]+_0x3e71('0x70'));try{await _0x30adc5(_0x3c40d1,_0x45959d,_0x385cee[_0x3e71('0x5e')][_0x15b173][_0x3e71('0x62')],_0x3e71('0x5e'));}catch(_0x36012e){winston[_0x3e71('0x65')](_0x3e71('0x71')+_0x36012e);return _0x3270fd(_0x36012e);}break;}}}if(!_0x1f3d1e){winston['verbose'](_0x385cee[_0x3e71('0x5e')][_0x15b173][_0x3e71('0x62')]+'\x20not\x20a\x20common\x20file!');try{await _0x30adc5(_0x3c40d1,_0x45959d,_0x385cee[_0x3e71('0x5e')][_0x15b173][_0x3e71('0x62')],'Blockly');}catch(_0x2ccb34){return _0x3270fd(_0x2ccb34);}}}return _0x470e48();}catch(_0x182988){return _0x3270fd(_0x182988);}});};function _0x25b4b3(_0x247ba1,_0x1ab784,_0x21624a,_0xbc970b){return new Promise((_0x514e0d,_0x107f5e)=>{try{let _0x176da8=_0x3e71('0x51')+_0x1ab784['username']+'/'+_0xbc970b+'/'+_0x21624a;let _0x46fbc8=_0x1ab784[_0x3e71('0x72')]+'/'+_0xbc970b+'/'+_0x21624a;winston[_0x3e71('0x5f')](_0x3e71('0x73')+_0x176da8);winston[_0x3e71('0x5f')](_0x3e71('0x74')+_0x46fbc8);_0x247ba1['fastPut'](_0x46fbc8,_0x176da8,{},function(_0x128cf6){if(_0x128cf6){winston[_0x3e71('0x65')](_0x3e71('0x75')+_0x21624a);return _0x107f5e(_0x128cf6);}winston['info'](_0x3e71('0x76')+_0x21624a);return _0x514e0d();});}catch(_0x5c881b){return _0x107f5e(_0x5c881b);}});};function _0x30adc5(_0x2db158,_0x598a60,_0x1fcf29,_0xdc26d6){return new Promise((_0x29854f,_0x56ed0d)=>{try{let _0x1b6982=_0x3e71('0x51')+_0x598a60['username']+'/'+_0xdc26d6+'/'+_0x1fcf29;let _0x4ed2c3=_0x598a60[_0x3e71('0x72')]+'/'+_0xdc26d6+'/'+_0x1fcf29;winston['verbose'](_0x3e71('0x73')+_0x1b6982);winston[_0x3e71('0x5f')](_0x3e71('0x74')+_0x4ed2c3);_0x2db158['fastGet'](_0x1b6982,_0x4ed2c3,{},function(_0x303d04){if(_0x303d04){winston['debug'](_0x3e71('0x77')+_0x1fcf29);return _0x56ed0d(_0x303d04);}winston[_0x3e71('0x47')]('Retrieved\x20'+_0x1fcf29);return _0x29854f();});}catch(_0x17edbd){return _0x56ed0d(_0x17edbd);}});};function _0x2177e8(_0x1b59e7,_0x322869,_0x173778,_0x5752e0){_0x1b59e7['readdir'](_0x3e71('0x51')+_0x322869[_0x3e71('0x2c')],function(_0x3126d0){if(_0x3126d0){console[_0x3e71('0x35')](_0x3e71('0x78')+_0x3126d0);_0x1b59e7[_0x3e71('0x57')]('/home/c3/FusionFilesystem/'+_0x322869['username'],function(_0x42f729){if(_0x42f729){console[_0x3e71('0x35')](_0x3e71('0x79')+_0x42f729);throw _0x42f729;}console[_0x3e71('0x35')](_0x3e71('0x7a'));_0x1b59e7['mkdir'](_0x3e71('0x51')+_0x322869[_0x3e71('0x2c')]+_0x3e71('0x56'),function(_0x513ecc){if(_0x513ecc){console['log']('Error\x20creating\x20editor\x20directory:\x20'+_0x513ecc);throw _0x513ecc;}console['log']('Editor\x20directory\x20created');_0x1b59e7[_0x3e71('0x57')](_0x3e71('0x51')+_0x322869[_0x3e71('0x2c')]+_0x3e71('0x5a'),function(_0x48ba65){if(_0x48ba65){console[_0x3e71('0x35')](_0x3e71('0x7b')+_0x48ba65);throw _0x48ba65;}console[_0x3e71('0x35')](_0x3e71('0x7c'));_0x5752e0(_0x1b59e7,_0x322869,_0x173778);});});});}_0x5752e0(_0x1b59e7,_0x322869,_0x173778);});};function _0x5425c0(_0x166ec4,_0x54567a,_0x2c2967){_0x166ec4[_0x3e71('0x50')](_0x3e71('0x51')+_0x54567a[_0x3e71('0x2c')]+_0x3e71('0x56'),function(_0x3c734d,_0x13f427){if(_0x3c734d){console[_0x3e71('0x35')](_0x3e71('0x7d')+_0x3c734d);throw _0x3c734d;}_0x42254a(_0x54567a,_0x3e71('0x5d'),_0x13f427,_0x2c2967);});_0x166ec4['readdir']('/home/c3/FusionFilesystem/'+_0x54567a['username']+'/Blockly/',function(_0x1cd63b,_0x1efa00){if(_0x1cd63b){console[_0x3e71('0x35')](_0x3e71('0x7e')+_0x1cd63b);throw _0x1cd63b;}_0x42254a(_0x54567a,_0x3e71('0x5e'),_0x1efa00,_0x2c2967);});};function _0x42254a(_0x2abcb9,_0x396292,_0x418515,_0x43aabc){console[_0x3e71('0x35')]('Retrieving\x20files');if(_0x396292==_0x3e71('0x5e')&&_0x418515[_0x3e71('0x44')]==0x0){_0x43aabc[_0x3e71('0x4c')]();}for(var _0x4479e2=0x0;_0x4479e2<_0x418515[_0x3e71('0x44')];_0x4479e2++){let _0x2d9e10=_0x3e71('0x51')+_0x2abcb9[_0x3e71('0x2c')]+'/'+_0x396292+'/'+_0x418515[_0x4479e2][_0x3e71('0x62')];let _0x3e39e9=_0x3e71('0x7f')+_0x2abcb9[_0x3e71('0x2c')]+'/'+_0x396292+'/';console[_0x3e71('0x35')](_0x3e71('0x80')+_0x2d9e10+_0x3e71('0x81')+_0x3e39e9);SCP[_0x3e71('0x82')](_0x3e71('0x83')+_0x2d9e10,_0x3e39e9,function(_0x137f70){if(_0x137f70){console[_0x3e71('0x35')]('Error\x20downloading:\x20'+_0x2d9e10+_0x3e71('0x84')+_0x137f70);}if(_0x396292==_0x3e71('0x5e')&&(_0x4479e2=_0x418515['length']-0x1)){_0x43aabc[_0x3e71('0x4c')]();}});}};};