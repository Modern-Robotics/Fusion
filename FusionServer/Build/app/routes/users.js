const _0x5b18=['Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','Moving:\x20','\x20to\x20','c3:root@172.16.0.1:',',\x20error:\x20','Client','path','./../../server/classroom/connection/','winston','exports','/api/users','Guest','json','post','authenticate','local-signup','status','send','message','MultiUserAccess','connected','logIn','body','socketId','REGISTER.CREATED','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','Error','/api/users/:User_Id','findOne','params','User_Id','toLowerCase','trim','put','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','username','fusion_program_running','User','user','KillProgram','logout','remove','removeFileSystem','Successfully\x20deleted','/api/users/login','local-login','log','in\x20cloud\x20login','https://172.16.0.1/backend/auth/ldap','login','create','Error\x20with\x20request\x20promise.\x20','Logged\x20out\x20successfully','get','/api/recovery/:User_Id','User\x20does\x20not\x20exist','local-recovery','Login\x20Successful','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','User\x27s\x20editor\x20directory\x20created','/Blockly/','User\x27s\x20blockly\x20directory\x20created','Editor','Blockly','verbose','Getting\x20data\x20for\x20','filename','push','/Editor','name','stat','debug','Local\x20mtime:\x20','floor','mtimeMs','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20mtime:\x20','Remote\x20\x22','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Error\x20uploading\x20file:\x20','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created'];(function(_0x2d9ee6,_0x4d0b44){const _0x37127c=function(_0x490ffb){while(--_0x490ffb){_0x2d9ee6['push'](_0x2d9ee6['shift']());}};_0x37127c(++_0x4d0b44);}(_0x5b18,0x19c));const _0x4303=function(_0x2d9ee6,_0x4d0b44){_0x2d9ee6=_0x2d9ee6-0x0;let _0x37127c=_0x5b18[_0x2d9ee6];return _0x37127c;};var SCP=require('scp2');var SSH=require('ssh2')[_0x4303('0x0')];var fs=require('fs-extra');var path=require(_0x4303('0x1'));var rp=require('request-promise');const classroomConnection=require(_0x4303('0x2'));const winston=require(_0x4303('0x3'));module[_0x4303('0x4')]=function(_0x2d84a9,_0x3528cf,_0x43d33f,_0xc12784,_0xacfa29,_0x24a183){_0x2d84a9['get'](_0x4303('0x5'),_0x4e9ffe(),function(_0x1d0f9e,_0x1c5d9c){_0x3528cf['find']({'usergroup':{'$ne':_0x4303('0x6')}},function(_0x3a958b,_0x39100d){if(_0x3a958b)_0x1c5d9c['send'](_0x3a958b);_0x1c5d9c[_0x4303('0x7')](_0x39100d);});});_0x2d84a9[_0x4303('0x8')](_0x4303('0x5'),function(_0x1739d3,_0x3191fa,_0x454e9d){_0x43d33f[_0x4303('0x9')](_0x4303('0xa'),async function(_0x31f38a,_0xe38150,_0x455130){if(_0x31f38a)return _0x3191fa[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x31f38a);if(_0x455130&&_0x455130[_0x4303('0xd')])return _0x3191fa[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x1739d3['__'](_0x455130[_0x4303('0xd')]));if(_0x24a183[_0x4303('0xe')]){if(classroomConnection[_0x4303('0xf')]){await _0x1015da(_0xe38150);}_0x1739d3[_0x4303('0x10')](_0xe38150,function(_0x31f38a){if(_0x31f38a){return _0x454e9d(_0x31f38a);}_0x26dbf1(_0x1739d3[_0x4303('0x11')][_0x4303('0x12')],_0xe38150);return _0x3191fa['status'](0xc8)[_0x4303('0x7')]({'serverMessage':_0x1739d3['__'](_0x4303('0x13')),'user':_0xe38150});});}else{if(_0x41ce3d()==0x0){_0x26dbf1(_0x1739d3['body']['socketId'],_0xe38150);if(classroomConnection[_0x4303('0xf')]){await _0x1015da(_0xe38150);}_0x1739d3[_0x4303('0x10')](_0xe38150,function(_0x31f38a){if(_0x31f38a){return _0x454e9d(_0x31f38a);}_0x26dbf1(_0x1739d3[_0x4303('0x11')][_0x4303('0x12')],_0xe38150);return _0x3191fa['status'](0xc8)[_0x4303('0x7')]({'serverMessage':_0x1739d3['__'](_0x4303('0x13')),'user':_0xe38150});});}else{return _0x3191fa['status'](0x1f4)['send'](_0x1739d3['__'](_0x4303('0x14')));}}})(_0x1739d3,_0x3191fa,_0x454e9d);});_0x2d84a9[_0x4303('0x8')](_0x4303('0x5'),_0x43d33f[_0x4303('0x9')](_0x4303('0xa'),{'session':!![]}),function(_0x4094bd,_0x2b847a){if(_0x4094bd['user'][_0x4303('0x15')]){return _0x2b847a[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x4094bd['user'][_0x4303('0x15')]);}else{}});_0x2d84a9['get'](_0x4303('0x16'),_0x4e9ffe(),function(_0x3b2e1d,_0x3f8e5b){_0x3528cf[_0x4303('0x17')]({'username':_0x3b2e1d[_0x4303('0x18')][_0x4303('0x19')][_0x4303('0x1a')]()[_0x4303('0x1b')]()},function(_0xb614e6,_0x10b15c){if(_0xb614e6)_0x3f8e5b[_0x4303('0xc')](_0xb614e6);_0x3f8e5b[_0x4303('0x7')](_0x10b15c);});});_0x2d84a9[_0x4303('0x1c')]('/api/users/:User_Id',_0x4e9ffe(),function(_0x18d1dd,_0x231eda){_0x3528cf[_0x4303('0x17')]({'username':_0x18d1dd[_0x4303('0x18')][_0x4303('0x19')]['toLowerCase']()['trim']()},function(_0x214337,_0xd75d){if(_0x214337)_0x231eda[_0x4303('0xc')](_0x214337);if(_0x18d1dd[_0x4303('0x11')][_0x4303('0x1d')]){_0xd75d[_0x4303('0x1d')]=_0xd75d[_0x4303('0x1e')](_0x18d1dd[_0x4303('0x11')][_0x4303('0x1d')]);}if(_0x18d1dd[_0x4303('0x11')]['firstname']){_0xd75d[_0x4303('0x1f')]=_0x18d1dd[_0x4303('0x11')][_0x4303('0x1f')];}if(_0x18d1dd[_0x4303('0x11')][_0x4303('0x20')]){_0xd75d[_0x4303('0x20')]=_0x18d1dd[_0x4303('0x11')]['lastname'];}if(_0x18d1dd['body']['language']){_0xd75d[_0x4303('0x21')]=_0x18d1dd[_0x4303('0x11')]['language'];}if(_0x18d1dd[_0x4303('0x11')][_0x4303('0x22')]){_0xd75d[_0x4303('0x22')]=_0x18d1dd['body'][_0x4303('0x22')];}if(_0x18d1dd[_0x4303('0x11')][_0x4303('0x23')]){_0xd75d[_0x4303('0x23')]=_0x18d1dd['body'][_0x4303('0x23')];}if(_0x18d1dd[_0x4303('0x11')]['securityquestion']){_0xd75d[_0x4303('0x24')]=_0x18d1dd['body']['securityquestion'];}if(_0x18d1dd[_0x4303('0x11')][_0x4303('0x25')]){_0xd75d[_0x4303('0x25')]=_0x18d1dd[_0x4303('0x11')][_0x4303('0x25')];}if(_0x18d1dd['body'][_0x4303('0x26')]){_0xd75d['usergroup']=_0x18d1dd[_0x4303('0x11')][_0x4303('0x26')];}_0xd75d[_0x4303('0x27')](function(_0x214337){if(_0x214337)_0x231eda['status'](0x1f4)[_0x4303('0xc')](_0x214337);_0x231eda[_0x4303('0xb')](0xc8)['json']({'serverMessage':_0x4303('0x28')});});});});_0x2d84a9['delete'](_0x4303('0x16'),_0x4e9ffe(),function(_0x4368d8,_0x51a3df){if(_0x4368d8[_0x4303('0x18')]['User_Id'][_0x4303('0x1a')]()[_0x4303('0x1b')]()==_0x4368d8['user'][_0x4303('0x29')]){if(_0x24a183['SocketVariables'][_0x4303('0x2a')])if(_0x24a183['SocketVariables']['fusion_program_running'][_0x4303('0x2b')]==_0x4368d8[_0x4303('0x2c')][_0x4303('0x29')])_0xc12784[_0x4303('0x2d')]();_0x25c1b6(_0x4368d8[_0x4303('0x2c')]['username']);_0x4368d8[_0x4303('0x2e')]();}_0x3528cf[_0x4303('0x2f')]({'username':_0x4368d8[_0x4303('0x18')][_0x4303('0x19')][_0x4303('0x1a')]()[_0x4303('0x1b')]()},function(_0x5eb48e,_0x5f4c0e){if(_0x5eb48e)return _0x51a3df['send'](_0x5eb48e);_0x3528cf[_0x4303('0x30')](_0x4368d8[_0x4303('0x18')][_0x4303('0x19')][_0x4303('0x1a')]()['trim']());return _0x51a3df[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x4303('0x31')});});});_0x2d84a9[_0x4303('0x8')](_0x4303('0x32'),function(_0x2eebb5,_0x2ce27a,_0x43135f){_0x43d33f[_0x4303('0x9')](_0x4303('0x33'),async function(_0x3e36b6,_0x45d0af,_0x378376){if(_0x3e36b6)return _0x2ce27a[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x2eebb5['__'](_0x3e36b6[_0x4303('0xd')]));if(!_0x45d0af)return _0x2ce27a[_0x4303('0xb')](0x191)['send'](_0x2eebb5['__'](_0x378376[_0x4303('0xd')]));if(_0x24a183['MultiUserAccess']){if(classroomConnection[_0x4303('0xf')]){await _0x1015da(_0x45d0af);}_0x2eebb5[_0x4303('0x10')](_0x45d0af,function(_0x3e36b6){if(_0x3e36b6){return _0x43135f(_0x3e36b6);}_0x26dbf1(_0x2eebb5[_0x4303('0x11')][_0x4303('0x12')],_0x45d0af);return _0x2ce27a[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x2eebb5['__']('LOGIN.SUCCESS'),'user':_0x45d0af});});}else{if(_0x41ce3d()==0x0){_0x26dbf1(_0x2eebb5[_0x4303('0x11')]['socketId'],_0x45d0af);if(classroomConnection['connected']){await _0x1015da(_0x45d0af);}_0x2eebb5[_0x4303('0x10')](_0x45d0af,function(_0x3e36b6){if(_0x3e36b6){return _0x43135f(_0x3e36b6);}_0x26dbf1(_0x2eebb5[_0x4303('0x11')]['socketId'],_0x45d0af);return _0x2ce27a[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x2eebb5['__']('LOGIN.SUCCESS'),'user':_0x45d0af});});}else{return _0x2ce27a[_0x4303('0xb')](0x1f4)['send'](_0x2eebb5['__']('LOGIN.MULTIUSER_DENIED'));}}})(_0x2eebb5,_0x2ce27a,_0x43135f);});_0x2d84a9['post']('/api/users/cloudLogin',async function(_0x1669ec,_0x45abc2){console[_0x4303('0x34')](_0x4303('0x35'));var _0x2e9a72={'method':'POST','uri':_0x4303('0x36'),'body':{'username':_0x1669ec['body'][_0x4303('0x29')],'password':_0x1669ec[_0x4303('0x11')]['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x457563=await rp(_0x2e9a72);let _0x1f4bee=await _0x3528cf[_0x4303('0x17')]({'username':_0x1669ec[_0x4303('0x11')][_0x4303('0x29')]})['exec']();if(_0x1f4bee){return _0x45abc2[_0x4303('0xb')](0xc8)['send'](_0x4303('0x37'));}else{return _0x45abc2[_0x4303('0xb')](0xc8)[_0x4303('0xc')](_0x4303('0x38'));}}catch(_0x30b32c){console[_0x4303('0x34')](_0x4303('0x39')+_0x30b32c);return _0x45abc2[_0x4303('0xb')](0x1f4)['send'](_0x30b32c);}});_0x2d84a9[_0x4303('0x8')]('/api/users/logout',_0x4e9ffe(),function(_0x8d9a8,_0x44f067){if(_0x24a183['SocketVariables'][_0x4303('0x2a')])if(_0x24a183['SocketVariables']['fusion_program_running'][_0x4303('0x2b')]==_0x8d9a8[_0x4303('0x2c')][_0x4303('0x29')])_0xc12784[_0x4303('0x2d')]();_0x6673d9(_0x8d9a8[_0x4303('0x11')][_0x4303('0x12')]);_0x8d9a8[_0x4303('0x2e')]();_0x44f067[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x4303('0x3a')});});_0x2d84a9[_0x4303('0x3b')](_0x4303('0x3c'),function(_0x4f881a,_0x3342c3){_0x3528cf[_0x4303('0x17')]({'username':_0x4f881a['params'][_0x4303('0x19')][_0x4303('0x1a')]()[_0x4303('0x1b')]()},function(_0x451214,_0x5cb1e4){if(_0x451214)return _0x3342c3[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x451214);if(!_0x5cb1e4)return _0x3342c3[_0x4303('0xb')](0x1f4)[_0x4303('0xc')](_0x4303('0x3d'));else return _0x3342c3[_0x4303('0xb')](0xc8)[_0x4303('0x7')](_0x5cb1e4['securityquestion']);});});_0x2d84a9[_0x4303('0x8')]('/api/recovery',_0x43d33f[_0x4303('0x9')](_0x4303('0x3e'),{'session':!![]}),function(_0x10f355,_0x18a3f6){if(_0x24a183[_0x4303('0xe')]){if(classroomConnection[_0x4303('0xf')]){_0x1015da(_0x10f355[_0x4303('0x2c')]);}_0x26dbf1(_0x10f355['body'][_0x4303('0x12')],_0x10f355[_0x4303('0x2c')]);return _0x18a3f6[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x4303('0x3f'),'user':_0x10f355['user']});}else{if(_0x41ce3d()==0x0){_0x26dbf1(_0x10f355['body']['socketId'],_0x10f355['user']);if(classroomConnection[_0x4303('0xf')]){_0x1015da(_0x10f355[_0x4303('0x2c')]);}return _0x18a3f6[_0x4303('0xb')](0xc8)[_0x4303('0x7')]({'serverMessage':_0x4303('0x3f'),'user':_0x10f355[_0x4303('0x2c')]});}else{_0x10f355[_0x4303('0x2e')]();return _0x18a3f6['status'](0x1f4)['send']('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x2d84a9[_0x4303('0x3b')](_0x4303('0x40'),function(_0x22f58e,_0x334725){var _0x18d1d4=['User'];_0x3528cf[_0x4303('0x17')]({'usergroup':_0x4303('0x41')},function(_0x1792d6,_0x424333){if(_0x1792d6)return _0x334725[_0x4303('0xb')](0xc8)[_0x4303('0xc')](_0x18d1d4);if(!_0x424333)_0x18d1d4[_0x4303('0x42')]('Admin');return _0x334725['status'](0xc8)[_0x4303('0xc')](_0x18d1d4);});});function _0x41ce3d(){var _0x1fb09b=0x0;for(var _0xe329ba=0x0;_0xe329ba<_0x24a183[_0x4303('0x43')][_0x4303('0x44')];_0xe329ba++){if(_0x24a183[_0x4303('0x43')][_0xe329ba][_0x4303('0x2b')]){_0x1fb09b++;}}return _0x1fb09b;}function _0x26dbf1(_0x29e2ce,_0xd0cd12){for(var _0x55cdb7=0x0;_0x55cdb7<_0x24a183['connectedClients'][_0x4303('0x44')];_0x55cdb7++){if(_0x24a183[_0x4303('0x43')][_0x55cdb7]['id']==_0x29e2ce){_0x24a183['connectedClients'][_0x55cdb7][_0x4303('0x2b')]=_0xd0cd12;break;}}}function _0x6673d9(_0x3ee93f){for(var _0x6a803e=0x0;_0x6a803e<_0x24a183['connectedClients'][_0x4303('0x44')];_0x6a803e++){if(_0x24a183[_0x4303('0x43')][_0x6a803e]['id']==_0x3ee93f){_0x24a183['connectedClients'][_0x6a803e][_0x4303('0x2b')]=undefined;break;}}}function _0x25c1b6(_0x1be785){for(var _0x593c55=0x0;_0x593c55<_0x24a183[_0x4303('0x43')]['length'];_0x593c55++){if(_0x24a183[_0x4303('0x43')][_0x593c55][_0x4303('0x2b')][_0x4303('0x29')]==_0x1be785){_0x24a183[_0x4303('0x43')][_0x593c55][_0x4303('0x2b')]=undefined;break;}}}function _0x4e9ffe(){return function(_0xd807fd,_0x301f1e,_0x593046){if(_0xd807fd[_0x4303('0x45')]()){return _0x593046();}else{return _0x301f1e[_0x4303('0xb')](0x191)[_0x4303('0xc')](_0x4303('0x46'));}};}async function _0x1015da(_0x49704e){try{await _0x4a4dee(_0x49704e);}catch(_0x45bab2){winston[_0x4303('0x47')](_0x45bab2);winston[_0x4303('0x47')]('Error\x20downloading\x20classroom\x20files\x20for\x20'+_0x49704e['username']);}};function _0x4a4dee(_0x1ab005){return new Promise(function(_0x15ebab,_0x3b8a37){var _0x47e17b=new SSH();_0x47e17b['on'](_0x4303('0x48'),function(){_0x47e17b[_0x4303('0x49')](async function(_0x3bdded,_0x3d6fdc){if(_0x3bdded){winston[_0x4303('0x47')](_0x4303('0x4a')+_0x3bdded);_0x47e17b[_0x4303('0x4b')]();return _0x3b8a37(_0x3bdded);}try{await _0x2dccc9(_0x3d6fdc);await _0x38500a(_0x3d6fdc,_0x1ab005['username']);await _0x24affa(_0x3d6fdc,_0x1ab005['username']);await _0x341015(_0x3d6fdc,_0x1ab005[_0x4303('0x29')]);let _0x14c6b1=await _0x1b655e(_0x3d6fdc,_0x1ab005[_0x4303('0x29')]);winston[_0x4303('0x47')](JSON[_0x4303('0x4c')](_0x14c6b1));let _0xd3ec2d=await _0x3228cf(_0x1ab005[_0x4303('0x4d')]);winston['info'](JSON[_0x4303('0x4c')](_0xd3ec2d));await _0x18a3c7(_0x3d6fdc,_0x1ab005,_0x14c6b1,_0xd3ec2d);_0x47e17b['end']();return _0x15ebab();}catch(_0x12c827){winston['info'](_0x12c827);_0x47e17b[_0x4303('0x4b')]();return _0x3b8a37(_0x12c827);}});})[_0x4303('0x4e')]({'host':_0x4303('0x4f'),'port':0x16,'username':'c3','password':_0x4303('0x50')});});};function _0x2dccc9(_0x4f9819){return new Promise(function(_0xf72a28,_0x331e41){_0x4f9819[_0x4303('0x51')](_0x4303('0x52'),function(_0x52d8d3){if(_0x52d8d3){_0x4f9819[_0x4303('0x53')](_0x4303('0x52'),function(_0x49c377){if(_0x49c377){return _0x331e41(_0x4303('0x54')+_0x49c377);}else{winston['info'](_0x4303('0x55'));return _0xf72a28();}});}else{winston[_0x4303('0x47')](_0x4303('0x56'));return _0xf72a28();}});});};function _0x38500a(_0x218530,_0x26d0b8){return new Promise(function(_0x2ec75d,_0x31f22f){_0x218530[_0x4303('0x51')](_0x4303('0x52')+_0x26d0b8,function(_0x3cc323){if(_0x3cc323){_0x218530['mkdir'](_0x4303('0x52')+_0x26d0b8,function(_0x2858a8){if(_0x2858a8){return _0x31f22f(_0x4303('0x57')+_0x2858a8);}else{winston['info']('User\x27s\x20classroom\x20file\x20system\x20created');return _0x2ec75d();}});}else{winston[_0x4303('0x47')](_0x4303('0x58'));return _0x2ec75d();}});});};function _0x24affa(_0x11804c,_0x456fde){return new Promise(function(_0x1c9927,_0x4f2ac4){_0x11804c['readdir'](_0x4303('0x52')+_0x456fde+_0x4303('0x59'),function(_0x55cbe7){if(_0x55cbe7){_0x11804c[_0x4303('0x53')](_0x4303('0x52')+_0x456fde+'/Editor/',function(_0x232612){if(_0x232612){return _0x4f2ac4('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x232612);}else{winston[_0x4303('0x47')](_0x4303('0x5a'));return _0x1c9927();}});}else{winston[_0x4303('0x47')]('User\x27s\x20editor\x20directory\x20found');return _0x1c9927();}});});};function _0x341015(_0x1e372e,_0x2c02fe){return new Promise(function(_0x41c53a,_0x57dc67){_0x1e372e[_0x4303('0x51')](_0x4303('0x52')+_0x2c02fe+_0x4303('0x5b'),function(_0x4ac4f){if(_0x4ac4f){_0x1e372e[_0x4303('0x53')]('/home/c3/FusionFilesystem/'+_0x2c02fe+'/Blockly/',function(_0x1ad0df){if(_0x1ad0df){return _0x57dc67('Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20'+_0x1ad0df);}else{winston[_0x4303('0x47')](_0x4303('0x5c'));return _0x41c53a();}});}else{winston['info']('User\x27s\x20blockly\x20directory\x20found');return _0x41c53a();}});});};function _0x1b655e(_0x358b4c,_0x2c9c53){return new Promise(async function(_0x52bc69,_0x424e20){try{let _0x198ebe={};_0x198ebe[_0x4303('0x5d')]=await _0x230e9d(_0x358b4c,_0x2c9c53);_0x198ebe[_0x4303('0x5e')]=await _0x5dd7fa(_0x358b4c,_0x2c9c53);return _0x52bc69(_0x198ebe);}catch(_0x459f81){return _0x424e20(_0x459f81);}});};function _0x230e9d(_0x4ffceb,_0x29f4ac){return new Promise(function(_0x11a593,_0x4a0adc){_0x4ffceb[_0x4303('0x51')](_0x4303('0x52')+_0x29f4ac+_0x4303('0x59'),function(_0x3da76b,_0xfe44f6){if(_0x3da76b)return _0x4a0adc(_0x3da76b);let _0x3bea70=[];for(let _0x524888=0x0;_0x524888<_0xfe44f6[_0x4303('0x44')];_0x524888++){winston[_0x4303('0x5f')](_0x4303('0x60')+_0xfe44f6[_0x524888][_0x4303('0x61')]);_0x3bea70['push'](_0xfe44f6[_0x524888]);}return _0x11a593(_0x3bea70);});});};function _0x5dd7fa(_0x4c251e,_0x2a1463){return new Promise(function(_0x4e96d8,_0x3a3e01){_0x4c251e[_0x4303('0x51')](_0x4303('0x52')+_0x2a1463+'/Blockly/',function(_0x247b57,_0x255fee){if(_0x247b57)return _0x3a3e01(_0x247b57);let _0x50d0b6=[];for(let _0x209433=0x0;_0x209433<_0x255fee[_0x4303('0x44')];_0x209433++){winston['verbose'](_0x4303('0x60')+_0x255fee[_0x209433][_0x4303('0x61')]);_0x50d0b6[_0x4303('0x62')](_0x255fee[_0x209433]);}return _0x4e96d8(_0x50d0b6);});});};function _0x3228cf(_0x5f2323){return new Promise(async function(_0x4670e1,_0x4b3cf9){try{let _0x58c182={};_0x58c182[_0x4303('0x5d')]=await _0x1139a8(_0x5f2323);_0x58c182[_0x4303('0x5e')]=await _0x540488(_0x5f2323);return _0x4670e1(_0x58c182);}catch(_0x3cebde){return _0x4b3cf9(_0x3cebde);}});};function _0x1139a8(_0x319fc3){return new Promise(async function(_0x34309f,_0x3b00db){try{let _0x829744=[];let _0x25b7ee=await fs[_0x4303('0x51')](_0x319fc3+_0x4303('0x63'));for(let _0x31c694=0x0;_0x31c694<_0x25b7ee[_0x4303('0x44')];_0x31c694++){winston[_0x4303('0x5f')]('Getting\x20data\x20for\x20'+_0x25b7ee[_0x31c694]);let _0x241319=await fs['stat'](_0x319fc3+_0x4303('0x59')+_0x25b7ee[_0x31c694]);_0x241319[_0x4303('0x64')]=_0x25b7ee[_0x31c694];_0x829744['push'](_0x241319);}return _0x34309f(_0x829744);}catch(_0x18f8bd){return _0x3b00db(_0x18f8bd);}});};function _0x540488(_0x47ac0f){return new Promise(async function(_0x1a9571,_0x5ec37d){try{let _0x44e1ec=[];let _0x5038e3=await fs[_0x4303('0x51')](_0x47ac0f+'/Blockly');for(let _0x29d007=0x0;_0x29d007<_0x5038e3['length'];_0x29d007++){winston[_0x4303('0x5f')](_0x4303('0x60')+_0x5038e3[_0x29d007]);let _0x2e852b=await fs[_0x4303('0x65')](_0x47ac0f+_0x4303('0x5b')+_0x5038e3[_0x29d007]);_0x2e852b[_0x4303('0x64')]=_0x5038e3[_0x29d007];_0x44e1ec[_0x4303('0x62')](_0x2e852b);}return _0x1a9571(_0x44e1ec);}catch(_0x3a50f0){return _0x5ec37d(_0x3a50f0);}});};function _0x18a3c7(_0x515029,_0x5c846b,_0x50b4aa,_0x568265){return new Promise(async function(_0x546bae,_0x2a39c8){try{for(let _0x1a6791=0x0;_0x1a6791<_0x50b4aa[_0x4303('0x5d')][_0x4303('0x44')];_0x1a6791++){let _0x489e37=![];for(let _0x4549f1=0x0;_0x4549f1<_0x568265[_0x4303('0x5d')][_0x4303('0x44')];_0x4549f1++){if(_0x568265['Editor'][_0x4549f1][_0x4303('0x64')]==_0x50b4aa[_0x4303('0x5d')][_0x1a6791]['filename']){winston[_0x4303('0x66')](_0x4303('0x67')+Math[_0x4303('0x68')](_0x568265[_0x4303('0x5d')][_0x4549f1][_0x4303('0x69')]/0x3e8));winston[_0x4303('0x66')]('Remote\x20mtime:\x20'+_0x50b4aa['Editor'][_0x1a6791][_0x4303('0x6a')][_0x4303('0x6b')]);if(Math['floor'](_0x568265[_0x4303('0x5d')][_0x4549f1][_0x4303('0x69')]/0x3e8)>_0x50b4aa[_0x4303('0x5d')][_0x1a6791][_0x4303('0x6a')][_0x4303('0x6b')]){_0x489e37=!![];winston['verbose'](_0x4303('0x6c')+_0x568265[_0x4303('0x5d')][_0x4549f1][_0x4303('0x64')]+_0x4303('0x6d'));try{await _0x441ce9(_0x515029,_0x5c846b,_0x50b4aa[_0x4303('0x5d')][_0x1a6791][_0x4303('0x61')],_0x4303('0x5d'));}catch(_0x44c2bf){return _0x2a39c8(_0x44c2bf);}break;}else{_0x489e37=!![];winston['verbose']('Remote\x20\x22'+_0x568265['Editor'][_0x4549f1]['name']+_0x4303('0x6e'));try{await _0x41dca5(_0x515029,_0x5c846b,_0x50b4aa[_0x4303('0x5d')][_0x1a6791]['filename'],'Editor');}catch(_0x3c5f16){winston[_0x4303('0x66')](_0x4303('0x6f')+_0x3c5f16);return _0x2a39c8(_0x3c5f16);}break;}}}if(!_0x489e37){winston[_0x4303('0x5f')](_0x50b4aa[_0x4303('0x5d')][_0x1a6791][_0x4303('0x61')]+_0x4303('0x70'));try{await _0x41dca5(_0x515029,_0x5c846b,_0x50b4aa[_0x4303('0x5d')][_0x1a6791]['filename'],_0x4303('0x5d'));}catch(_0x3e35a3){return _0x2a39c8(_0x3e35a3);}}}for(let _0x5a811e=0x0;_0x5a811e<_0x50b4aa[_0x4303('0x5e')]['length'];_0x5a811e++){let _0x3e9131=![];for(let _0x5b1eea=0x0;_0x5b1eea<_0x568265[_0x4303('0x5e')][_0x4303('0x44')];_0x5b1eea++){if(_0x568265['Blockly'][_0x5b1eea][_0x4303('0x64')]==_0x50b4aa[_0x4303('0x5e')][_0x5a811e][_0x4303('0x61')]){winston[_0x4303('0x66')](_0x4303('0x67')+Math[_0x4303('0x68')](_0x568265['Blockly'][_0x5b1eea][_0x4303('0x69')]/0x3e8));winston['debug'](_0x4303('0x71')+_0x50b4aa[_0x4303('0x5e')][_0x5a811e]['attrs'][_0x4303('0x6b')]);if(Math[_0x4303('0x68')](_0x568265[_0x4303('0x5e')][_0x5b1eea][_0x4303('0x69')]/0x3e8)>_0x50b4aa[_0x4303('0x5e')][_0x5a811e][_0x4303('0x6a')]['mtime']){_0x3e9131=!![];winston[_0x4303('0x5f')]('Local\x20\x22'+_0x568265[_0x4303('0x5e')][_0x5b1eea][_0x4303('0x64')]+_0x4303('0x6d'));try{await _0x441ce9(_0x515029,_0x5c846b,_0x50b4aa[_0x4303('0x5e')][_0x5a811e]['filename'],'Blockly');}catch(_0x4c9842){return _0x2a39c8(_0x4c9842);}break;}else{_0x3e9131=!![];winston[_0x4303('0x5f')](_0x4303('0x72')+_0x568265[_0x4303('0x5e')][_0x5b1eea][_0x4303('0x64')]+_0x4303('0x6e'));try{await _0x41dca5(_0x515029,_0x5c846b,_0x50b4aa[_0x4303('0x5e')][_0x5a811e][_0x4303('0x61')],_0x4303('0x5e'));}catch(_0x4baba1){winston['debug']('Error:\x20'+_0x4baba1);return _0x2a39c8(_0x4baba1);}break;}}}if(!_0x3e9131){winston[_0x4303('0x5f')](_0x50b4aa[_0x4303('0x5e')][_0x5a811e]['filename']+_0x4303('0x70'));try{await _0x41dca5(_0x515029,_0x5c846b,_0x50b4aa['Blockly'][_0x5a811e]['filename'],_0x4303('0x5e'));}catch(_0x89dc4a){return _0x2a39c8(_0x89dc4a);}}}return _0x546bae();}catch(_0xf90a00){return _0x2a39c8(_0xf90a00);}});};function _0x441ce9(_0x47042e,_0x504634,_0x10b817,_0x33829a){return new Promise((_0x32a52c,_0x36c1f1)=>{try{let _0x3feced=_0x4303('0x52')+_0x504634[_0x4303('0x29')]+'/'+_0x33829a+'/'+_0x10b817;let _0xeba9af=_0x504634[_0x4303('0x4d')]+'/'+_0x33829a+'/'+_0x10b817;winston[_0x4303('0x5f')](_0x4303('0x73')+_0x3feced);winston[_0x4303('0x5f')](_0x4303('0x74')+_0xeba9af);_0x47042e[_0x4303('0x75')](_0xeba9af,_0x3feced,{},function(_0x8831c7){if(_0x8831c7){winston[_0x4303('0x66')](_0x4303('0x76')+_0x10b817);return _0x36c1f1(_0x8831c7);}winston[_0x4303('0x47')](_0x4303('0x77')+_0x10b817);return _0x32a52c();});}catch(_0x36f1aa){return _0x36c1f1(_0x36f1aa);}});};function _0x41dca5(_0xd64692,_0x5335f1,_0x58f602,_0x2a63f3){return new Promise((_0xcbeccc,_0x3ea48a)=>{try{let _0xa38e88=_0x4303('0x52')+_0x5335f1[_0x4303('0x29')]+'/'+_0x2a63f3+'/'+_0x58f602;let _0x3c7a81=_0x5335f1['filepath']+'/'+_0x2a63f3+'/'+_0x58f602;winston[_0x4303('0x5f')]('Remote\x20path:\x20'+_0xa38e88);winston['verbose'](_0x4303('0x74')+_0x3c7a81);_0xd64692[_0x4303('0x78')](_0xa38e88,_0x3c7a81,{},function(_0x345da0){if(_0x345da0){winston[_0x4303('0x66')](_0x4303('0x79')+_0x58f602);return _0x3ea48a(_0x345da0);}winston[_0x4303('0x47')]('Retrieved\x20'+_0x58f602);return _0xcbeccc();});}catch(_0x3f8f76){return _0x3ea48a(_0x3f8f76);}});};function _0x28832c(_0x19b187,_0x5df297,_0x196811,_0x509d20){_0x19b187['readdir']('/home/c3/FusionFilesystem/'+_0x5df297[_0x4303('0x29')],function(_0x24ce01){if(_0x24ce01){console[_0x4303('0x34')](_0x4303('0x7a')+_0x24ce01);_0x19b187['mkdir'](_0x4303('0x52')+_0x5df297[_0x4303('0x29')],function(_0x407bba){if(_0x407bba){console[_0x4303('0x34')](_0x4303('0x7b')+_0x407bba);throw _0x407bba;}console[_0x4303('0x34')](_0x4303('0x7c'));_0x19b187[_0x4303('0x53')](_0x4303('0x52')+_0x5df297[_0x4303('0x29')]+_0x4303('0x59'),function(_0xf825df){if(_0xf825df){console['log'](_0x4303('0x7d')+_0xf825df);throw _0xf825df;}console[_0x4303('0x34')]('Editor\x20directory\x20created');_0x19b187['mkdir'](_0x4303('0x52')+_0x5df297[_0x4303('0x29')]+_0x4303('0x5b'),function(_0x6467b0){if(_0x6467b0){console[_0x4303('0x34')](_0x4303('0x7e')+_0x6467b0);throw _0x6467b0;}console[_0x4303('0x34')](_0x4303('0x7f'));_0x509d20(_0x19b187,_0x5df297,_0x196811);});});});}_0x509d20(_0x19b187,_0x5df297,_0x196811);});};function _0x3c74e1(_0x25900c,_0x25bf3c,_0x19fa9d){_0x25900c[_0x4303('0x51')]('/home/c3/FusionFilesystem/'+_0x25bf3c[_0x4303('0x29')]+_0x4303('0x59'),function(_0x5f55e4,_0x464f7a){if(_0x5f55e4){console[_0x4303('0x34')](_0x4303('0x80')+_0x5f55e4);throw _0x5f55e4;}_0x5bf998(_0x25bf3c,_0x4303('0x5d'),_0x464f7a,_0x19fa9d);});_0x25900c[_0x4303('0x51')](_0x4303('0x52')+_0x25bf3c[_0x4303('0x29')]+_0x4303('0x5b'),function(_0x2793da,_0x33e718){if(_0x2793da){console[_0x4303('0x34')](_0x4303('0x81')+_0x2793da);throw _0x2793da;}_0x5bf998(_0x25bf3c,'Blockly',_0x33e718,_0x19fa9d);});};function _0x5bf998(_0x277fbd,_0x375d1f,_0x38f1cf,_0x1f55a6){console['log'](_0x4303('0x82'));if(_0x375d1f==_0x4303('0x5e')&&_0x38f1cf[_0x4303('0x44')]==0x0){_0x1f55a6['end']();}for(var _0x57bca4=0x0;_0x57bca4<_0x38f1cf[_0x4303('0x44')];_0x57bca4++){let _0x4c9fb9=_0x4303('0x52')+_0x277fbd[_0x4303('0x29')]+'/'+_0x375d1f+'/'+_0x38f1cf[_0x57bca4][_0x4303('0x61')];let _0x48469e='app/filesystem/'+_0x277fbd[_0x4303('0x29')]+'/'+_0x375d1f+'/';console[_0x4303('0x34')](_0x4303('0x83')+_0x4c9fb9+_0x4303('0x84')+_0x48469e);SCP['scp'](_0x4303('0x85')+_0x4c9fb9,_0x48469e,function(_0x34248e){if(_0x34248e){console[_0x4303('0x34')]('Error\x20downloading:\x20'+_0x4c9fb9+_0x4303('0x86')+_0x34248e);}if(_0x375d1f==_0x4303('0x5e')&&(_0x57bca4=_0x38f1cf[_0x4303('0x44')]-0x1)){_0x1f55a6[_0x4303('0x4b')]();}});}};};