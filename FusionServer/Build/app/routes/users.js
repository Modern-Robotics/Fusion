var _0x35f9=['in\x20cloud\x20login','exec','login','create','Logged\x20out\x20successfully','local-recovery','Login\x20Successful','Another\x20user\x20is\x20already\x20logged\x20in.','Admin','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20found','Editor','Blockly','filename','push','verbose','Getting\x20data\x20for\x20','stat','name','/Blockly','Local\x20mtime:\x20','mtimeMs','attrs','floor','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','debug','Error:\x20','mtime','\x22\x20newer,\x20updating\x20local\x20version','\x20not\x20a\x20common\x20file!','Remote\x20path:\x20','fastPut','Error\x20uploading\x20file:\x20','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Error\x20reading\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','app/filesystem/','Moving:\x20','\x20to\x20','scp','c3:root@172.16.0.1:','scp2','ssh2','Client','fs-extra','request-promise','./../../server/classroom/connection/','exports','get','/api/users','send','post','status','message','MultiUserAccess','connected','logIn','body','socketId','REGISTER.CREATED','json','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','authenticate','user','Error','/api/users/:User_Id','findOne','trim','put','params','User_Id','toLowerCase','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','delete','fusion_program_running','SocketVariables','User','username','KillProgram','logout','remove','removeFileSystem','Successfully\x20deleted','/api/users/login','LOGIN.SUCCESS','LOGIN.MULTIUSER_DENIED','log'];(function(_0x4e319f,_0x404e44){var _0x858b18=function(_0x47f521){while(--_0x47f521){_0x4e319f['push'](_0x4e319f['shift']());}};_0x858b18(++_0x404e44);}(_0x35f9,0x1e3));var _0x1b7d=function(_0x2f91d2,_0x58c32e){_0x2f91d2=_0x2f91d2-0x0;var _0x531ef5=_0x35f9[_0x2f91d2];return _0x531ef5;};var SCP=require(_0x1b7d('0x0'));var SSH=require(_0x1b7d('0x1'))[_0x1b7d('0x2')];var fs=require(_0x1b7d('0x3'));var path=require('path');var rp=require(_0x1b7d('0x4'));const classroomConnection=require(_0x1b7d('0x5'));const winston=require('winston');module[_0x1b7d('0x6')]=function(_0x161220,_0x37b069,_0x4180da,_0x5a4903,_0x2e92e8,_0x2c36d7){_0x161220[_0x1b7d('0x7')](_0x1b7d('0x8'),_0x48ccf2(),function(_0x53b127,_0x193705){_0x37b069['find']({'usergroup':{'$ne':'Guest'}},function(_0x5d50e4,_0x4b1b48){if(_0x5d50e4)_0x193705[_0x1b7d('0x9')](_0x5d50e4);_0x193705['json'](_0x4b1b48);});});_0x161220[_0x1b7d('0xa')]('/api/users',function(_0x2c1c23,_0x38fd94,_0x3a615f){_0x4180da['authenticate']('local-signup',async function(_0x7ac444,_0xf3b1c4,_0x48d5fa){if(_0x7ac444)return _0x38fd94[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x7ac444);if(_0x48d5fa&&_0x48d5fa[_0x1b7d('0xc')])return _0x38fd94[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x2c1c23['__'](_0x48d5fa[_0x1b7d('0xc')]));if(_0x2c36d7[_0x1b7d('0xd')]){if(classroomConnection[_0x1b7d('0xe')]){await _0x559cf8(_0xf3b1c4);}_0x2c1c23[_0x1b7d('0xf')](_0xf3b1c4,function(_0x7ac444){if(_0x7ac444){return _0x3a615f(_0x7ac444);}_0x3acecc(_0x2c1c23[_0x1b7d('0x10')][_0x1b7d('0x11')],_0xf3b1c4);return _0x38fd94[_0x1b7d('0xb')](0xc8)['json']({'serverMessage':_0x2c1c23['__'](_0x1b7d('0x12')),'user':_0xf3b1c4});});}else{if(_0x5a18d4()==0x0){_0x3acecc(_0x2c1c23[_0x1b7d('0x10')][_0x1b7d('0x11')],_0xf3b1c4);if(classroomConnection[_0x1b7d('0xe')]){await _0x559cf8(_0xf3b1c4);}_0x2c1c23['logIn'](_0xf3b1c4,function(_0x7ac444){if(_0x7ac444){return _0x3a615f(_0x7ac444);}_0x3acecc(_0x2c1c23[_0x1b7d('0x10')][_0x1b7d('0x11')],_0xf3b1c4);return _0x38fd94[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x13')]({'serverMessage':_0x2c1c23['__'](_0x1b7d('0x12')),'user':_0xf3b1c4});});}else{return _0x38fd94[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x2c1c23['__'](_0x1b7d('0x14')));}}})(_0x2c1c23,_0x38fd94,_0x3a615f);});_0x161220['post'](_0x1b7d('0x8'),_0x4180da[_0x1b7d('0x15')]('local-signup',{'session':!![]}),function(_0x3b03e6,_0x2711c7){if(_0x3b03e6[_0x1b7d('0x16')][_0x1b7d('0x17')]){return _0x2711c7[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x3b03e6['user']['Error']);}else{}});_0x161220['get'](_0x1b7d('0x18'),_0x48ccf2(),function(_0x55798e,_0xe1417b){_0x37b069[_0x1b7d('0x19')]({'username':_0x55798e['params']['User_Id']['toLowerCase']()[_0x1b7d('0x1a')]()},function(_0x17dd7c,_0x4c1370){if(_0x17dd7c)_0xe1417b[_0x1b7d('0x9')](_0x17dd7c);_0xe1417b[_0x1b7d('0x13')](_0x4c1370);});});_0x161220[_0x1b7d('0x1b')](_0x1b7d('0x18'),_0x48ccf2(),function(_0x3705d1,_0x4c0b2c){_0x37b069['findOne']({'username':_0x3705d1[_0x1b7d('0x1c')][_0x1b7d('0x1d')][_0x1b7d('0x1e')]()[_0x1b7d('0x1a')]()},function(_0xee46cb,_0x2f8c5c){if(_0xee46cb)_0x4c0b2c[_0x1b7d('0x9')](_0xee46cb);if(_0x3705d1['body'][_0x1b7d('0x1f')]){_0x2f8c5c[_0x1b7d('0x1f')]=_0x2f8c5c[_0x1b7d('0x20')](_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x1f')]);}if(_0x3705d1['body'][_0x1b7d('0x21')]){_0x2f8c5c[_0x1b7d('0x21')]=_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x21')];}if(_0x3705d1[_0x1b7d('0x10')]['lastname']){_0x2f8c5c[_0x1b7d('0x22')]=_0x3705d1[_0x1b7d('0x10')]['lastname'];}if(_0x3705d1['body']['language']){_0x2f8c5c[_0x1b7d('0x23')]=_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x23')];}if(_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x24')]){_0x2f8c5c[_0x1b7d('0x24')]=_0x3705d1['body']['email'];}if(_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x25')]){_0x2f8c5c[_0x1b7d('0x25')]=_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x25')];}if(_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x26')]){_0x2f8c5c[_0x1b7d('0x26')]=_0x3705d1[_0x1b7d('0x10')]['securityquestion'];}if(_0x3705d1[_0x1b7d('0x10')]['securityanswer']){_0x2f8c5c['securityanswer']=_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x27')];}if(_0x3705d1[_0x1b7d('0x10')][_0x1b7d('0x28')]){_0x2f8c5c[_0x1b7d('0x28')]=_0x3705d1[_0x1b7d('0x10')]['usergroup'];}_0x2f8c5c[_0x1b7d('0x29')](function(_0xee46cb){if(_0xee46cb)_0x4c0b2c['status'](0x1f4)[_0x1b7d('0x9')](_0xee46cb);_0x4c0b2c[_0x1b7d('0xb')](0xc8)['json']({'serverMessage':_0x1b7d('0x2a')});});});});_0x161220[_0x1b7d('0x2b')](_0x1b7d('0x18'),_0x48ccf2(),function(_0x38fe6c,_0x415e4f){if(_0x38fe6c[_0x1b7d('0x1c')]['User_Id'][_0x1b7d('0x1e')]()['trim']()==_0x38fe6c['user']['username']){if(_0x2c36d7['SocketVariables'][_0x1b7d('0x2c')])if(_0x2c36d7[_0x1b7d('0x2d')][_0x1b7d('0x2c')][_0x1b7d('0x2e')]==_0x38fe6c['user'][_0x1b7d('0x2f')])_0x5a4903[_0x1b7d('0x30')]();_0x3016ae(_0x38fe6c[_0x1b7d('0x16')][_0x1b7d('0x2f')]);_0x38fe6c[_0x1b7d('0x31')]();}_0x37b069[_0x1b7d('0x32')]({'username':_0x38fe6c[_0x1b7d('0x1c')][_0x1b7d('0x1d')][_0x1b7d('0x1e')]()[_0x1b7d('0x1a')]()},function(_0x61520d,_0x539d67){if(_0x61520d)return _0x415e4f['send'](_0x61520d);_0x37b069[_0x1b7d('0x33')](_0x38fe6c['params'][_0x1b7d('0x1d')][_0x1b7d('0x1e')]()[_0x1b7d('0x1a')]());return _0x415e4f[_0x1b7d('0xb')](0xc8)['json']({'serverMessage':_0x1b7d('0x34')});});});_0x161220[_0x1b7d('0xa')](_0x1b7d('0x35'),function(_0x2c09f4,_0x1c7fd4,_0x3a92c2){_0x4180da['authenticate']('local-login',async function(_0x352724,_0x44b31a,_0x54199c){if(_0x352724)return _0x1c7fd4[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x2c09f4['__'](_0x352724['message']));if(!_0x44b31a)return _0x1c7fd4[_0x1b7d('0xb')](0x191)['send'](_0x2c09f4['__'](_0x54199c[_0x1b7d('0xc')]));if(_0x2c36d7[_0x1b7d('0xd')]){if(classroomConnection[_0x1b7d('0xe')]){await _0x559cf8(_0x44b31a);}_0x2c09f4['logIn'](_0x44b31a,function(_0x352724){if(_0x352724){return _0x3a92c2(_0x352724);}_0x3acecc(_0x2c09f4['body'][_0x1b7d('0x11')],_0x44b31a);return _0x1c7fd4[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x13')]({'serverMessage':_0x2c09f4['__'](_0x1b7d('0x36')),'user':_0x44b31a});});}else{if(_0x5a18d4()==0x0){_0x3acecc(_0x2c09f4[_0x1b7d('0x10')][_0x1b7d('0x11')],_0x44b31a);if(classroomConnection['connected']){await _0x559cf8(_0x44b31a);}_0x2c09f4[_0x1b7d('0xf')](_0x44b31a,function(_0x352724){if(_0x352724){return _0x3a92c2(_0x352724);}_0x3acecc(_0x2c09f4['body'][_0x1b7d('0x11')],_0x44b31a);return _0x1c7fd4[_0x1b7d('0xb')](0xc8)['json']({'serverMessage':_0x2c09f4['__'](_0x1b7d('0x36')),'user':_0x44b31a});});}else{return _0x1c7fd4['status'](0x1f4)[_0x1b7d('0x9')](_0x2c09f4['__'](_0x1b7d('0x37')));}}})(_0x2c09f4,_0x1c7fd4,_0x3a92c2);});_0x161220[_0x1b7d('0xa')]('/api/users/cloudLogin',async function(_0x126a92,_0x1d5489){console[_0x1b7d('0x38')](_0x1b7d('0x39'));var _0x5353c8={'method':'POST','uri':'https://172.16.0.1/backend/auth/ldap','body':{'username':_0x126a92['body'][_0x1b7d('0x2f')],'password':_0x126a92[_0x1b7d('0x10')][_0x1b7d('0x1f')]},'json':!![],'rejectUnauthorized':![]};try{let _0x392b3a=await rp(_0x5353c8);let _0x2366d=await _0x37b069[_0x1b7d('0x19')]({'username':_0x126a92[_0x1b7d('0x10')][_0x1b7d('0x2f')]})[_0x1b7d('0x3a')]();if(_0x2366d){return _0x1d5489[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x9')](_0x1b7d('0x3b'));}else{return _0x1d5489[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x9')](_0x1b7d('0x3c'));}}catch(_0x6c006d){console[_0x1b7d('0x38')]('Error\x20with\x20request\x20promise.\x20'+_0x6c006d);return _0x1d5489[_0x1b7d('0xb')](0x1f4)['send'](_0x6c006d);}});_0x161220[_0x1b7d('0xa')]('/api/users/logout',_0x48ccf2(),function(_0x3431fe,_0x1c1b7f){if(_0x2c36d7[_0x1b7d('0x2d')][_0x1b7d('0x2c')])if(_0x2c36d7[_0x1b7d('0x2d')][_0x1b7d('0x2c')][_0x1b7d('0x2e')]==_0x3431fe[_0x1b7d('0x16')]['username'])_0x5a4903[_0x1b7d('0x30')]();_0x3e8e34(_0x3431fe[_0x1b7d('0x10')][_0x1b7d('0x11')]);_0x3431fe[_0x1b7d('0x31')]();_0x1c1b7f['status'](0xc8)[_0x1b7d('0x13')]({'serverMessage':_0x1b7d('0x3d')});});_0x161220[_0x1b7d('0x7')]('/api/recovery/:User_Id',function(_0x358039,_0x29fe52){_0x37b069[_0x1b7d('0x19')]({'username':_0x358039['params'][_0x1b7d('0x1d')][_0x1b7d('0x1e')]()[_0x1b7d('0x1a')]()},function(_0x23bf8,_0x3f6e58){if(_0x23bf8)return _0x29fe52[_0x1b7d('0xb')](0x1f4)[_0x1b7d('0x9')](_0x23bf8);if(!_0x3f6e58)return _0x29fe52['status'](0x1f4)[_0x1b7d('0x9')]('User\x20does\x20not\x20exist');else return _0x29fe52[_0x1b7d('0xb')](0xc8)['json'](_0x3f6e58[_0x1b7d('0x26')]);});});_0x161220[_0x1b7d('0xa')]('/api/recovery',_0x4180da[_0x1b7d('0x15')](_0x1b7d('0x3e'),{'session':!![]}),function(_0x251b90,_0xd174b7){if(_0x2c36d7[_0x1b7d('0xd')]){if(classroomConnection['connected']){_0x559cf8(_0x251b90['user']);}_0x3acecc(_0x251b90[_0x1b7d('0x10')][_0x1b7d('0x11')],_0x251b90[_0x1b7d('0x16')]);return _0xd174b7[_0x1b7d('0xb')](0xc8)['json']({'serverMessage':_0x1b7d('0x3f'),'user':_0x251b90[_0x1b7d('0x16')]});}else{if(_0x5a18d4()==0x0){_0x3acecc(_0x251b90[_0x1b7d('0x10')][_0x1b7d('0x11')],_0x251b90['user']);if(classroomConnection[_0x1b7d('0xe')]){_0x559cf8(_0x251b90[_0x1b7d('0x16')]);}return _0xd174b7[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x13')]({'serverMessage':_0x1b7d('0x3f'),'user':_0x251b90[_0x1b7d('0x16')]});}else{_0x251b90[_0x1b7d('0x31')]();return _0xd174b7['status'](0x1f4)['send'](_0x1b7d('0x40'));}}});_0x161220['get']('/api/allowedUserGroups',function(_0x30cc81,_0x1b1c6b){var _0x3cf8ab=['User'];_0x37b069['findOne']({'usergroup':_0x1b7d('0x41')},function(_0x111c2e,_0x44df11){if(_0x111c2e)return _0x1b1c6b[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x9')](_0x3cf8ab);if(!_0x44df11)_0x3cf8ab['unshift'](_0x1b7d('0x41'));return _0x1b1c6b[_0x1b7d('0xb')](0xc8)[_0x1b7d('0x9')](_0x3cf8ab);});});function _0x5a18d4(){var _0x2ba96d=0x0;for(var _0xaa485e=0x0;_0xaa485e<_0x2c36d7[_0x1b7d('0x42')][_0x1b7d('0x43')];_0xaa485e++){if(_0x2c36d7[_0x1b7d('0x42')][_0xaa485e][_0x1b7d('0x2e')]){_0x2ba96d++;}}return _0x2ba96d;}function _0x3acecc(_0x4a1d41,_0x35346e){for(var _0x139f86=0x0;_0x139f86<_0x2c36d7[_0x1b7d('0x42')]['length'];_0x139f86++){if(_0x2c36d7[_0x1b7d('0x42')][_0x139f86]['id']==_0x4a1d41){_0x2c36d7[_0x1b7d('0x42')][_0x139f86][_0x1b7d('0x2e')]=_0x35346e;break;}}}function _0x3e8e34(_0x220fad){for(var _0x266d5f=0x0;_0x266d5f<_0x2c36d7[_0x1b7d('0x42')][_0x1b7d('0x43')];_0x266d5f++){if(_0x2c36d7['connectedClients'][_0x266d5f]['id']==_0x220fad){_0x2c36d7[_0x1b7d('0x42')][_0x266d5f][_0x1b7d('0x2e')]=undefined;break;}}}function _0x3016ae(_0x179cf2){for(var _0x1d0820=0x0;_0x1d0820<_0x2c36d7[_0x1b7d('0x42')][_0x1b7d('0x43')];_0x1d0820++){if(_0x2c36d7[_0x1b7d('0x42')][_0x1d0820][_0x1b7d('0x2e')][_0x1b7d('0x2f')]==_0x179cf2){_0x2c36d7['connectedClients'][_0x1d0820][_0x1b7d('0x2e')]=undefined;break;}}}function _0x48ccf2(){return function(_0x162195,_0x315b4c,_0x28494c){if(_0x162195[_0x1b7d('0x44')]()){return _0x28494c();}else{return _0x315b4c[_0x1b7d('0xb')](0x191)[_0x1b7d('0x9')](_0x1b7d('0x45'));}};}async function _0x559cf8(_0x2f086f){try{await _0x5d3a6b(_0x2f086f);}catch(_0x21a6d5){winston['info'](_0x21a6d5);winston[_0x1b7d('0x46')]('Error\x20downloading\x20classroom\x20files\x20for\x20'+_0x2f086f[_0x1b7d('0x2f')]);}};function _0x5d3a6b(_0x58177d){return new Promise(function(_0x556474,_0x7788e1){var _0x584ec6=new SSH();_0x584ec6['on'](_0x1b7d('0x47'),function(){_0x584ec6[_0x1b7d('0x48')](async function(_0x4f1872,_0x579f6c){if(_0x4f1872){winston[_0x1b7d('0x46')](_0x1b7d('0x49')+_0x4f1872);_0x584ec6[_0x1b7d('0x4a')]();return _0x7788e1(_0x4f1872);}try{await _0x4a4627(_0x579f6c);await _0x404bae(_0x579f6c,_0x58177d[_0x1b7d('0x2f')]);await _0x2d3fed(_0x579f6c,_0x58177d['username']);await _0x437334(_0x579f6c,_0x58177d[_0x1b7d('0x2f')]);let _0x2523fa=await _0x1e0a0f(_0x579f6c,_0x58177d['username']);winston[_0x1b7d('0x46')](JSON[_0x1b7d('0x4b')](_0x2523fa));let _0xab9c97=await _0x1b0d80(_0x58177d[_0x1b7d('0x4c')]);winston[_0x1b7d('0x46')](JSON[_0x1b7d('0x4b')](_0xab9c97));await _0x5d6890(_0x579f6c,_0x58177d,_0x2523fa,_0xab9c97);_0x584ec6[_0x1b7d('0x4a')]();return _0x556474();}catch(_0x56051f){winston[_0x1b7d('0x46')](_0x56051f);_0x584ec6[_0x1b7d('0x4a')]();return _0x7788e1(_0x56051f);}});})[_0x1b7d('0x4d')]({'host':_0x1b7d('0x4e'),'port':0x16,'username':'c3','password':_0x1b7d('0x4f')});});};function _0x4a4627(_0x29d41e){return new Promise(function(_0x1d68b7,_0x159978){_0x29d41e[_0x1b7d('0x50')](_0x1b7d('0x51'),function(_0x2c5518){if(_0x2c5518){_0x29d41e[_0x1b7d('0x52')](_0x1b7d('0x51'),function(_0x304a68){if(_0x304a68){return _0x159978(_0x1b7d('0x53')+_0x304a68);}else{winston[_0x1b7d('0x46')](_0x1b7d('0x54'));return _0x1d68b7();}});}else{winston[_0x1b7d('0x46')](_0x1b7d('0x55'));return _0x1d68b7();}});});};function _0x404bae(_0x5c71cc,_0x358072){return new Promise(function(_0x466c72,_0x11f9f9){_0x5c71cc[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x358072,function(_0x3b6490){if(_0x3b6490){_0x5c71cc['mkdir']('/home/c3/FusionFilesystem/'+_0x358072,function(_0x3469a0){if(_0x3469a0){return _0x11f9f9(_0x1b7d('0x56')+_0x3469a0);}else{winston[_0x1b7d('0x46')](_0x1b7d('0x57'));return _0x466c72();}});}else{winston[_0x1b7d('0x46')](_0x1b7d('0x58'));return _0x466c72();}});});};function _0x2d3fed(_0x5f5b2e,_0x1f09bd){return new Promise(function(_0x4d1e9d,_0x4732f8){_0x5f5b2e[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x1f09bd+_0x1b7d('0x59'),function(_0x140f9b){if(_0x140f9b){_0x5f5b2e['mkdir'](_0x1b7d('0x51')+_0x1f09bd+_0x1b7d('0x59'),function(_0x2c4d18){if(_0x2c4d18){return _0x4732f8(_0x1b7d('0x5a')+_0x2c4d18);}else{winston[_0x1b7d('0x46')](_0x1b7d('0x5b'));return _0x4d1e9d();}});}else{winston[_0x1b7d('0x46')](_0x1b7d('0x5c'));return _0x4d1e9d();}});});};function _0x437334(_0x271d5d,_0x1d62ff){return new Promise(function(_0x228c7f,_0x44a49e){_0x271d5d[_0x1b7d('0x50')]('/home/c3/FusionFilesystem/'+_0x1d62ff+_0x1b7d('0x5d'),function(_0x41d021){if(_0x41d021){_0x271d5d[_0x1b7d('0x52')](_0x1b7d('0x51')+_0x1d62ff+_0x1b7d('0x5d'),function(_0x5435b3){if(_0x5435b3){return _0x44a49e(_0x1b7d('0x5e')+_0x5435b3);}else{winston[_0x1b7d('0x46')]('User\x27s\x20blockly\x20directory\x20created');return _0x228c7f();}});}else{winston[_0x1b7d('0x46')](_0x1b7d('0x5f'));return _0x228c7f();}});});};function _0x1e0a0f(_0xe85fc7,_0x56cc63){return new Promise(async function(_0x4c08f6,_0x1d715d){try{let _0x4f0a37={};_0x4f0a37[_0x1b7d('0x60')]=await _0x5ebf79(_0xe85fc7,_0x56cc63);_0x4f0a37[_0x1b7d('0x61')]=await _0x4abcc5(_0xe85fc7,_0x56cc63);return _0x4c08f6(_0x4f0a37);}catch(_0x3239ba){return _0x1d715d(_0x3239ba);}});};function _0x5ebf79(_0xedb1df,_0x36b67a){return new Promise(function(_0x2bf1d4,_0x1a5d7b){_0xedb1df[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x36b67a+'/Editor/',function(_0x13c800,_0x31ebc4){if(_0x13c800)return _0x1a5d7b(_0x13c800);let _0x50959d=[];for(let _0x3d2b8c=0x0;_0x3d2b8c<_0x31ebc4[_0x1b7d('0x43')];_0x3d2b8c++){winston['verbose']('Getting\x20data\x20for\x20'+_0x31ebc4[_0x3d2b8c][_0x1b7d('0x62')]);_0x50959d[_0x1b7d('0x63')](_0x31ebc4[_0x3d2b8c]);}return _0x2bf1d4(_0x50959d);});});};function _0x4abcc5(_0x42375e,_0x350e14){return new Promise(function(_0x29c7e5,_0x283b13){_0x42375e[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x350e14+_0x1b7d('0x5d'),function(_0x2a63c7,_0x18c66e){if(_0x2a63c7)return _0x283b13(_0x2a63c7);let _0x6bf1fc=[];for(let _0x3710c4=0x0;_0x3710c4<_0x18c66e[_0x1b7d('0x43')];_0x3710c4++){winston[_0x1b7d('0x64')](_0x1b7d('0x65')+_0x18c66e[_0x3710c4][_0x1b7d('0x62')]);_0x6bf1fc['push'](_0x18c66e[_0x3710c4]);}return _0x29c7e5(_0x6bf1fc);});});};function _0x1b0d80(_0xb80e5d){return new Promise(async function(_0x57fc99,_0x6ac851){try{let _0x21084c={};_0x21084c[_0x1b7d('0x60')]=await _0x550bae(_0xb80e5d);_0x21084c[_0x1b7d('0x61')]=await _0x438c5f(_0xb80e5d);return _0x57fc99(_0x21084c);}catch(_0x82a280){return _0x6ac851(_0x82a280);}});};function _0x550bae(_0xaa85a9){return new Promise(async function(_0x22ee16,_0x230665){try{let _0x89621d=[];let _0x435f1c=await fs[_0x1b7d('0x50')](_0xaa85a9+'/Editor');for(let _0xad4697=0x0;_0xad4697<_0x435f1c[_0x1b7d('0x43')];_0xad4697++){winston[_0x1b7d('0x64')](_0x1b7d('0x65')+_0x435f1c[_0xad4697]);let _0x176101=await fs[_0x1b7d('0x66')](_0xaa85a9+_0x1b7d('0x59')+_0x435f1c[_0xad4697]);_0x176101[_0x1b7d('0x67')]=_0x435f1c[_0xad4697];_0x89621d['push'](_0x176101);}return _0x22ee16(_0x89621d);}catch(_0x15c4bd){return _0x230665(_0x15c4bd);}});};function _0x438c5f(_0x51beda){return new Promise(async function(_0x18f18b,_0x5bf158){try{let _0x40166=[];let _0x25cba6=await fs['readdir'](_0x51beda+_0x1b7d('0x68'));for(let _0x1f1e02=0x0;_0x1f1e02<_0x25cba6[_0x1b7d('0x43')];_0x1f1e02++){winston[_0x1b7d('0x64')](_0x1b7d('0x65')+_0x25cba6[_0x1f1e02]);let _0x2c14eb=await fs['stat'](_0x51beda+'/Blockly/'+_0x25cba6[_0x1f1e02]);_0x2c14eb[_0x1b7d('0x67')]=_0x25cba6[_0x1f1e02];_0x40166[_0x1b7d('0x63')](_0x2c14eb);}return _0x18f18b(_0x40166);}catch(_0x1084be){return _0x5bf158(_0x1084be);}});};function _0x5d6890(_0x132a83,_0x3c0dec,_0x484785,_0x48b358){return new Promise(async function(_0x1f14d7,_0x42217f){try{for(let _0x127eb9=0x0;_0x127eb9<_0x484785[_0x1b7d('0x60')][_0x1b7d('0x43')];_0x127eb9++){let _0x5b8ae0=![];for(let _0x34cc28=0x0;_0x34cc28<_0x48b358[_0x1b7d('0x60')][_0x1b7d('0x43')];_0x34cc28++){if(_0x48b358['Editor'][_0x34cc28][_0x1b7d('0x67')]==_0x484785[_0x1b7d('0x60')][_0x127eb9][_0x1b7d('0x62')]){winston['debug'](_0x1b7d('0x69')+Math['floor'](_0x48b358['Editor'][_0x34cc28][_0x1b7d('0x6a')]/0x3e8));winston['debug']('Remote\x20mtime:\x20'+_0x484785[_0x1b7d('0x60')][_0x127eb9][_0x1b7d('0x6b')]['mtime']);if(Math[_0x1b7d('0x6c')](_0x48b358['Editor'][_0x34cc28][_0x1b7d('0x6a')]/0x3e8)>_0x484785['Editor'][_0x127eb9][_0x1b7d('0x6b')]['mtime']){_0x5b8ae0=!![];winston[_0x1b7d('0x64')](_0x1b7d('0x6d')+_0x48b358['Editor'][_0x34cc28][_0x1b7d('0x67')]+_0x1b7d('0x6e'));try{await _0x47b245(_0x132a83,_0x3c0dec,_0x484785[_0x1b7d('0x60')][_0x127eb9][_0x1b7d('0x62')],_0x1b7d('0x60'));}catch(_0x5909c4){return _0x42217f(_0x5909c4);}break;}else{_0x5b8ae0=!![];winston[_0x1b7d('0x64')](_0x1b7d('0x6f')+_0x48b358['Editor'][_0x34cc28][_0x1b7d('0x67')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x3ae904(_0x132a83,_0x3c0dec,_0x484785[_0x1b7d('0x60')][_0x127eb9][_0x1b7d('0x62')],_0x1b7d('0x60'));}catch(_0x1f5067){winston[_0x1b7d('0x70')](_0x1b7d('0x71')+_0x1f5067);return _0x42217f(_0x1f5067);}break;}}}if(!_0x5b8ae0){winston[_0x1b7d('0x64')](_0x484785[_0x1b7d('0x60')][_0x127eb9][_0x1b7d('0x62')]+'\x20not\x20a\x20common\x20file!');try{await _0x3ae904(_0x132a83,_0x3c0dec,_0x484785['Editor'][_0x127eb9][_0x1b7d('0x62')],_0x1b7d('0x60'));}catch(_0xf02a76){return _0x42217f(_0xf02a76);}}}for(let _0x44dc57=0x0;_0x44dc57<_0x484785[_0x1b7d('0x61')][_0x1b7d('0x43')];_0x44dc57++){let _0x5b8ae0=![];for(let _0x34cc28=0x0;_0x34cc28<_0x48b358['Blockly']['length'];_0x34cc28++){if(_0x48b358[_0x1b7d('0x61')][_0x34cc28]['name']==_0x484785[_0x1b7d('0x61')][_0x44dc57]['filename']){winston[_0x1b7d('0x70')](_0x1b7d('0x69')+Math[_0x1b7d('0x6c')](_0x48b358[_0x1b7d('0x61')][_0x34cc28][_0x1b7d('0x6a')]/0x3e8));winston[_0x1b7d('0x70')]('Remote\x20mtime:\x20'+_0x484785[_0x1b7d('0x61')][_0x44dc57][_0x1b7d('0x6b')][_0x1b7d('0x72')]);if(Math[_0x1b7d('0x6c')](_0x48b358[_0x1b7d('0x61')][_0x34cc28][_0x1b7d('0x6a')]/0x3e8)>_0x484785['Blockly'][_0x44dc57][_0x1b7d('0x6b')][_0x1b7d('0x72')]){_0x5b8ae0=!![];winston[_0x1b7d('0x64')]('Local\x20\x22'+_0x48b358[_0x1b7d('0x61')][_0x34cc28][_0x1b7d('0x67')]+_0x1b7d('0x6e'));try{await _0x47b245(_0x132a83,_0x3c0dec,_0x484785[_0x1b7d('0x61')][_0x44dc57][_0x1b7d('0x62')],_0x1b7d('0x61'));}catch(_0x48c802){return _0x42217f(_0x48c802);}break;}else{_0x5b8ae0=!![];winston['verbose']('Remote\x20\x22'+_0x48b358['Blockly'][_0x34cc28][_0x1b7d('0x67')]+_0x1b7d('0x73'));try{await _0x3ae904(_0x132a83,_0x3c0dec,_0x484785['Blockly'][_0x44dc57][_0x1b7d('0x62')],'Blockly');}catch(_0x373e8d){winston['debug'](_0x1b7d('0x71')+_0x373e8d);return _0x42217f(_0x373e8d);}break;}}}if(!_0x5b8ae0){winston[_0x1b7d('0x64')](_0x484785['Blockly'][_0x44dc57][_0x1b7d('0x62')]+_0x1b7d('0x74'));try{await _0x3ae904(_0x132a83,_0x3c0dec,_0x484785[_0x1b7d('0x61')][_0x44dc57][_0x1b7d('0x62')],_0x1b7d('0x61'));}catch(_0x38a062){return _0x42217f(_0x38a062);}}}return _0x1f14d7();}catch(_0x38366d){return _0x42217f(_0x38366d);}});};function _0x47b245(_0x1874bc,_0xfac5e7,_0x57df7d,_0x374407){return new Promise((_0x495c97,_0x3e1b11)=>{try{let _0x33a484='/home/c3/FusionFilesystem/'+_0xfac5e7[_0x1b7d('0x2f')]+'/'+_0x374407+'/'+_0x57df7d;let _0x1f6053=_0xfac5e7[_0x1b7d('0x4c')]+'/'+_0x374407+'/'+_0x57df7d;winston['verbose'](_0x1b7d('0x75')+_0x33a484);winston['verbose']('Local\x20Path:\x20'+_0x1f6053);_0x1874bc[_0x1b7d('0x76')](_0x1f6053,_0x33a484,{},function(_0xf203bc){if(_0xf203bc){winston[_0x1b7d('0x70')](_0x1b7d('0x77')+_0x57df7d);return _0x3e1b11(_0xf203bc);}winston[_0x1b7d('0x46')](_0x1b7d('0x78')+_0x57df7d);return _0x495c97();});}catch(_0x2f7b26){return _0x3e1b11(_0x2f7b26);}});};function _0x3ae904(_0xe0b91f,_0xdf05e5,_0x30f2b7,_0x4f87ef){return new Promise((_0x42a1c9,_0x3becf4)=>{try{let _0x588542=_0x1b7d('0x51')+_0xdf05e5[_0x1b7d('0x2f')]+'/'+_0x4f87ef+'/'+_0x30f2b7;let _0x1124b4=_0xdf05e5[_0x1b7d('0x4c')]+'/'+_0x4f87ef+'/'+_0x30f2b7;winston[_0x1b7d('0x64')](_0x1b7d('0x75')+_0x588542);winston[_0x1b7d('0x64')]('Local\x20Path:\x20'+_0x1124b4);_0xe0b91f[_0x1b7d('0x79')](_0x588542,_0x1124b4,{},function(_0x4c92df){if(_0x4c92df){winston['debug'](_0x1b7d('0x7a')+_0x30f2b7);return _0x3becf4(_0x4c92df);}winston[_0x1b7d('0x46')]('Retrieved\x20'+_0x30f2b7);return _0x42a1c9();});}catch(_0x39aea8){return _0x3becf4(_0x39aea8);}});};function _0x58796e(_0x2b651a,_0x2aa25a,_0x568e91,_0x536b66){_0x2b651a[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x2aa25a[_0x1b7d('0x2f')],function(_0x36ab79){if(_0x36ab79){console[_0x1b7d('0x38')](_0x1b7d('0x7b')+_0x36ab79);_0x2b651a[_0x1b7d('0x52')]('/home/c3/FusionFilesystem/'+_0x2aa25a[_0x1b7d('0x2f')],function(_0x130ba7){if(_0x130ba7){console[_0x1b7d('0x38')]('Error\x20creating\x20user\x20file\x20system:\x20'+_0x130ba7);throw _0x130ba7;}console[_0x1b7d('0x38')](_0x1b7d('0x7c'));_0x2b651a['mkdir'](_0x1b7d('0x51')+_0x2aa25a['username']+_0x1b7d('0x59'),function(_0x1bd675){if(_0x1bd675){console[_0x1b7d('0x38')]('Error\x20creating\x20editor\x20directory:\x20'+_0x1bd675);throw _0x1bd675;}console[_0x1b7d('0x38')](_0x1b7d('0x7d'));_0x2b651a[_0x1b7d('0x52')](_0x1b7d('0x51')+_0x2aa25a['username']+_0x1b7d('0x5d'),function(_0x46e0e7){if(_0x46e0e7){console['log'](_0x1b7d('0x7e')+_0x46e0e7);throw _0x46e0e7;}console[_0x1b7d('0x38')](_0x1b7d('0x7f'));_0x536b66(_0x2b651a,_0x2aa25a,_0x568e91);});});});}_0x536b66(_0x2b651a,_0x2aa25a,_0x568e91);});};function _0x2d0350(_0x4c1ae3,_0x240a2d,_0x1d09fe){_0x4c1ae3[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x240a2d[_0x1b7d('0x2f')]+'/Editor/',function(_0x2d1a4f,_0x473a8a){if(_0x2d1a4f){console[_0x1b7d('0x38')](_0x1b7d('0x80')+_0x2d1a4f);throw _0x2d1a4f;}_0x15e86a(_0x240a2d,_0x1b7d('0x60'),_0x473a8a,_0x1d09fe);});_0x4c1ae3[_0x1b7d('0x50')](_0x1b7d('0x51')+_0x240a2d[_0x1b7d('0x2f')]+_0x1b7d('0x5d'),function(_0x8f956d,_0x196cd1){if(_0x8f956d){console[_0x1b7d('0x38')](_0x1b7d('0x81')+_0x8f956d);throw _0x8f956d;}_0x15e86a(_0x240a2d,'Blockly',_0x196cd1,_0x1d09fe);});};function _0x15e86a(_0xdfab7a,_0x485c32,_0xe9269e,_0x18b7f3){console[_0x1b7d('0x38')]('Retrieving\x20files');if(_0x485c32==_0x1b7d('0x61')&&_0xe9269e[_0x1b7d('0x43')]==0x0){_0x18b7f3['end']();}for(var _0x46e485=0x0;_0x46e485<_0xe9269e[_0x1b7d('0x43')];_0x46e485++){let _0x4852db=_0x1b7d('0x51')+_0xdfab7a[_0x1b7d('0x2f')]+'/'+_0x485c32+'/'+_0xe9269e[_0x46e485][_0x1b7d('0x62')];let _0x1e8ae2=_0x1b7d('0x82')+_0xdfab7a[_0x1b7d('0x2f')]+'/'+_0x485c32+'/';console[_0x1b7d('0x38')](_0x1b7d('0x83')+_0x4852db+_0x1b7d('0x84')+_0x1e8ae2);SCP[_0x1b7d('0x85')](_0x1b7d('0x86')+_0x4852db,_0x1e8ae2,function(_0x370260){if(_0x370260){console[_0x1b7d('0x38')]('Error\x20downloading:\x20'+_0x4852db+',\x20error:\x20'+_0x370260);}if(_0x485c32==_0x1b7d('0x61')&&(_0x46e485=_0xe9269e['length']-0x1)){_0x18b7f3[_0x1b7d('0x4a')]();}});}};};