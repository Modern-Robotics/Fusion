var _0x15e5=['stat','name','/Blockly','Getting\x20data\x20for\x20','debug','Local\x20mtime:\x20','floor','Remote\x20mtime:\x20','attrs','mtime','mtimeMs','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','Local\x20\x22','filepath','Local\x20Path:\x20','fastPut','Error\x20uploading\x20file:\x20','Remote\x20path:\x20','fastGet','Error\x20downloading\x20file:\x20','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','app/filesystem/','\x20to\x20','scp','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','scp2','ssh2','Client','path','exports','/api/users','find','send','json','post','authenticate','user','Error','status','MultiUserAccess','body','socketId','User\x20created!','connected','logout','get','/api/users/:User_Id','params','toLowerCase','trim','put','findOne','User_Id','generateHash','password','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','delete','username','SocketVariables','fusion_program_running','User','remove','Successfully\x20deleted','/api/users/login','Login\x20Successful','User:\x20','\x20connected\x20to\x20classroom?\x20','/api/users/cloudLogin','log','in\x20cloud\x20login','POST','https://172.16.0.1/backend/auth/ldap','Error\x20with\x20request\x20promise.\x20','/api/users/logout','KillProgram','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','local-recovery','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','length','connectedClients','isAuthenticated','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','info','stringify','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','Editor','Blockly','/Editor/','filename','push','verbose','/Editor'];(function(_0x42c4a5,_0x915a42){var _0x225e0b=function(_0x2e0a35){while(--_0x2e0a35){_0x42c4a5['push'](_0x42c4a5['shift']());}};_0x225e0b(++_0x915a42);}(_0x15e5,0x138));var _0x3e8b=function(_0x5260ec,_0x12b991){_0x5260ec=_0x5260ec-0x0;var _0x3bd44b=_0x15e5[_0x5260ec];return _0x3bd44b;};var SCP=require(_0x3e8b('0x0'));var SSH=require(_0x3e8b('0x1'))[_0x3e8b('0x2')];var fs=require('fs-extra');var path=require(_0x3e8b('0x3'));var rp=require('request-promise');const classroomConnection=require('./../../server/classroom/connection/');const winston=require('winston');module[_0x3e8b('0x4')]=function(_0x26eb92,_0x28a9d7,_0x4f15ab,_0x427500,_0xd01720,_0x1e7864){_0x26eb92['get'](_0x3e8b('0x5'),_0xe13bd6(),function(_0x1ac140,_0x4e596e){_0x28a9d7[_0x3e8b('0x6')]({'usergroup':{'$ne':'Guest'}},function(_0x1d4dac,_0x5da39b){if(_0x1d4dac)_0x4e596e[_0x3e8b('0x7')](_0x1d4dac);_0x4e596e[_0x3e8b('0x8')](_0x5da39b);});});_0x26eb92[_0x3e8b('0x9')](_0x3e8b('0x5'),_0x4f15ab[_0x3e8b('0xa')]('local-signup',{'session':!![]}),function(_0x235cbd,_0x30f6e6){if(_0x235cbd[_0x3e8b('0xb')][_0x3e8b('0xc')]){return _0x30f6e6[_0x3e8b('0xd')](0x1f4)['send'](_0x235cbd[_0x3e8b('0xb')][_0x3e8b('0xc')]);}else{if(_0x1e7864[_0x3e8b('0xe')]){if(classroomConnection['connected']){_0x451205(_0x235cbd[_0x3e8b('0xb')]);}_0x3ab6d7(_0x235cbd[_0x3e8b('0xf')][_0x3e8b('0x10')],_0x235cbd['user']);return _0x30f6e6['status'](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x11'),'user':_0x235cbd[_0x3e8b('0xb')]});}else{if(_0x2c7026()==0x0){_0x3ab6d7(_0x235cbd[_0x3e8b('0xf')][_0x3e8b('0x10')],_0x235cbd[_0x3e8b('0xb')]);if(classroomConnection[_0x3e8b('0x12')]){_0x451205(_0x235cbd[_0x3e8b('0xb')]);}return _0x30f6e6[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x11'),'user':_0x235cbd['user']});}else{_0x235cbd[_0x3e8b('0x13')]();return _0x30f6e6[_0x3e8b('0xd')](0x1f4)[_0x3e8b('0x7')]('User\x20created\x20but\x20another\x20user\x20is\x20already\x20logged\x20in.');}}}});_0x26eb92[_0x3e8b('0x14')](_0x3e8b('0x15'),_0xe13bd6(),function(_0x237569,_0x273778){_0x28a9d7['findOne']({'username':_0x237569[_0x3e8b('0x16')]['User_Id'][_0x3e8b('0x17')]()[_0x3e8b('0x18')]()},function(_0x370835,_0x2dedb9){if(_0x370835)_0x273778[_0x3e8b('0x7')](_0x370835);_0x273778[_0x3e8b('0x8')](_0x2dedb9);});});_0x26eb92[_0x3e8b('0x19')]('/api/users/:User_Id',_0xe13bd6(),function(_0x30b2ed,_0x1e186f){_0x28a9d7[_0x3e8b('0x1a')]({'username':_0x30b2ed[_0x3e8b('0x16')][_0x3e8b('0x1b')]['toLowerCase']()['trim']()},function(_0x4849d3,_0x2ef26c){if(_0x4849d3)_0x1e186f[_0x3e8b('0x7')](_0x4849d3);if(_0x30b2ed[_0x3e8b('0xf')]['password']){_0x2ef26c['password']=_0x2ef26c[_0x3e8b('0x1c')](_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x1d')]);}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x1e')]){_0x2ef26c[_0x3e8b('0x1e')]=_0x30b2ed[_0x3e8b('0xf')]['firstname'];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x1f')]){_0x2ef26c[_0x3e8b('0x1f')]=_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x1f')];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x20')]){_0x2ef26c[_0x3e8b('0x20')]=_0x30b2ed[_0x3e8b('0xf')]['language'];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x21')]){_0x2ef26c[_0x3e8b('0x21')]=_0x30b2ed[_0x3e8b('0xf')]['email'];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x22')]){_0x2ef26c[_0x3e8b('0x22')]=_0x30b2ed['body']['defaultprogramminglanguage'];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x23')]){_0x2ef26c[_0x3e8b('0x23')]=_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x23')];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x24')]){_0x2ef26c['securityanswer']=_0x30b2ed['body']['securityanswer'];}if(_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x25')]){_0x2ef26c['usergroup']=_0x30b2ed[_0x3e8b('0xf')][_0x3e8b('0x25')];}_0x2ef26c[_0x3e8b('0x26')](function(_0x4849d3){if(_0x4849d3)_0x1e186f['status'](0x1f4)['send'](_0x4849d3);_0x1e186f['status'](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x27')});});});});_0x26eb92[_0x3e8b('0x28')](_0x3e8b('0x15'),_0xe13bd6(),function(_0x219c0c,_0x56f586){if(_0x219c0c['params']['User_Id'][_0x3e8b('0x17')]()[_0x3e8b('0x18')]()==_0x219c0c[_0x3e8b('0xb')][_0x3e8b('0x29')]){if(_0x1e7864['SocketVariables']['fusion_program_running'])if(_0x1e7864[_0x3e8b('0x2a')][_0x3e8b('0x2b')][_0x3e8b('0x2c')]==_0x219c0c[_0x3e8b('0xb')]['username'])_0x427500['KillProgram']();_0x3a3a00(_0x219c0c['user']['username']);_0x219c0c[_0x3e8b('0x13')]();}_0x28a9d7[_0x3e8b('0x2d')]({'username':_0x219c0c['params'][_0x3e8b('0x1b')][_0x3e8b('0x17')]()[_0x3e8b('0x18')]()},function(_0x25a009,_0x36941b){if(_0x25a009)return _0x56f586[_0x3e8b('0x7')](_0x25a009);_0x28a9d7['removeFileSystem'](_0x219c0c['params'][_0x3e8b('0x1b')][_0x3e8b('0x17')]()[_0x3e8b('0x18')]());return _0x56f586['status'](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x2e')});});});_0x26eb92[_0x3e8b('0x9')](_0x3e8b('0x2f'),_0x4f15ab[_0x3e8b('0xa')]('local-login',{'session':!![]}),async function(_0x3e8364,_0x1a8a0c){if(_0x1e7864[_0x3e8b('0xe')]){if(classroomConnection[_0x3e8b('0x12')]){await _0x451205(_0x3e8364[_0x3e8b('0xb')]);}_0x3ab6d7(_0x3e8364[_0x3e8b('0xf')][_0x3e8b('0x10')],_0x3e8364[_0x3e8b('0xb')]);return _0x1a8a0c['status'](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x30'),'user':_0x3e8364[_0x3e8b('0xb')]});}else{if(_0x2c7026()==0x0){_0x3ab6d7(_0x3e8364[_0x3e8b('0xf')][_0x3e8b('0x10')],_0x3e8364['user']);console['log'](_0x3e8b('0x31')+_0x3e8364[_0x3e8b('0xb')]+_0x3e8b('0x32')+classroomConnection[_0x3e8b('0x12')]);if(classroomConnection[_0x3e8b('0x12')]){await _0x451205(_0x3e8364[_0x3e8b('0xb')]);}return _0x1a8a0c[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x8')]({'serverMessage':'Login\x20Successful','user':_0x3e8364[_0x3e8b('0xb')]});}else{_0x3e8364[_0x3e8b('0x13')]();return _0x1a8a0c[_0x3e8b('0xd')](0x1f4)[_0x3e8b('0x7')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x26eb92[_0x3e8b('0x9')](_0x3e8b('0x33'),async function(_0xfa6015,_0x4209d4){console[_0x3e8b('0x34')](_0x3e8b('0x35'));var _0x208e5b={'method':_0x3e8b('0x36'),'uri':_0x3e8b('0x37'),'body':{'username':_0xfa6015['body'][_0x3e8b('0x29')],'password':_0xfa6015[_0x3e8b('0xf')][_0x3e8b('0x1d')]},'json':!![],'rejectUnauthorized':![]};try{let _0x1038af=await rp(_0x208e5b);let _0x4e1c64=await _0x28a9d7['findOne']({'username':_0xfa6015[_0x3e8b('0xf')][_0x3e8b('0x29')]})['exec']();if(_0x4e1c64){return _0x4209d4['status'](0xc8)[_0x3e8b('0x7')]('login');}else{return _0x4209d4[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x7')]('create');}}catch(_0x5bd5c3){console[_0x3e8b('0x34')](_0x3e8b('0x38')+_0x5bd5c3);return _0x4209d4[_0x3e8b('0xd')](0x1f4)['send'](_0x5bd5c3);}});_0x26eb92['post'](_0x3e8b('0x39'),_0xe13bd6(),function(_0x156169,_0x5250ea){if(_0x1e7864[_0x3e8b('0x2a')][_0x3e8b('0x2b')])if(_0x1e7864[_0x3e8b('0x2a')][_0x3e8b('0x2b')][_0x3e8b('0x2c')]==_0x156169['user'][_0x3e8b('0x29')])_0x427500[_0x3e8b('0x3a')]();_0x1699af(_0x156169[_0x3e8b('0xf')][_0x3e8b('0x10')]);_0x156169[_0x3e8b('0x13')]();_0x5250ea[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x3b')});});_0x26eb92[_0x3e8b('0x14')](_0x3e8b('0x3c'),function(_0x17a518,_0x550588){_0x28a9d7[_0x3e8b('0x1a')]({'username':_0x17a518[_0x3e8b('0x16')][_0x3e8b('0x1b')][_0x3e8b('0x17')]()[_0x3e8b('0x18')]()},function(_0x807aea,_0x1e52da){if(_0x807aea)return _0x550588[_0x3e8b('0xd')](0x1f4)['send'](_0x807aea);if(!_0x1e52da)return _0x550588[_0x3e8b('0xd')](0x1f4)[_0x3e8b('0x7')](_0x3e8b('0x3d'));else return _0x550588[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x8')](_0x1e52da[_0x3e8b('0x23')]);});});_0x26eb92[_0x3e8b('0x9')](_0x3e8b('0x3e'),_0x4f15ab[_0x3e8b('0xa')](_0x3e8b('0x3f'),{'session':!![]}),function(_0x1cd332,_0x56f403){if(_0x1e7864[_0x3e8b('0xe')]){if(classroomConnection[_0x3e8b('0x12')]){_0x451205(_0x1cd332['user']);}_0x3ab6d7(_0x1cd332[_0x3e8b('0xf')][_0x3e8b('0x10')],_0x1cd332[_0x3e8b('0xb')]);return _0x56f403['status'](0xc8)[_0x3e8b('0x8')]({'serverMessage':'Login\x20Successful','user':_0x1cd332[_0x3e8b('0xb')]});}else{if(_0x2c7026()==0x0){_0x3ab6d7(_0x1cd332['body'][_0x3e8b('0x10')],_0x1cd332[_0x3e8b('0xb')]);if(classroomConnection[_0x3e8b('0x12')]){_0x451205(_0x1cd332[_0x3e8b('0xb')]);}return _0x56f403[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x8')]({'serverMessage':_0x3e8b('0x30'),'user':_0x1cd332['user']});}else{_0x1cd332['logout']();return _0x56f403['status'](0x1f4)[_0x3e8b('0x7')](_0x3e8b('0x40'));}}});_0x26eb92[_0x3e8b('0x14')](_0x3e8b('0x41'),function(_0x11fddb,_0x2c7fba){var _0x37544a=[_0x3e8b('0x2c')];_0x28a9d7['findOne']({'usergroup':_0x3e8b('0x42')},function(_0x5c9f6d,_0x3e472f){if(_0x5c9f6d)return _0x2c7fba[_0x3e8b('0xd')](0xc8)[_0x3e8b('0x7')](_0x37544a);if(!_0x3e472f)_0x37544a[_0x3e8b('0x43')](_0x3e8b('0x42'));return _0x2c7fba['status'](0xc8)['send'](_0x37544a);});});function _0x2c7026(){var _0x59c6ee=0x0;for(var _0x44925b=0x0;_0x44925b<_0x1e7864['connectedClients'][_0x3e8b('0x44')];_0x44925b++){if(_0x1e7864[_0x3e8b('0x45')][_0x44925b][_0x3e8b('0x2c')]){_0x59c6ee++;}}return _0x59c6ee;}function _0x3ab6d7(_0x3a35ba,_0x5a8670){for(var _0x31c423=0x0;_0x31c423<_0x1e7864[_0x3e8b('0x45')][_0x3e8b('0x44')];_0x31c423++){if(_0x1e7864[_0x3e8b('0x45')][_0x31c423]['id']==_0x3a35ba){_0x1e7864[_0x3e8b('0x45')][_0x31c423]['User']=_0x5a8670;break;}}}function _0x1699af(_0x2c1bd6){for(var _0x38ba4e=0x0;_0x38ba4e<_0x1e7864[_0x3e8b('0x45')][_0x3e8b('0x44')];_0x38ba4e++){if(_0x1e7864[_0x3e8b('0x45')][_0x38ba4e]['id']==_0x2c1bd6){_0x1e7864['connectedClients'][_0x38ba4e][_0x3e8b('0x2c')]=undefined;break;}}}function _0x3a3a00(_0x535a05){for(var _0x517161=0x0;_0x517161<_0x1e7864['connectedClients'][_0x3e8b('0x44')];_0x517161++){if(_0x1e7864[_0x3e8b('0x45')][_0x517161][_0x3e8b('0x2c')][_0x3e8b('0x29')]==_0x535a05){_0x1e7864[_0x3e8b('0x45')][_0x517161][_0x3e8b('0x2c')]=undefined;break;}}}function _0xe13bd6(){return function(_0x8fae48,_0x3bd593,_0x2ab902){if(_0x8fae48[_0x3e8b('0x46')]()){return _0x2ab902();}else{_0x3bd593['status'](0x191)['send']('User\x20Unauthenticated');}};}async function _0x451205(_0x588b99){try{await _0xe2430a(_0x588b99);}catch(_0x4bc0b0){winston['info'](_0x4bc0b0);winston['info'](_0x3e8b('0x47')+_0x588b99[_0x3e8b('0x29')]);}};function _0xe2430a(_0x37e850){return new Promise(function(_0x3e9a31,_0x49940e){var _0x4161a9=new SSH();_0x4161a9['on'](_0x3e8b('0x48'),function(){_0x4161a9[_0x3e8b('0x49')](async function(_0x21687b,_0x1f5ea2){if(_0x21687b){winston['info'](_0x3e8b('0x4a')+_0x21687b);_0x4161a9[_0x3e8b('0x4b')]();return _0x49940e(_0x21687b);}try{await _0x5e8cc4(_0x1f5ea2);await _0x16aceb(_0x1f5ea2,_0x37e850[_0x3e8b('0x29')]);await _0x5cafe4(_0x1f5ea2,_0x37e850[_0x3e8b('0x29')]);await _0x2c7061(_0x1f5ea2,_0x37e850[_0x3e8b('0x29')]);let _0x5cce2e=await _0xbe9366(_0x1f5ea2,_0x37e850[_0x3e8b('0x29')]);winston[_0x3e8b('0x4c')](JSON[_0x3e8b('0x4d')](_0x5cce2e));let _0x27063d=await _0x4a6d3f(_0x37e850['filepath']);winston[_0x3e8b('0x4c')](JSON[_0x3e8b('0x4d')](_0x27063d));await _0x5e3028(_0x1f5ea2,_0x37e850,_0x5cce2e,_0x27063d);_0x4161a9[_0x3e8b('0x4b')]();return _0x3e9a31();}catch(_0x45d5fa){winston[_0x3e8b('0x4c')](_0x45d5fa);_0x4161a9[_0x3e8b('0x4b')]();return _0x49940e(_0x45d5fa);}});})[_0x3e8b('0x4e')]({'host':_0x3e8b('0x4f'),'port':0x16,'username':'c3','password':_0x3e8b('0x50')});});};function _0x5e8cc4(_0x41d6ab){return new Promise(function(_0x50d906,_0x3efb0e){_0x41d6ab[_0x3e8b('0x51')](_0x3e8b('0x52'),function(_0x343bf4){if(_0x343bf4){_0x41d6ab[_0x3e8b('0x53')](_0x3e8b('0x52'),function(_0x3c9e52){if(_0x3c9e52){return _0x3efb0e('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x3c9e52);}else{winston['info'](_0x3e8b('0x54'));return _0x50d906();}});}else{winston[_0x3e8b('0x4c')](_0x3e8b('0x55'));return _0x50d906();}});});};function _0x16aceb(_0x5b8429,_0x15c73e){return new Promise(function(_0x23474a,_0x38eb6e){_0x5b8429[_0x3e8b('0x51')](_0x3e8b('0x52')+_0x15c73e,function(_0x25e823){if(_0x25e823){_0x5b8429['mkdir'](_0x3e8b('0x52')+_0x15c73e,function(_0x503e60){if(_0x503e60){return _0x38eb6e(_0x3e8b('0x56')+_0x503e60);}else{winston[_0x3e8b('0x4c')](_0x3e8b('0x57'));return _0x23474a();}});}else{winston[_0x3e8b('0x4c')](_0x3e8b('0x58'));return _0x23474a();}});});};function _0x5cafe4(_0x408b56,_0x2f4931){return new Promise(function(_0x2be0fc,_0xa33d4d){_0x408b56['readdir'](_0x3e8b('0x52')+_0x2f4931+'/Editor/',function(_0x1bef18){if(_0x1bef18){_0x408b56[_0x3e8b('0x53')](_0x3e8b('0x52')+_0x2f4931+'/Editor/',function(_0x1f33c8){if(_0x1f33c8){return _0xa33d4d(_0x3e8b('0x59')+_0x1f33c8);}else{winston[_0x3e8b('0x4c')](_0x3e8b('0x5a'));return _0x2be0fc();}});}else{winston[_0x3e8b('0x4c')](_0x3e8b('0x5b'));return _0x2be0fc();}});});};function _0x2c7061(_0x2636fe,_0x5bf094){return new Promise(function(_0xe855c7,_0x36b949){_0x2636fe[_0x3e8b('0x51')](_0x3e8b('0x52')+_0x5bf094+_0x3e8b('0x5c'),function(_0x4b20ba){if(_0x4b20ba){_0x2636fe['mkdir']('/home/c3/FusionFilesystem/'+_0x5bf094+_0x3e8b('0x5c'),function(_0x1a058d){if(_0x1a058d){return _0x36b949(_0x3e8b('0x5d')+_0x1a058d);}else{winston['info'](_0x3e8b('0x5e'));return _0xe855c7();}});}else{winston[_0x3e8b('0x4c')]('User\x27s\x20blockly\x20directory\x20found');return _0xe855c7();}});});};function _0xbe9366(_0x44d766,_0x376480){return new Promise(async function(_0x4645d3,_0x5a5ade){try{let _0x2234d9={};_0x2234d9[_0x3e8b('0x5f')]=await _0x265335(_0x44d766,_0x376480);_0x2234d9[_0x3e8b('0x60')]=await _0xc316c2(_0x44d766,_0x376480);return _0x4645d3(_0x2234d9);}catch(_0x482573){return _0x5a5ade(_0x482573);}});};function _0x265335(_0x2c3f9d,_0x86bc48){return new Promise(function(_0xa263ab,_0x50908e){_0x2c3f9d['readdir'](_0x3e8b('0x52')+_0x86bc48+_0x3e8b('0x61'),function(_0x4b3c54,_0x27aae5){if(_0x4b3c54)return _0x50908e(_0x4b3c54);let _0x2c0f22=[];for(let _0x249a9a=0x0;_0x249a9a<_0x27aae5['length'];_0x249a9a++){winston['verbose']('Getting\x20data\x20for\x20'+_0x27aae5[_0x249a9a][_0x3e8b('0x62')]);_0x2c0f22[_0x3e8b('0x63')](_0x27aae5[_0x249a9a]);}return _0xa263ab(_0x2c0f22);});});};function _0xc316c2(_0x991389,_0x48845a){return new Promise(function(_0x5e6442,_0x9e64c6){_0x991389['readdir'](_0x3e8b('0x52')+_0x48845a+_0x3e8b('0x5c'),function(_0x4a7b38,_0x2d4003){if(_0x4a7b38)return _0x9e64c6(_0x4a7b38);let _0x2590c7=[];for(let _0x44a0f0=0x0;_0x44a0f0<_0x2d4003[_0x3e8b('0x44')];_0x44a0f0++){winston[_0x3e8b('0x64')]('Getting\x20data\x20for\x20'+_0x2d4003[_0x44a0f0][_0x3e8b('0x62')]);_0x2590c7[_0x3e8b('0x63')](_0x2d4003[_0x44a0f0]);}return _0x5e6442(_0x2590c7);});});};function _0x4a6d3f(_0x28e8c3){return new Promise(async function(_0x5bce85,_0x243770){try{let _0x3ecf12={};_0x3ecf12[_0x3e8b('0x5f')]=await _0x3e7fae(_0x28e8c3);_0x3ecf12[_0x3e8b('0x60')]=await _0x5b0e4b(_0x28e8c3);return _0x5bce85(_0x3ecf12);}catch(_0x53c3f5){return _0x243770(_0x53c3f5);}});};function _0x3e7fae(_0x26ba04){return new Promise(async function(_0x12cecc,_0x5d3499){try{let _0x4a5c0b=[];let _0x54dc12=await fs[_0x3e8b('0x51')](_0x26ba04+_0x3e8b('0x65'));for(let _0x96a339=0x0;_0x96a339<_0x54dc12[_0x3e8b('0x44')];_0x96a339++){winston[_0x3e8b('0x64')]('Getting\x20data\x20for\x20'+_0x54dc12[_0x96a339]);let _0x1d8847=await fs[_0x3e8b('0x66')](_0x26ba04+'/Editor/'+_0x54dc12[_0x96a339]);_0x1d8847[_0x3e8b('0x67')]=_0x54dc12[_0x96a339];_0x4a5c0b['push'](_0x1d8847);}return _0x12cecc(_0x4a5c0b);}catch(_0x565f8a){return _0x5d3499(_0x565f8a);}});};function _0x5b0e4b(_0x527c96){return new Promise(async function(_0x487810,_0x3d16f5){try{let _0x2192a9=[];let _0x2a4acc=await fs[_0x3e8b('0x51')](_0x527c96+_0x3e8b('0x68'));for(let _0x2def22=0x0;_0x2def22<_0x2a4acc[_0x3e8b('0x44')];_0x2def22++){winston[_0x3e8b('0x64')](_0x3e8b('0x69')+_0x2a4acc[_0x2def22]);let _0x25ecbb=await fs[_0x3e8b('0x66')](_0x527c96+_0x3e8b('0x5c')+_0x2a4acc[_0x2def22]);_0x25ecbb[_0x3e8b('0x67')]=_0x2a4acc[_0x2def22];_0x2192a9[_0x3e8b('0x63')](_0x25ecbb);}return _0x487810(_0x2192a9);}catch(_0x1acd19){return _0x3d16f5(_0x1acd19);}});};function _0x5e3028(_0x7c40eb,_0x57b321,_0x5ba243,_0x31cd06){return new Promise(async function(_0x3efaf3,_0x32703c){try{for(let _0x42e9f3=0x0;_0x42e9f3<_0x5ba243['Editor']['length'];_0x42e9f3++){let _0x1cbab9=![];for(let _0x433fb7=0x0;_0x433fb7<_0x31cd06[_0x3e8b('0x5f')][_0x3e8b('0x44')];_0x433fb7++){if(_0x31cd06[_0x3e8b('0x5f')][_0x433fb7][_0x3e8b('0x67')]==_0x5ba243[_0x3e8b('0x5f')][_0x42e9f3][_0x3e8b('0x62')]){winston[_0x3e8b('0x6a')](_0x3e8b('0x6b')+Math[_0x3e8b('0x6c')](_0x31cd06['Editor'][_0x433fb7]['mtimeMs']/0x3e8));winston['debug'](_0x3e8b('0x6d')+_0x5ba243['Editor'][_0x42e9f3][_0x3e8b('0x6e')][_0x3e8b('0x6f')]);if(Math['floor'](_0x31cd06[_0x3e8b('0x5f')][_0x433fb7][_0x3e8b('0x70')]/0x3e8)>_0x5ba243[_0x3e8b('0x5f')][_0x42e9f3][_0x3e8b('0x6e')][_0x3e8b('0x6f')]){_0x1cbab9=!![];winston[_0x3e8b('0x64')]('Local\x20\x22'+_0x31cd06[_0x3e8b('0x5f')][_0x433fb7]['name']+_0x3e8b('0x71'));try{await _0x5262cd(_0x7c40eb,_0x57b321,_0x5ba243[_0x3e8b('0x5f')][_0x42e9f3]['filename'],_0x3e8b('0x5f'));}catch(_0x4c3ce7){return _0x32703c(_0x4c3ce7);}break;}else{_0x1cbab9=!![];winston['verbose'](_0x3e8b('0x72')+_0x31cd06['Editor'][_0x433fb7]['name']+_0x3e8b('0x73'));try{await _0xb59a98(_0x7c40eb,_0x57b321,_0x5ba243['Editor'][_0x42e9f3][_0x3e8b('0x62')],_0x3e8b('0x5f'));}catch(_0x465a9e){winston[_0x3e8b('0x6a')](_0x3e8b('0x74')+_0x465a9e);return _0x32703c(_0x465a9e);}break;}}}if(!_0x1cbab9){winston['verbose'](_0x5ba243['Editor'][_0x42e9f3][_0x3e8b('0x62')]+'\x20not\x20a\x20common\x20file!');try{await _0xb59a98(_0x7c40eb,_0x57b321,_0x5ba243['Editor'][_0x42e9f3][_0x3e8b('0x62')],'Editor');}catch(_0x248ff0){return _0x32703c(_0x248ff0);}}}for(let _0x368a6c=0x0;_0x368a6c<_0x5ba243['Blockly'][_0x3e8b('0x44')];_0x368a6c++){let _0x1cbab9=![];for(let _0x433fb7=0x0;_0x433fb7<_0x31cd06[_0x3e8b('0x60')][_0x3e8b('0x44')];_0x433fb7++){if(_0x31cd06[_0x3e8b('0x60')][_0x433fb7]['name']==_0x5ba243[_0x3e8b('0x60')][_0x368a6c][_0x3e8b('0x62')]){winston[_0x3e8b('0x6a')](_0x3e8b('0x6b')+Math[_0x3e8b('0x6c')](_0x31cd06[_0x3e8b('0x60')][_0x433fb7]['mtimeMs']/0x3e8));winston[_0x3e8b('0x6a')](_0x3e8b('0x6d')+_0x5ba243['Blockly'][_0x368a6c][_0x3e8b('0x6e')][_0x3e8b('0x6f')]);if(Math[_0x3e8b('0x6c')](_0x31cd06['Blockly'][_0x433fb7][_0x3e8b('0x70')]/0x3e8)>_0x5ba243[_0x3e8b('0x60')][_0x368a6c][_0x3e8b('0x6e')]['mtime']){_0x1cbab9=!![];winston[_0x3e8b('0x64')](_0x3e8b('0x75')+_0x31cd06['Blockly'][_0x433fb7]['name']+_0x3e8b('0x71'));try{await _0x5262cd(_0x7c40eb,_0x57b321,_0x5ba243[_0x3e8b('0x60')][_0x368a6c][_0x3e8b('0x62')],_0x3e8b('0x60'));}catch(_0x5ea1f5){return _0x32703c(_0x5ea1f5);}break;}else{_0x1cbab9=!![];winston[_0x3e8b('0x64')]('Remote\x20\x22'+_0x31cd06[_0x3e8b('0x60')][_0x433fb7][_0x3e8b('0x67')]+_0x3e8b('0x73'));try{await _0xb59a98(_0x7c40eb,_0x57b321,_0x5ba243[_0x3e8b('0x60')][_0x368a6c]['filename'],_0x3e8b('0x60'));}catch(_0x5db81e){winston[_0x3e8b('0x6a')](_0x3e8b('0x74')+_0x5db81e);return _0x32703c(_0x5db81e);}break;}}}if(!_0x1cbab9){winston[_0x3e8b('0x64')](_0x5ba243['Blockly'][_0x368a6c][_0x3e8b('0x62')]+'\x20not\x20a\x20common\x20file!');try{await _0xb59a98(_0x7c40eb,_0x57b321,_0x5ba243[_0x3e8b('0x60')][_0x368a6c][_0x3e8b('0x62')],_0x3e8b('0x60'));}catch(_0x14e8a6){return _0x32703c(_0x14e8a6);}}}return _0x3efaf3();}catch(_0x12fbcb){return _0x32703c(_0x12fbcb);}});};function _0x5262cd(_0x3811b4,_0x48139,_0x161bca,_0x11bcf1){return new Promise((_0xb35da8,_0x2719dd)=>{try{let _0x292859=_0x3e8b('0x52')+_0x48139[_0x3e8b('0x29')]+'/'+_0x11bcf1+'/'+_0x161bca;let _0x8cf991=_0x48139[_0x3e8b('0x76')]+'/'+_0x11bcf1+'/'+_0x161bca;winston[_0x3e8b('0x64')]('Remote\x20path:\x20'+_0x292859);winston['verbose'](_0x3e8b('0x77')+_0x8cf991);_0x3811b4[_0x3e8b('0x78')](_0x8cf991,_0x292859,{},function(_0x2055bd){if(_0x2055bd){winston['debug'](_0x3e8b('0x79')+_0x161bca);return _0x2719dd(_0x2055bd);}winston[_0x3e8b('0x4c')]('Uploaded\x20'+_0x161bca);return _0xb35da8();});}catch(_0x5ebf76){return _0x2719dd(_0x5ebf76);}});};function _0xb59a98(_0x30b0cc,_0x5e5802,_0x36116a,_0x174f27){return new Promise((_0x1a8f92,_0x29f14f)=>{try{let _0x8ff110=_0x3e8b('0x52')+_0x5e5802['username']+'/'+_0x174f27+'/'+_0x36116a;let _0x3c3a17=_0x5e5802[_0x3e8b('0x76')]+'/'+_0x174f27+'/'+_0x36116a;winston['verbose'](_0x3e8b('0x7a')+_0x8ff110);winston[_0x3e8b('0x64')]('Local\x20Path:\x20'+_0x3c3a17);_0x30b0cc[_0x3e8b('0x7b')](_0x8ff110,_0x3c3a17,{},function(_0x3b3725){if(_0x3b3725){winston[_0x3e8b('0x6a')](_0x3e8b('0x7c')+_0x36116a);return _0x29f14f(_0x3b3725);}winston[_0x3e8b('0x4c')](_0x3e8b('0x7d')+_0x36116a);return _0x1a8f92();});}catch(_0x3ee5ff){return _0x29f14f(_0x3ee5ff);}});};function _0x420c30(_0x43d160,_0x3714d2,_0xfa824c,_0x3dd098){_0x43d160[_0x3e8b('0x51')](_0x3e8b('0x52')+_0x3714d2[_0x3e8b('0x29')],function(_0x483cee){if(_0x483cee){console[_0x3e8b('0x34')](_0x3e8b('0x7e')+_0x483cee);_0x43d160['mkdir'](_0x3e8b('0x52')+_0x3714d2[_0x3e8b('0x29')],function(_0x2d3c9e){if(_0x2d3c9e){console[_0x3e8b('0x34')]('Error\x20creating\x20user\x20file\x20system:\x20'+_0x2d3c9e);throw _0x2d3c9e;}console[_0x3e8b('0x34')](_0x3e8b('0x7f'));_0x43d160['mkdir'](_0x3e8b('0x52')+_0x3714d2[_0x3e8b('0x29')]+_0x3e8b('0x61'),function(_0x3c96e4){if(_0x3c96e4){console[_0x3e8b('0x34')]('Error\x20creating\x20editor\x20directory:\x20'+_0x3c96e4);throw _0x3c96e4;}console[_0x3e8b('0x34')]('Editor\x20directory\x20created');_0x43d160[_0x3e8b('0x53')](_0x3e8b('0x52')+_0x3714d2[_0x3e8b('0x29')]+_0x3e8b('0x5c'),function(_0x5cac1c){if(_0x5cac1c){console[_0x3e8b('0x34')](_0x3e8b('0x80')+_0x5cac1c);throw _0x5cac1c;}console[_0x3e8b('0x34')](_0x3e8b('0x81'));_0x3dd098(_0x43d160,_0x3714d2,_0xfa824c);});});});}_0x3dd098(_0x43d160,_0x3714d2,_0xfa824c);});};function _0x3f9854(_0x141baf,_0x3edc60,_0x3f1e26){_0x141baf[_0x3e8b('0x51')](_0x3e8b('0x52')+_0x3edc60[_0x3e8b('0x29')]+_0x3e8b('0x61'),function(_0x19b3aa,_0x9f5db){if(_0x19b3aa){console[_0x3e8b('0x34')]('Error\x20reading\x20classroom\x20editor\x20files:\x20'+_0x19b3aa);throw _0x19b3aa;}_0x402545(_0x3edc60,_0x3e8b('0x5f'),_0x9f5db,_0x3f1e26);});_0x141baf[_0x3e8b('0x51')]('/home/c3/FusionFilesystem/'+_0x3edc60['username']+_0x3e8b('0x5c'),function(_0x5c000b,_0x4f184d){if(_0x5c000b){console[_0x3e8b('0x34')](_0x3e8b('0x82')+_0x5c000b);throw _0x5c000b;}_0x402545(_0x3edc60,_0x3e8b('0x60'),_0x4f184d,_0x3f1e26);});};function _0x402545(_0x4e2402,_0x4dbe42,_0x3fb90b,_0x87fca9){console[_0x3e8b('0x34')](_0x3e8b('0x83'));if(_0x4dbe42==_0x3e8b('0x60')&&_0x3fb90b[_0x3e8b('0x44')]==0x0){_0x87fca9[_0x3e8b('0x4b')]();}for(var _0x338dee=0x0;_0x338dee<_0x3fb90b[_0x3e8b('0x44')];_0x338dee++){let _0x52be72=_0x3e8b('0x52')+_0x4e2402['username']+'/'+_0x4dbe42+'/'+_0x3fb90b[_0x338dee][_0x3e8b('0x62')];let _0x12e9d0=_0x3e8b('0x84')+_0x4e2402[_0x3e8b('0x29')]+'/'+_0x4dbe42+'/';console[_0x3e8b('0x34')]('Moving:\x20'+_0x52be72+_0x3e8b('0x85')+_0x12e9d0);SCP[_0x3e8b('0x86')](_0x3e8b('0x87')+_0x52be72,_0x12e9d0,function(_0xb578a3){if(_0xb578a3){console[_0x3e8b('0x34')](_0x3e8b('0x88')+_0x52be72+_0x3e8b('0x89')+_0xb578a3);}if(_0x4dbe42==_0x3e8b('0x60')&&(_0x338dee=_0x3fb90b[_0x3e8b('0x44')]-0x1)){_0x87fca9[_0x3e8b('0x4b')]();}});}};};