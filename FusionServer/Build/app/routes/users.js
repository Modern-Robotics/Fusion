var _0x42cb=['toLowerCase','trim','put','params','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','SocketVariables','fusion_program_running','User','username','KillProgram','remove','removeFileSystem','Successfully\x20deleted','local-login','Login\x20Successful','User:\x20','\x20connected\x20to\x20classroom?\x20','Another\x20user\x20is\x20already\x20logged\x20in.','/api/users/cloudLogin','in\x20cloud\x20login','exec','login','create','log','Error\x20with\x20request\x20promise.\x20','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','stringify','filepath','end','connect','c3edu.online','root','/home/c3/FusionFilesystem/','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','readdir','mkdir','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','User\x27s\x20blockly\x20directory\x20created','Editor','Blockly','Getting\x20data\x20for\x20','filename','push','verbose','/Blockly','stat','name','debug','Local\x20mtime:\x20','floor','attrs','mtimeMs','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20mtime:\x20','mtime','\x22\x20newer,\x20updating\x20local\x20version','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Error\x20uploading\x20file:\x20','Uploaded\x20','fastGet','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','app/filesystem/','Moving:\x20','\x20to\x20','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','ssh2','path','./../../server/classroom/connection/','winston','exports','get','/api/users','Guest','send','json','post','authenticate','local-signup','user','Error','status','MultiUserAccess','connected','body','socketId','User\x20created!','logout','User\x20created\x20but\x20another\x20user\x20is\x20already\x20logged\x20in.','/api/users/:User_Id','findOne','User_Id'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};_0xb4bdb3(++_0x2bd6f7);}(_0x42cb,0x74));var _0x5ae7=function(_0x5c9c02,_0xeb0099){_0x5c9c02=_0x5c9c02-0x0;var _0x51dc53=_0x42cb[_0x5c9c02];return _0x51dc53;};var SCP=require('scp2');var SSH=require(_0x5ae7('0x0'))['Client'];var fs=require('fs-extra');var path=require(_0x5ae7('0x1'));var rp=require('request-promise');const classroomConnection=require(_0x5ae7('0x2'));const winston=require(_0x5ae7('0x3'));module[_0x5ae7('0x4')]=function(_0x224cbc,_0x3e96dd,_0x39e610,_0x1af955,_0x13756d,_0x17e361){_0x224cbc[_0x5ae7('0x5')](_0x5ae7('0x6'),_0x174322(),function(_0x2982f5,_0x3c77e6){_0x3e96dd['find']({'usergroup':{'$ne':_0x5ae7('0x7')}},function(_0x34436b,_0x1e49c9){if(_0x34436b)_0x3c77e6[_0x5ae7('0x8')](_0x34436b);_0x3c77e6[_0x5ae7('0x9')](_0x1e49c9);});});_0x224cbc[_0x5ae7('0xa')](_0x5ae7('0x6'),_0x39e610[_0x5ae7('0xb')](_0x5ae7('0xc'),{'session':!![]}),function(_0x4cc538,_0x15885d){if(_0x4cc538[_0x5ae7('0xd')][_0x5ae7('0xe')]){return _0x15885d[_0x5ae7('0xf')](0x1f4)['send'](_0x4cc538[_0x5ae7('0xd')][_0x5ae7('0xe')]);}else{if(_0x17e361[_0x5ae7('0x10')]){if(classroomConnection[_0x5ae7('0x11')]){_0x5952e3(_0x4cc538[_0x5ae7('0xd')]);}_0xb8b77e(_0x4cc538[_0x5ae7('0x12')]['socketId'],_0x4cc538[_0x5ae7('0xd')]);return _0x15885d[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':'User\x20created!','user':_0x4cc538['user']});}else{if(_0x1fabfe()==0x0){_0xb8b77e(_0x4cc538[_0x5ae7('0x12')][_0x5ae7('0x13')],_0x4cc538[_0x5ae7('0xd')]);if(classroomConnection['connected']){_0x5952e3(_0x4cc538[_0x5ae7('0xd')]);}return _0x15885d[_0x5ae7('0xf')](0xc8)['json']({'serverMessage':_0x5ae7('0x14'),'user':_0x4cc538['user']});}else{_0x4cc538[_0x5ae7('0x15')]();return _0x15885d['status'](0x1f4)[_0x5ae7('0x8')](_0x5ae7('0x16'));}}}});_0x224cbc[_0x5ae7('0x5')](_0x5ae7('0x17'),_0x174322(),function(_0x223d06,_0x699e62){_0x3e96dd[_0x5ae7('0x18')]({'username':_0x223d06['params'][_0x5ae7('0x19')][_0x5ae7('0x1a')]()[_0x5ae7('0x1b')]()},function(_0x165d3f,_0x208ac9){if(_0x165d3f)_0x699e62[_0x5ae7('0x8')](_0x165d3f);_0x699e62['json'](_0x208ac9);});});_0x224cbc[_0x5ae7('0x1c')]('/api/users/:User_Id',_0x174322(),function(_0x51bc0b,_0x3b0e4d){_0x3e96dd['findOne']({'username':_0x51bc0b[_0x5ae7('0x1d')][_0x5ae7('0x19')][_0x5ae7('0x1a')]()[_0x5ae7('0x1b')]()},function(_0x1b3df0,_0x418f3e){if(_0x1b3df0)_0x3b0e4d['send'](_0x1b3df0);if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x1e')]){_0x418f3e[_0x5ae7('0x1e')]=_0x418f3e[_0x5ae7('0x1f')](_0x51bc0b[_0x5ae7('0x12')]['password']);}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x20')]){_0x418f3e[_0x5ae7('0x20')]=_0x51bc0b[_0x5ae7('0x12')]['firstname'];}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x21')]){_0x418f3e[_0x5ae7('0x21')]=_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x21')];}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x22')]){_0x418f3e[_0x5ae7('0x22')]=_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x22')];}if(_0x51bc0b['body'][_0x5ae7('0x23')]){_0x418f3e[_0x5ae7('0x23')]=_0x51bc0b['body'][_0x5ae7('0x23')];}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x24')]){_0x418f3e['defaultprogramminglanguage']=_0x51bc0b['body']['defaultprogramminglanguage'];}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x25')]){_0x418f3e[_0x5ae7('0x25')]=_0x51bc0b['body'][_0x5ae7('0x25')];}if(_0x51bc0b[_0x5ae7('0x12')]['securityanswer']){_0x418f3e[_0x5ae7('0x26')]=_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x26')];}if(_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x27')]){_0x418f3e[_0x5ae7('0x27')]=_0x51bc0b[_0x5ae7('0x12')][_0x5ae7('0x27')];}_0x418f3e[_0x5ae7('0x28')](function(_0x1b3df0){if(_0x1b3df0)_0x3b0e4d[_0x5ae7('0xf')](0x1f4)['send'](_0x1b3df0);_0x3b0e4d[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x29')});});});});_0x224cbc['delete']('/api/users/:User_Id',_0x174322(),function(_0x3e541a,_0x4caf60){if(_0x3e541a['params'][_0x5ae7('0x19')]['toLowerCase']()[_0x5ae7('0x1b')]()==_0x3e541a[_0x5ae7('0xd')]['username']){if(_0x17e361[_0x5ae7('0x2a')][_0x5ae7('0x2b')])if(_0x17e361[_0x5ae7('0x2a')][_0x5ae7('0x2b')][_0x5ae7('0x2c')]==_0x3e541a[_0x5ae7('0xd')][_0x5ae7('0x2d')])_0x1af955[_0x5ae7('0x2e')]();_0x35710c(_0x3e541a[_0x5ae7('0xd')][_0x5ae7('0x2d')]);_0x3e541a['logout']();}_0x3e96dd[_0x5ae7('0x2f')]({'username':_0x3e541a[_0x5ae7('0x1d')][_0x5ae7('0x19')]['toLowerCase']()[_0x5ae7('0x1b')]()},function(_0x3ba35b,_0x2104c9){if(_0x3ba35b)return _0x4caf60[_0x5ae7('0x8')](_0x3ba35b);_0x3e96dd[_0x5ae7('0x30')](_0x3e541a[_0x5ae7('0x1d')][_0x5ae7('0x19')][_0x5ae7('0x1a')]()['trim']());return _0x4caf60[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x31')});});});_0x224cbc['post']('/api/users/login',_0x39e610['authenticate'](_0x5ae7('0x32'),{'session':!![]}),function(_0x4d5772,_0x21f47f){if(_0x17e361['MultiUserAccess']){if(classroomConnection['connected']){_0x5952e3(_0x4d5772['user']);}_0xb8b77e(_0x4d5772[_0x5ae7('0x12')]['socketId'],_0x4d5772[_0x5ae7('0xd')]);return _0x21f47f[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x33'),'user':_0x4d5772['user']});}else{if(_0x1fabfe()==0x0){_0xb8b77e(_0x4d5772[_0x5ae7('0x12')][_0x5ae7('0x13')],_0x4d5772[_0x5ae7('0xd')]);console['log'](_0x5ae7('0x34')+_0x4d5772[_0x5ae7('0xd')]+_0x5ae7('0x35')+classroomConnection[_0x5ae7('0x11')]);if(classroomConnection[_0x5ae7('0x11')]){_0x5952e3(_0x4d5772['user']);}return _0x21f47f[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x33'),'user':_0x4d5772[_0x5ae7('0xd')]});}else{_0x4d5772['logout']();return _0x21f47f[_0x5ae7('0xf')](0x1f4)[_0x5ae7('0x8')](_0x5ae7('0x36'));}}});_0x224cbc[_0x5ae7('0xa')](_0x5ae7('0x37'),async function(_0x2b6d0d,_0x4b1f3b){console['log'](_0x5ae7('0x38'));var _0x364a19={'method':'POST','uri':'https://172.16.0.1/backend/auth/ldap','body':{'username':_0x2b6d0d[_0x5ae7('0x12')][_0x5ae7('0x2d')],'password':_0x2b6d0d[_0x5ae7('0x12')]['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x5ef3bf=await rp(_0x364a19);let _0x12b4de=await _0x3e96dd[_0x5ae7('0x18')]({'username':_0x2b6d0d['body']['username']})[_0x5ae7('0x39')]();if(_0x12b4de){return _0x4b1f3b[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x8')](_0x5ae7('0x3a'));}else{return _0x4b1f3b[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x8')](_0x5ae7('0x3b'));}}catch(_0xad086){console[_0x5ae7('0x3c')](_0x5ae7('0x3d')+_0xad086);return _0x4b1f3b[_0x5ae7('0xf')](0x1f4)['send'](_0xad086);}});_0x224cbc[_0x5ae7('0xa')]('/api/users/logout',_0x174322(),function(_0x3ce514,_0x4ca878){if(_0x17e361[_0x5ae7('0x2a')]['fusion_program_running'])if(_0x17e361['SocketVariables']['fusion_program_running'][_0x5ae7('0x2c')]==_0x3ce514[_0x5ae7('0xd')]['username'])_0x1af955['KillProgram']();_0x2a1006(_0x3ce514[_0x5ae7('0x12')][_0x5ae7('0x13')]);_0x3ce514['logout']();_0x4ca878[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x3e')});});_0x224cbc['get'](_0x5ae7('0x3f'),function(_0x509ec7,_0x4c8960){_0x3e96dd[_0x5ae7('0x18')]({'username':_0x509ec7[_0x5ae7('0x1d')]['User_Id'][_0x5ae7('0x1a')]()[_0x5ae7('0x1b')]()},function(_0x3a6feb,_0x45686c){if(_0x3a6feb)return _0x4c8960[_0x5ae7('0xf')](0x1f4)[_0x5ae7('0x8')](_0x3a6feb);if(!_0x45686c)return _0x4c8960[_0x5ae7('0xf')](0x1f4)['send'](_0x5ae7('0x40'));else return _0x4c8960[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')](_0x45686c['securityquestion']);});});_0x224cbc[_0x5ae7('0xa')](_0x5ae7('0x41'),_0x39e610['authenticate']('local-recovery',{'session':!![]}),function(_0x4d29ad,_0x113423){if(_0x17e361['MultiUserAccess']){if(classroomConnection[_0x5ae7('0x11')]){_0x5952e3(_0x4d29ad[_0x5ae7('0xd')]);}_0xb8b77e(_0x4d29ad[_0x5ae7('0x12')][_0x5ae7('0x13')],_0x4d29ad[_0x5ae7('0xd')]);return _0x113423[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x33'),'user':_0x4d29ad[_0x5ae7('0xd')]});}else{if(_0x1fabfe()==0x0){_0xb8b77e(_0x4d29ad[_0x5ae7('0x12')][_0x5ae7('0x13')],_0x4d29ad[_0x5ae7('0xd')]);if(classroomConnection['connected']){_0x5952e3(_0x4d29ad[_0x5ae7('0xd')]);}return _0x113423[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x9')]({'serverMessage':_0x5ae7('0x33'),'user':_0x4d29ad['user']});}else{_0x4d29ad[_0x5ae7('0x15')]();return _0x113423[_0x5ae7('0xf')](0x1f4)[_0x5ae7('0x8')](_0x5ae7('0x36'));}}});_0x224cbc[_0x5ae7('0x5')](_0x5ae7('0x42'),function(_0x57d8e2,_0x59ee58){var _0x43610a=[_0x5ae7('0x2c')];_0x3e96dd['findOne']({'usergroup':_0x5ae7('0x43')},function(_0x9ccf55,_0x1a6d43){if(_0x9ccf55)return _0x59ee58[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x8')](_0x43610a);if(!_0x1a6d43)_0x43610a[_0x5ae7('0x44')](_0x5ae7('0x43'));return _0x59ee58[_0x5ae7('0xf')](0xc8)[_0x5ae7('0x8')](_0x43610a);});});function _0x1fabfe(){var _0x15a0a6=0x0;for(var _0x546cf9=0x0;_0x546cf9<_0x17e361[_0x5ae7('0x45')][_0x5ae7('0x46')];_0x546cf9++){if(_0x17e361[_0x5ae7('0x45')][_0x546cf9][_0x5ae7('0x2c')]){_0x15a0a6++;}}return _0x15a0a6;}function _0xb8b77e(_0x5b3f7d,_0xfbaaf8){for(var _0x5a0809=0x0;_0x5a0809<_0x17e361[_0x5ae7('0x45')]['length'];_0x5a0809++){if(_0x17e361[_0x5ae7('0x45')][_0x5a0809]['id']==_0x5b3f7d){_0x17e361[_0x5ae7('0x45')][_0x5a0809][_0x5ae7('0x2c')]=_0xfbaaf8;break;}}}function _0x2a1006(_0x2c0de1){for(var _0x2b7de9=0x0;_0x2b7de9<_0x17e361[_0x5ae7('0x45')][_0x5ae7('0x46')];_0x2b7de9++){if(_0x17e361['connectedClients'][_0x2b7de9]['id']==_0x2c0de1){_0x17e361[_0x5ae7('0x45')][_0x2b7de9]['User']=undefined;break;}}}function _0x35710c(_0x188980){for(var _0xec51e6=0x0;_0xec51e6<_0x17e361['connectedClients'][_0x5ae7('0x46')];_0xec51e6++){if(_0x17e361[_0x5ae7('0x45')][_0xec51e6]['User'][_0x5ae7('0x2d')]==_0x188980){_0x17e361[_0x5ae7('0x45')][_0xec51e6]['User']=undefined;break;}}}function _0x174322(){return function(_0x4013dc,_0x20cc5f,_0x332fb6){if(_0x4013dc[_0x5ae7('0x47')]()){return _0x332fb6();}else{_0x20cc5f[_0x5ae7('0xf')](0x191)['send'](_0x5ae7('0x48'));}};}async function _0x5952e3(_0x4bcdf8){try{await _0x3dbf4b(_0x4bcdf8);}catch(_0x39d1b4){winston[_0x5ae7('0x49')](_0x39d1b4);winston[_0x5ae7('0x49')](_0x5ae7('0x4a')+_0x4bcdf8[_0x5ae7('0x2d')]);}};function _0x3dbf4b(_0x1f1976){return new Promise(function(_0x56eae3,_0x42c3be){var _0x13643c=new SSH();_0x13643c['on'](_0x5ae7('0x4b'),function(){_0x13643c[_0x5ae7('0x4c')](async function(_0x1d3dbf,_0x10496d){if(_0x1d3dbf){winston[_0x5ae7('0x49')]('Error\x20communicating\x20with\x20c3:\x20'+_0x1d3dbf);_0x13643c['end']();return _0x42c3be(_0x1d3dbf);}try{await _0x1d970f(_0x10496d);await _0x235ad8(_0x10496d,_0x1f1976[_0x5ae7('0x2d')]);await _0xfc4f0d(_0x10496d,_0x1f1976[_0x5ae7('0x2d')]);await _0x11fa87(_0x10496d,_0x1f1976[_0x5ae7('0x2d')]);let _0x588d96=await _0x2808b3(_0x10496d,_0x1f1976[_0x5ae7('0x2d')]);winston[_0x5ae7('0x49')](JSON[_0x5ae7('0x4d')](_0x588d96));let _0x103103=await _0x1d0abd(_0x1f1976[_0x5ae7('0x4e')]);winston[_0x5ae7('0x49')](JSON[_0x5ae7('0x4d')](_0x103103));await _0x20a28b(_0x10496d,_0x1f1976,_0x588d96,_0x103103);_0x13643c[_0x5ae7('0x4f')]();return _0x56eae3();}catch(_0xfd10ce){winston['info'](_0xfd10ce);_0x13643c[_0x5ae7('0x4f')]();return _0x42c3be(_0xfd10ce);}});})[_0x5ae7('0x50')]({'host':_0x5ae7('0x51'),'port':0x16,'username':'c3','password':_0x5ae7('0x52')});});};function _0x1d970f(_0x43da22){return new Promise(function(_0x12f3ca,_0x24deee){_0x43da22['readdir'](_0x5ae7('0x53'),function(_0x341e1f){if(_0x341e1f){_0x43da22['mkdir']('/home/c3/FusionFilesystem/',function(_0x45da98){if(_0x45da98){return _0x24deee(_0x5ae7('0x54')+_0x45da98);}else{winston[_0x5ae7('0x49')](_0x5ae7('0x55'));return _0x12f3ca();}});}else{winston[_0x5ae7('0x49')]('Classroom\x20file\x20system\x20found');return _0x12f3ca();}});});};function _0x235ad8(_0x431d19,_0x422036){return new Promise(function(_0x5d9a31,_0x53917c){_0x431d19[_0x5ae7('0x56')](_0x5ae7('0x53')+_0x422036,function(_0x36fe39){if(_0x36fe39){_0x431d19[_0x5ae7('0x57')]('/home/c3/FusionFilesystem/'+_0x422036,function(_0x34c411){if(_0x34c411){return _0x53917c(_0x5ae7('0x58')+_0x34c411);}else{winston[_0x5ae7('0x49')](_0x5ae7('0x59'));return _0x5d9a31();}});}else{winston[_0x5ae7('0x49')](_0x5ae7('0x5a'));return _0x5d9a31();}});});};function _0xfc4f0d(_0x5639ee,_0x3603d3){return new Promise(function(_0x1de494,_0x536580){_0x5639ee['readdir'](_0x5ae7('0x53')+_0x3603d3+_0x5ae7('0x5b'),function(_0x20f122){if(_0x20f122){_0x5639ee[_0x5ae7('0x57')](_0x5ae7('0x53')+_0x3603d3+_0x5ae7('0x5b'),function(_0x129865){if(_0x129865){return _0x536580(_0x5ae7('0x5c')+_0x129865);}else{winston['info'](_0x5ae7('0x5d'));return _0x1de494();}});}else{winston[_0x5ae7('0x49')](_0x5ae7('0x5e'));return _0x1de494();}});});};function _0x11fa87(_0x579fd4,_0x14116a){return new Promise(function(_0x45d0a8,_0x1676cc){_0x579fd4[_0x5ae7('0x56')]('/home/c3/FusionFilesystem/'+_0x14116a+_0x5ae7('0x5f'),function(_0x1fe03c){if(_0x1fe03c){_0x579fd4[_0x5ae7('0x57')]('/home/c3/FusionFilesystem/'+_0x14116a+_0x5ae7('0x5f'),function(_0x5f4b9e){if(_0x5f4b9e){return _0x1676cc('Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20'+_0x5f4b9e);}else{winston[_0x5ae7('0x49')](_0x5ae7('0x60'));return _0x45d0a8();}});}else{winston[_0x5ae7('0x49')]('User\x27s\x20blockly\x20directory\x20found');return _0x45d0a8();}});});};function _0x2808b3(_0x40485e,_0x360c99){return new Promise(async function(_0x68c64,_0x1dde14){try{let _0x17fd9f={};_0x17fd9f[_0x5ae7('0x61')]=await _0x360ca2(_0x40485e,_0x360c99);_0x17fd9f[_0x5ae7('0x62')]=await _0x5dd427(_0x40485e,_0x360c99);return _0x68c64(_0x17fd9f);}catch(_0x3637f4){return _0x1dde14(_0x3637f4);}});};function _0x360ca2(_0x2316de,_0x443fa5){return new Promise(function(_0x511c12,_0x25fced){_0x2316de[_0x5ae7('0x56')](_0x5ae7('0x53')+_0x443fa5+_0x5ae7('0x5b'),function(_0x2be006,_0x518558){if(_0x2be006)return _0x25fced(_0x2be006);let _0x4b0a70=[];for(let _0x21c5fc=0x0;_0x21c5fc<_0x518558[_0x5ae7('0x46')];_0x21c5fc++){winston['verbose'](_0x5ae7('0x63')+_0x518558[_0x21c5fc][_0x5ae7('0x64')]);_0x4b0a70['push'](_0x518558[_0x21c5fc]);}return _0x511c12(_0x4b0a70);});});};function _0x5dd427(_0x44795a,_0x3a9c71){return new Promise(function(_0x2eb4e1,_0x1eb472){_0x44795a[_0x5ae7('0x56')](_0x5ae7('0x53')+_0x3a9c71+_0x5ae7('0x5f'),function(_0x1882e2,_0x8c27e0){if(_0x1882e2)return _0x1eb472(_0x1882e2);let _0x3ec129=[];for(let _0x56bc6f=0x0;_0x56bc6f<_0x8c27e0[_0x5ae7('0x46')];_0x56bc6f++){winston['verbose']('Getting\x20data\x20for\x20'+_0x8c27e0[_0x56bc6f]['filename']);_0x3ec129[_0x5ae7('0x65')](_0x8c27e0[_0x56bc6f]);}return _0x2eb4e1(_0x3ec129);});});};function _0x1d0abd(_0x3b0295){return new Promise(async function(_0x2f7e8a,_0x2472d2){try{let _0x3949c0={};_0x3949c0[_0x5ae7('0x61')]=await _0x298495(_0x3b0295);_0x3949c0['Blockly']=await _0x3585fb(_0x3b0295);return _0x2f7e8a(_0x3949c0);}catch(_0x266b5a){return _0x2472d2(_0x266b5a);}});};function _0x298495(_0x2582e9){return new Promise(async function(_0x23554a,_0xdc8844){try{let _0x33f2f8=[];let _0x3c5c6e=await fs[_0x5ae7('0x56')](_0x2582e9+'/Editor');for(let _0x1f19ec=0x0;_0x1f19ec<_0x3c5c6e['length'];_0x1f19ec++){winston[_0x5ae7('0x66')](_0x5ae7('0x63')+_0x3c5c6e[_0x1f19ec]);let _0x27905e=await fs['stat'](_0x2582e9+_0x5ae7('0x5b')+_0x3c5c6e[_0x1f19ec]);_0x27905e['name']=_0x3c5c6e[_0x1f19ec];_0x33f2f8[_0x5ae7('0x65')](_0x27905e);}return _0x23554a(_0x33f2f8);}catch(_0x34874f){return _0xdc8844(_0x34874f);}});};function _0x3585fb(_0x58fd55){return new Promise(async function(_0x893782,_0x5effc8){try{let _0x58e69e=[];let _0x7ba7d=await fs[_0x5ae7('0x56')](_0x58fd55+_0x5ae7('0x67'));for(let _0x5ec1e6=0x0;_0x5ec1e6<_0x7ba7d['length'];_0x5ec1e6++){winston['verbose'](_0x5ae7('0x63')+_0x7ba7d[_0x5ec1e6]);let _0x4c805d=await fs[_0x5ae7('0x68')](_0x58fd55+_0x5ae7('0x5f')+_0x7ba7d[_0x5ec1e6]);_0x4c805d['name']=_0x7ba7d[_0x5ec1e6];_0x58e69e['push'](_0x4c805d);}return _0x893782(_0x58e69e);}catch(_0x73ab98){return _0x5effc8(_0x73ab98);}});};function _0x20a28b(_0x332b1f,_0x109fe7,_0x3310b1,_0x1e0825){return new Promise(async function(_0x8f8450,_0x2e4c81){try{for(let _0x34c880=0x0;_0x34c880<_0x3310b1[_0x5ae7('0x61')][_0x5ae7('0x46')];_0x34c880++){let _0x312657=![];for(let _0x3db9b7=0x0;_0x3db9b7<_0x1e0825[_0x5ae7('0x61')][_0x5ae7('0x46')];_0x3db9b7++){if(_0x1e0825['Editor'][_0x3db9b7][_0x5ae7('0x69')]==_0x3310b1[_0x5ae7('0x61')][_0x34c880][_0x5ae7('0x64')]){winston[_0x5ae7('0x6a')](_0x5ae7('0x6b')+Math[_0x5ae7('0x6c')](_0x1e0825['Editor'][_0x3db9b7]['mtimeMs']/0x3e8));winston[_0x5ae7('0x6a')]('Remote\x20mtime:\x20'+_0x3310b1[_0x5ae7('0x61')][_0x34c880][_0x5ae7('0x6d')]['mtime']);if(Math[_0x5ae7('0x6c')](_0x1e0825[_0x5ae7('0x61')][_0x3db9b7][_0x5ae7('0x6e')]/0x3e8)>_0x3310b1['Editor'][_0x34c880][_0x5ae7('0x6d')]['mtime']){_0x312657=!![];winston['verbose'](_0x5ae7('0x6f')+_0x1e0825[_0x5ae7('0x61')][_0x3db9b7][_0x5ae7('0x69')]+_0x5ae7('0x70'));try{await _0x435d0a(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x61')][_0x34c880][_0x5ae7('0x64')],_0x5ae7('0x61'));}catch(_0x59c3a1){return _0x2e4c81(_0x59c3a1);}break;}else{_0x312657=!![];winston['verbose'](_0x5ae7('0x71')+_0x1e0825['Editor'][_0x3db9b7][_0x5ae7('0x69')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x1cdc05(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x61')][_0x34c880][_0x5ae7('0x64')],_0x5ae7('0x61'));}catch(_0x547df0){winston[_0x5ae7('0x6a')](_0x5ae7('0x72')+_0x547df0);return _0x2e4c81(_0x547df0);}break;}}}if(!_0x312657){winston['verbose'](_0x3310b1['Editor'][_0x34c880][_0x5ae7('0x64')]+_0x5ae7('0x73'));try{await _0x1cdc05(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x61')][_0x34c880][_0x5ae7('0x64')],'Editor');}catch(_0x57a755){return _0x2e4c81(_0x57a755);}}}for(let _0x24af58=0x0;_0x24af58<_0x3310b1[_0x5ae7('0x62')][_0x5ae7('0x46')];_0x24af58++){let _0x312657=![];for(let _0x3db9b7=0x0;_0x3db9b7<_0x1e0825[_0x5ae7('0x62')]['length'];_0x3db9b7++){if(_0x1e0825[_0x5ae7('0x62')][_0x3db9b7][_0x5ae7('0x69')]==_0x3310b1['Blockly'][_0x24af58][_0x5ae7('0x64')]){winston[_0x5ae7('0x6a')](_0x5ae7('0x6b')+Math[_0x5ae7('0x6c')](_0x1e0825[_0x5ae7('0x62')][_0x3db9b7][_0x5ae7('0x6e')]/0x3e8));winston[_0x5ae7('0x6a')](_0x5ae7('0x74')+_0x3310b1['Blockly'][_0x24af58][_0x5ae7('0x6d')][_0x5ae7('0x75')]);if(Math[_0x5ae7('0x6c')](_0x1e0825[_0x5ae7('0x62')][_0x3db9b7]['mtimeMs']/0x3e8)>_0x3310b1[_0x5ae7('0x62')][_0x24af58]['attrs'][_0x5ae7('0x75')]){_0x312657=!![];winston[_0x5ae7('0x66')](_0x5ae7('0x6f')+_0x1e0825[_0x5ae7('0x62')][_0x3db9b7]['name']+_0x5ae7('0x70'));try{await _0x435d0a(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x62')][_0x24af58][_0x5ae7('0x64')],_0x5ae7('0x62'));}catch(_0x913e29){return _0x2e4c81(_0x913e29);}break;}else{_0x312657=!![];winston['verbose']('Remote\x20\x22'+_0x1e0825['Blockly'][_0x3db9b7][_0x5ae7('0x69')]+_0x5ae7('0x76'));try{await _0x1cdc05(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x62')][_0x24af58][_0x5ae7('0x64')],_0x5ae7('0x62'));}catch(_0x3c30f4){winston['debug']('Error:\x20'+_0x3c30f4);return _0x2e4c81(_0x3c30f4);}break;}}}if(!_0x312657){winston['verbose'](_0x3310b1[_0x5ae7('0x62')][_0x24af58][_0x5ae7('0x64')]+_0x5ae7('0x73'));try{await _0x1cdc05(_0x332b1f,_0x109fe7,_0x3310b1[_0x5ae7('0x62')][_0x24af58][_0x5ae7('0x64')],'Blockly');}catch(_0x4aa027){return _0x2e4c81(_0x4aa027);}}}return _0x8f8450();}catch(_0x196444){return _0x2e4c81(_0x196444);}});};function _0x435d0a(_0x4fa802,_0x5d68cf,_0x4558a2,_0x9937d1){return new Promise((_0x58de51,_0xf0e77e)=>{try{let _0x4e86f3=_0x5ae7('0x53')+_0x5d68cf[_0x5ae7('0x2d')]+'/'+_0x9937d1+'/'+_0x4558a2;let _0xd01a7d=_0x5d68cf['filepath']+'/'+_0x9937d1+'/'+_0x4558a2;winston[_0x5ae7('0x66')](_0x5ae7('0x77')+_0x4e86f3);winston[_0x5ae7('0x66')](_0x5ae7('0x78')+_0xd01a7d);_0x4fa802[_0x5ae7('0x79')](_0xd01a7d,_0x4e86f3,{},function(_0xedb49c){if(_0xedb49c){winston[_0x5ae7('0x6a')](_0x5ae7('0x7a')+_0x4558a2);return _0xf0e77e(_0xedb49c);}winston[_0x5ae7('0x49')](_0x5ae7('0x7b')+_0x4558a2);return _0x58de51();});}catch(_0x465fb7){return _0xf0e77e(_0x465fb7);}});};function _0x1cdc05(_0x27610e,_0xc507aa,_0x593f90,_0x524354){return new Promise((_0x324563,_0x5c850b)=>{try{let _0x4d9bcf=_0x5ae7('0x53')+_0xc507aa[_0x5ae7('0x2d')]+'/'+_0x524354+'/'+_0x593f90;let _0x74d2a1=_0xc507aa['filepath']+'/'+_0x524354+'/'+_0x593f90;winston['verbose'](_0x5ae7('0x77')+_0x4d9bcf);winston['verbose'](_0x5ae7('0x78')+_0x74d2a1);_0x27610e[_0x5ae7('0x7c')](_0x4d9bcf,_0x74d2a1,{},function(_0x212625){if(_0x212625){winston[_0x5ae7('0x6a')]('Error\x20downloading\x20file:\x20'+_0x593f90);return _0x5c850b(_0x212625);}winston[_0x5ae7('0x49')](_0x5ae7('0x7d')+_0x593f90);return _0x324563();});}catch(_0x5cbb05){return _0x5c850b(_0x5cbb05);}});};function _0x37a31d(_0x1b3d02,_0x354ab3,_0x2c7fd6,_0x674f2c){_0x1b3d02[_0x5ae7('0x56')]('/home/c3/FusionFilesystem/'+_0x354ab3[_0x5ae7('0x2d')],function(_0x186434){if(_0x186434){console[_0x5ae7('0x3c')](_0x5ae7('0x7e')+_0x186434);_0x1b3d02[_0x5ae7('0x57')](_0x5ae7('0x53')+_0x354ab3[_0x5ae7('0x2d')],function(_0x3e7ccf){if(_0x3e7ccf){console[_0x5ae7('0x3c')](_0x5ae7('0x7f')+_0x3e7ccf);throw _0x3e7ccf;}console['log'](_0x5ae7('0x80'));_0x1b3d02[_0x5ae7('0x57')](_0x5ae7('0x53')+_0x354ab3[_0x5ae7('0x2d')]+'/Editor/',function(_0x46c488){if(_0x46c488){console[_0x5ae7('0x3c')](_0x5ae7('0x81')+_0x46c488);throw _0x46c488;}console[_0x5ae7('0x3c')](_0x5ae7('0x82'));_0x1b3d02[_0x5ae7('0x57')](_0x5ae7('0x53')+_0x354ab3[_0x5ae7('0x2d')]+'/Blockly/',function(_0x48baa0){if(_0x48baa0){console[_0x5ae7('0x3c')](_0x5ae7('0x83')+_0x48baa0);throw _0x48baa0;}console[_0x5ae7('0x3c')](_0x5ae7('0x84'));_0x674f2c(_0x1b3d02,_0x354ab3,_0x2c7fd6);});});});}_0x674f2c(_0x1b3d02,_0x354ab3,_0x2c7fd6);});};function _0x2d7d23(_0x26c203,_0x2d046b,_0x49094e){_0x26c203[_0x5ae7('0x56')](_0x5ae7('0x53')+_0x2d046b[_0x5ae7('0x2d')]+_0x5ae7('0x5b'),function(_0x12ddf4,_0x59f3f0){if(_0x12ddf4){console[_0x5ae7('0x3c')](_0x5ae7('0x85')+_0x12ddf4);throw _0x12ddf4;}_0xb17fc5(_0x2d046b,'Editor',_0x59f3f0,_0x49094e);});_0x26c203[_0x5ae7('0x56')]('/home/c3/FusionFilesystem/'+_0x2d046b[_0x5ae7('0x2d')]+_0x5ae7('0x5f'),function(_0x2f5305,_0x422a7c){if(_0x2f5305){console['log'](_0x5ae7('0x86')+_0x2f5305);throw _0x2f5305;}_0xb17fc5(_0x2d046b,_0x5ae7('0x62'),_0x422a7c,_0x49094e);});};function _0xb17fc5(_0x3450dd,_0xe7ac3b,_0xa1b54d,_0x1420b3){console[_0x5ae7('0x3c')](_0x5ae7('0x87'));if(_0xe7ac3b==_0x5ae7('0x62')&&_0xa1b54d[_0x5ae7('0x46')]==0x0){_0x1420b3[_0x5ae7('0x4f')]();}for(var _0x1e2f81=0x0;_0x1e2f81<_0xa1b54d['length'];_0x1e2f81++){let _0x59f256=_0x5ae7('0x53')+_0x3450dd[_0x5ae7('0x2d')]+'/'+_0xe7ac3b+'/'+_0xa1b54d[_0x1e2f81][_0x5ae7('0x64')];let _0x3f1620=_0x5ae7('0x88')+_0x3450dd['username']+'/'+_0xe7ac3b+'/';console[_0x5ae7('0x3c')](_0x5ae7('0x89')+_0x59f256+_0x5ae7('0x8a')+_0x3f1620);SCP['scp'](_0x5ae7('0x8b')+_0x59f256,_0x3f1620,function(_0x22aea5){if(_0x22aea5){console[_0x5ae7('0x3c')](_0x5ae7('0x8c')+_0x59f256+_0x5ae7('0x8d')+_0x22aea5);}if(_0xe7ac3b=='Blockly'&&(_0x1e2f81=_0xa1b54d[_0x5ae7('0x46')]-0x1)){_0x1420b3[_0x5ae7('0x4f')]();}});}};};