var _0x3317=['local-recovery','Login\x20Successful','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','User\x27s\x20editor\x20directory\x20created','mkdir','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','Blockly','Getting\x20data\x20for\x20','filename','push','verbose','Editor','/Editor','stat','name','debug','floor','mtimeMs','attrs','mtime','Local\x20\x22','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20mtime:\x20','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20path:\x20','Local\x20Path:\x20','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','app/filesystem/','\x20to\x20','scp','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','scp2','Client','path','request-promise','./../../server/classroom/connection/','winston','exports','get','/api/users','find','Guest','json','post','authenticate','local-signup','status','send','message','logIn','REGISTER.CREATED','body','socketId','connected','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','user','/api/users/:User_Id','findOne','params','toLowerCase','trim','put','User_Id','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','delete','username','SocketVariables','fusion_program_running','KillProgram','logout','remove','removeFileSystem','Successfully\x20deleted','/api/users/login','local-login','MultiUserAccess','LOGIN.SUCCESS','LOGIN.MULTIUSER_DENIED','/api/users/cloudLogin','log','in\x20cloud\x20login','POST','exec','login','/api/users/logout','User','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery'];(function(_0x2fb880,_0x589c36){var _0x59bcff=function(_0x5811fc){while(--_0x5811fc){_0x2fb880['push'](_0x2fb880['shift']());}};_0x59bcff(++_0x589c36);}(_0x3317,0x167));var _0x4659=function(_0x56b2cd,_0x3622aa){_0x56b2cd=_0x56b2cd-0x0;var _0x497687=_0x3317[_0x56b2cd];return _0x497687;};var SCP=require(_0x4659('0x0'));var SSH=require('ssh2')[_0x4659('0x1')];var fs=require('fs-extra');var path=require(_0x4659('0x2'));var rp=require(_0x4659('0x3'));const classroomConnection=require(_0x4659('0x4'));const winston=require(_0x4659('0x5'));module[_0x4659('0x6')]=function(_0x212611,_0x192e2e,_0x160dff,_0x3694ad,_0xb60ec4,_0x213742){_0x212611[_0x4659('0x7')](_0x4659('0x8'),_0xf00193(),function(_0x1aa263,_0x3ea62f){_0x192e2e[_0x4659('0x9')]({'usergroup':{'$ne':_0x4659('0xa')}},function(_0x584552,_0x31863f){if(_0x584552)_0x3ea62f['send'](_0x584552);_0x3ea62f[_0x4659('0xb')](_0x31863f);});});_0x212611[_0x4659('0xc')](_0x4659('0x8'),function(_0x592c78,_0x55fa42,_0xe10755){_0x160dff[_0x4659('0xd')](_0x4659('0xe'),async function(_0x10feaa,_0x1615be,_0x74ddbb){if(_0x10feaa)return _0x55fa42[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x10feaa);if(_0x74ddbb&&_0x74ddbb[_0x4659('0x11')])return _0x55fa42[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x592c78['__'](_0x74ddbb[_0x4659('0x11')]));if(_0x213742['MultiUserAccess']){if(classroomConnection['connected']){await _0x6a2779(_0x1615be);}_0x592c78[_0x4659('0x12')](_0x1615be,function(_0x10feaa){if(_0x10feaa){return _0xe10755(_0x10feaa);}_0x480b7f(_0x592c78['body']['socketId'],_0x1615be);return _0x55fa42['status'](0xc8)[_0x4659('0xb')]({'serverMessage':_0x592c78['__'](_0x4659('0x13')),'user':_0x1615be});});}else{if(_0x2a6f79()==0x0){_0x480b7f(_0x592c78[_0x4659('0x14')][_0x4659('0x15')],_0x1615be);if(classroomConnection[_0x4659('0x16')]){await _0x6a2779(_0x1615be);}_0x592c78['logIn'](_0x1615be,function(_0x10feaa){if(_0x10feaa){return _0xe10755(_0x10feaa);}_0x480b7f(_0x592c78[_0x4659('0x14')]['socketId'],_0x1615be);return _0x55fa42[_0x4659('0xf')](0xc8)[_0x4659('0xb')]({'serverMessage':_0x592c78['__'](_0x4659('0x13')),'user':_0x1615be});});}else{return _0x55fa42[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x592c78['__'](_0x4659('0x17')));}}})(_0x592c78,_0x55fa42,_0xe10755);});_0x212611['post'](_0x4659('0x8'),_0x160dff[_0x4659('0xd')](_0x4659('0xe'),{'session':!![]}),function(_0x129636,_0x10347e){if(_0x129636[_0x4659('0x18')]['Error']){return _0x10347e[_0x4659('0xf')](0x1f4)['send'](_0x129636[_0x4659('0x18')]['Error']);}else{}});_0x212611[_0x4659('0x7')](_0x4659('0x19'),_0xf00193(),function(_0x11fbe9,_0x14ba43){_0x192e2e[_0x4659('0x1a')]({'username':_0x11fbe9[_0x4659('0x1b')]['User_Id'][_0x4659('0x1c')]()[_0x4659('0x1d')]()},function(_0x53163b,_0x10d33b){if(_0x53163b)_0x14ba43[_0x4659('0x10')](_0x53163b);_0x14ba43[_0x4659('0xb')](_0x10d33b);});});_0x212611[_0x4659('0x1e')](_0x4659('0x19'),_0xf00193(),function(_0x1c4dcd,_0x2aeae7){_0x192e2e[_0x4659('0x1a')]({'username':_0x1c4dcd[_0x4659('0x1b')][_0x4659('0x1f')][_0x4659('0x1c')]()['trim']()},function(_0x550831,_0x423c2b){if(_0x550831)_0x2aeae7['send'](_0x550831);if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x20')]){_0x423c2b[_0x4659('0x20')]=_0x423c2b[_0x4659('0x21')](_0x1c4dcd['body'][_0x4659('0x20')]);}if(_0x1c4dcd['body'][_0x4659('0x22')]){_0x423c2b['firstname']=_0x1c4dcd[_0x4659('0x14')][_0x4659('0x22')];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x23')]){_0x423c2b[_0x4659('0x23')]=_0x1c4dcd['body'][_0x4659('0x23')];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x24')]){_0x423c2b['language']=_0x1c4dcd[_0x4659('0x14')][_0x4659('0x24')];}if(_0x1c4dcd[_0x4659('0x14')]['email']){_0x423c2b[_0x4659('0x25')]=_0x1c4dcd[_0x4659('0x14')]['email'];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x26')]){_0x423c2b[_0x4659('0x26')]=_0x1c4dcd['body']['defaultprogramminglanguage'];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x27')]){_0x423c2b['securityquestion']=_0x1c4dcd[_0x4659('0x14')][_0x4659('0x27')];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x28')]){_0x423c2b['securityanswer']=_0x1c4dcd[_0x4659('0x14')]['securityanswer'];}if(_0x1c4dcd[_0x4659('0x14')][_0x4659('0x29')]){_0x423c2b['usergroup']=_0x1c4dcd[_0x4659('0x14')]['usergroup'];}_0x423c2b[_0x4659('0x2a')](function(_0x550831){if(_0x550831)_0x2aeae7[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x550831);_0x2aeae7[_0x4659('0xf')](0xc8)['json']({'serverMessage':_0x4659('0x2b')});});});});_0x212611[_0x4659('0x2c')]('/api/users/:User_Id',_0xf00193(),function(_0x413ef4,_0x3b9946){if(_0x413ef4[_0x4659('0x1b')][_0x4659('0x1f')]['toLowerCase']()['trim']()==_0x413ef4[_0x4659('0x18')][_0x4659('0x2d')]){if(_0x213742['SocketVariables']['fusion_program_running'])if(_0x213742[_0x4659('0x2e')][_0x4659('0x2f')]['User']==_0x413ef4[_0x4659('0x18')]['username'])_0x3694ad[_0x4659('0x30')]();_0x46c1e1(_0x413ef4[_0x4659('0x18')][_0x4659('0x2d')]);_0x413ef4[_0x4659('0x31')]();}_0x192e2e[_0x4659('0x32')]({'username':_0x413ef4[_0x4659('0x1b')]['User_Id'][_0x4659('0x1c')]()[_0x4659('0x1d')]()},function(_0x3df33b,_0x25a603){if(_0x3df33b)return _0x3b9946[_0x4659('0x10')](_0x3df33b);_0x192e2e[_0x4659('0x33')](_0x413ef4[_0x4659('0x1b')][_0x4659('0x1f')]['toLowerCase']()[_0x4659('0x1d')]());return _0x3b9946['status'](0xc8)['json']({'serverMessage':_0x4659('0x34')});});});_0x212611[_0x4659('0xc')](_0x4659('0x35'),function(_0x16602b,_0x11911b,_0x118a6f){_0x160dff[_0x4659('0xd')](_0x4659('0x36'),async function(_0x19813b,_0x490dc9,_0x2074b0){if(_0x19813b)return _0x11911b['status'](0x1f4)[_0x4659('0x10')](_0x16602b['__'](_0x19813b[_0x4659('0x11')]));if(!_0x490dc9)return _0x11911b[_0x4659('0xf')](0x191)[_0x4659('0x10')](_0x16602b['__'](_0x2074b0[_0x4659('0x11')]));if(_0x213742[_0x4659('0x37')]){if(classroomConnection['connected']){await _0x6a2779(_0x490dc9);}_0x16602b[_0x4659('0x12')](_0x490dc9,function(_0x19813b){if(_0x19813b){return _0x118a6f(_0x19813b);}_0x480b7f(_0x16602b[_0x4659('0x14')]['socketId'],_0x490dc9);return _0x11911b['status'](0xc8)[_0x4659('0xb')]({'serverMessage':_0x16602b['__'](_0x4659('0x38')),'user':_0x490dc9});});}else{if(_0x2a6f79()==0x0){_0x480b7f(_0x16602b[_0x4659('0x14')][_0x4659('0x15')],_0x490dc9);if(classroomConnection[_0x4659('0x16')]){await _0x6a2779(_0x490dc9);}_0x16602b[_0x4659('0x12')](_0x490dc9,function(_0x19813b){if(_0x19813b){return _0x118a6f(_0x19813b);}_0x480b7f(_0x16602b[_0x4659('0x14')][_0x4659('0x15')],_0x490dc9);return _0x11911b['status'](0xc8)[_0x4659('0xb')]({'serverMessage':_0x16602b['__']('LOGIN.SUCCESS'),'user':_0x490dc9});});}else{return _0x11911b[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x16602b['__'](_0x4659('0x39')));}}})(_0x16602b,_0x11911b,_0x118a6f);});_0x212611[_0x4659('0xc')](_0x4659('0x3a'),async function(_0x4373fa,_0x56f632){console[_0x4659('0x3b')](_0x4659('0x3c'));var _0x433b31={'method':_0x4659('0x3d'),'uri':'https://172.16.0.1/backend/auth/ldap','body':{'username':_0x4373fa['body'][_0x4659('0x2d')],'password':_0x4373fa[_0x4659('0x14')][_0x4659('0x20')]},'json':!![],'rejectUnauthorized':![]};try{let _0x1a3879=await rp(_0x433b31);let _0x568f58=await _0x192e2e[_0x4659('0x1a')]({'username':_0x4373fa[_0x4659('0x14')][_0x4659('0x2d')]})[_0x4659('0x3e')]();if(_0x568f58){return _0x56f632[_0x4659('0xf')](0xc8)['send'](_0x4659('0x3f'));}else{return _0x56f632[_0x4659('0xf')](0xc8)[_0x4659('0x10')]('create');}}catch(_0x176ab1){console['log']('Error\x20with\x20request\x20promise.\x20'+_0x176ab1);return _0x56f632['status'](0x1f4)['send'](_0x176ab1);}});_0x212611[_0x4659('0xc')](_0x4659('0x40'),_0xf00193(),function(_0x6e2bd0,_0x11e87e){if(_0x213742[_0x4659('0x2e')][_0x4659('0x2f')])if(_0x213742['SocketVariables']['fusion_program_running'][_0x4659('0x41')]==_0x6e2bd0[_0x4659('0x18')]['username'])_0x3694ad['KillProgram']();_0x5729c3(_0x6e2bd0[_0x4659('0x14')][_0x4659('0x15')]);_0x6e2bd0[_0x4659('0x31')]();_0x11e87e[_0x4659('0xf')](0xc8)[_0x4659('0xb')]({'serverMessage':_0x4659('0x42')});});_0x212611['get'](_0x4659('0x43'),function(_0x377a1b,_0x155281){_0x192e2e[_0x4659('0x1a')]({'username':_0x377a1b[_0x4659('0x1b')]['User_Id']['toLowerCase']()[_0x4659('0x1d')]()},function(_0x5f4c1b,_0x3f5148){if(_0x5f4c1b)return _0x155281[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x5f4c1b);if(!_0x3f5148)return _0x155281[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x4659('0x44'));else return _0x155281['status'](0xc8)[_0x4659('0xb')](_0x3f5148[_0x4659('0x27')]);});});_0x212611[_0x4659('0xc')](_0x4659('0x45'),_0x160dff['authenticate'](_0x4659('0x46'),{'session':!![]}),function(_0x2bda99,_0x2b628f){if(_0x213742[_0x4659('0x37')]){if(classroomConnection[_0x4659('0x16')]){_0x6a2779(_0x2bda99[_0x4659('0x18')]);}_0x480b7f(_0x2bda99[_0x4659('0x14')][_0x4659('0x15')],_0x2bda99[_0x4659('0x18')]);return _0x2b628f['status'](0xc8)[_0x4659('0xb')]({'serverMessage':_0x4659('0x47'),'user':_0x2bda99[_0x4659('0x18')]});}else{if(_0x2a6f79()==0x0){_0x480b7f(_0x2bda99[_0x4659('0x14')][_0x4659('0x15')],_0x2bda99[_0x4659('0x18')]);if(classroomConnection[_0x4659('0x16')]){_0x6a2779(_0x2bda99['user']);}return _0x2b628f[_0x4659('0xf')](0xc8)[_0x4659('0xb')]({'serverMessage':_0x4659('0x47'),'user':_0x2bda99[_0x4659('0x18')]});}else{_0x2bda99[_0x4659('0x31')]();return _0x2b628f[_0x4659('0xf')](0x1f4)[_0x4659('0x10')](_0x4659('0x48'));}}});_0x212611[_0x4659('0x7')](_0x4659('0x49'),function(_0x194842,_0x266328){var _0x11ea0d=[_0x4659('0x41')];_0x192e2e[_0x4659('0x1a')]({'usergroup':_0x4659('0x4a')},function(_0x3eaa3a,_0x568133){if(_0x3eaa3a)return _0x266328[_0x4659('0xf')](0xc8)[_0x4659('0x10')](_0x11ea0d);if(!_0x568133)_0x11ea0d[_0x4659('0x4b')](_0x4659('0x4a'));return _0x266328[_0x4659('0xf')](0xc8)[_0x4659('0x10')](_0x11ea0d);});});function _0x2a6f79(){var _0x19c3aa=0x0;for(var _0x173339=0x0;_0x173339<_0x213742[_0x4659('0x4c')][_0x4659('0x4d')];_0x173339++){if(_0x213742[_0x4659('0x4c')][_0x173339]['User']){_0x19c3aa++;}}return _0x19c3aa;}function _0x480b7f(_0x575ad5,_0xc85609){for(var _0x2b5f1c=0x0;_0x2b5f1c<_0x213742[_0x4659('0x4c')][_0x4659('0x4d')];_0x2b5f1c++){if(_0x213742[_0x4659('0x4c')][_0x2b5f1c]['id']==_0x575ad5){_0x213742['connectedClients'][_0x2b5f1c][_0x4659('0x41')]=_0xc85609;break;}}}function _0x5729c3(_0x1f7381){for(var _0x670ed3=0x0;_0x670ed3<_0x213742[_0x4659('0x4c')][_0x4659('0x4d')];_0x670ed3++){if(_0x213742[_0x4659('0x4c')][_0x670ed3]['id']==_0x1f7381){_0x213742[_0x4659('0x4c')][_0x670ed3][_0x4659('0x41')]=undefined;break;}}}function _0x46c1e1(_0x5329a5){for(var _0x5e4e19=0x0;_0x5e4e19<_0x213742[_0x4659('0x4c')][_0x4659('0x4d')];_0x5e4e19++){if(_0x213742[_0x4659('0x4c')][_0x5e4e19][_0x4659('0x41')][_0x4659('0x2d')]==_0x5329a5){_0x213742[_0x4659('0x4c')][_0x5e4e19][_0x4659('0x41')]=undefined;break;}}}function _0xf00193(){return function(_0x11a3ec,_0x2eff8d,_0x38d75f){if(_0x11a3ec[_0x4659('0x4e')]()){return _0x38d75f();}else{return _0x2eff8d['status'](0x191)[_0x4659('0x10')](_0x4659('0x4f'));}};}async function _0x6a2779(_0x40d832){try{await _0x2b322a(_0x40d832);}catch(_0x39c282){winston[_0x4659('0x50')](_0x39c282);winston[_0x4659('0x50')](_0x4659('0x51')+_0x40d832[_0x4659('0x2d')]);}};function _0x2b322a(_0x1f32a1){return new Promise(function(_0x84f808,_0x1a822f){var _0x5ad96c=new SSH();_0x5ad96c['on']('ready',function(){_0x5ad96c[_0x4659('0x52')](async function(_0x270466,_0x57be9c){if(_0x270466){winston['info'](_0x4659('0x53')+_0x270466);_0x5ad96c[_0x4659('0x54')]();return _0x1a822f(_0x270466);}try{await _0x8113ee(_0x57be9c);await _0x123727(_0x57be9c,_0x1f32a1[_0x4659('0x2d')]);await _0x24b080(_0x57be9c,_0x1f32a1[_0x4659('0x2d')]);await _0x2c2643(_0x57be9c,_0x1f32a1['username']);let _0x535578=await _0x2dde01(_0x57be9c,_0x1f32a1[_0x4659('0x2d')]);winston['info'](JSON[_0x4659('0x55')](_0x535578));let _0xa5a736=await _0x91fa78(_0x1f32a1[_0x4659('0x56')]);winston['info'](JSON[_0x4659('0x55')](_0xa5a736));await _0x32a150(_0x57be9c,_0x1f32a1,_0x535578,_0xa5a736);_0x5ad96c[_0x4659('0x54')]();return _0x84f808();}catch(_0xe0c418){winston[_0x4659('0x50')](_0xe0c418);_0x5ad96c[_0x4659('0x54')]();return _0x1a822f(_0xe0c418);}});})[_0x4659('0x57')]({'host':_0x4659('0x58'),'port':0x16,'username':'c3','password':_0x4659('0x59')});});};function _0x8113ee(_0x58367d){return new Promise(function(_0x2b0104,_0x1a9cd9){_0x58367d[_0x4659('0x5a')]('/home/c3/FusionFilesystem/',function(_0x30dd7a){if(_0x30dd7a){_0x58367d['mkdir'](_0x4659('0x5b'),function(_0x1f455d){if(_0x1f455d){return _0x1a9cd9('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x1f455d);}else{winston[_0x4659('0x50')]('Classroom\x20file\x20system\x20created');return _0x2b0104();}});}else{winston['info']('Classroom\x20file\x20system\x20found');return _0x2b0104();}});});};function _0x123727(_0x59d014,_0x3564f5){return new Promise(function(_0x1a7d7d,_0x58810e){_0x59d014[_0x4659('0x5a')](_0x4659('0x5b')+_0x3564f5,function(_0x5edc4c){if(_0x5edc4c){_0x59d014['mkdir'](_0x4659('0x5b')+_0x3564f5,function(_0x3c3591){if(_0x3c3591){return _0x58810e(_0x4659('0x5c')+_0x3c3591);}else{winston[_0x4659('0x50')](_0x4659('0x5d'));return _0x1a7d7d();}});}else{winston[_0x4659('0x50')](_0x4659('0x5e'));return _0x1a7d7d();}});});};function _0x24b080(_0x294e86,_0x1c0e66){return new Promise(function(_0xf0dac5,_0xb7b965){_0x294e86[_0x4659('0x5a')](_0x4659('0x5b')+_0x1c0e66+_0x4659('0x5f'),function(_0x35ba82){if(_0x35ba82){_0x294e86['mkdir'](_0x4659('0x5b')+_0x1c0e66+_0x4659('0x5f'),function(_0x2c392f){if(_0x2c392f){return _0xb7b965('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x2c392f);}else{winston['info'](_0x4659('0x60'));return _0xf0dac5();}});}else{winston[_0x4659('0x50')]('User\x27s\x20editor\x20directory\x20found');return _0xf0dac5();}});});};function _0x2c2643(_0x3a8d9b,_0x491932){return new Promise(function(_0x3b6266,_0x3a93ee){_0x3a8d9b['readdir']('/home/c3/FusionFilesystem/'+_0x491932+'/Blockly/',function(_0x86b258){if(_0x86b258){_0x3a8d9b[_0x4659('0x61')]('/home/c3/FusionFilesystem/'+_0x491932+_0x4659('0x62'),function(_0xc6c027){if(_0xc6c027){return _0x3a93ee(_0x4659('0x63')+_0xc6c027);}else{winston[_0x4659('0x50')](_0x4659('0x64'));return _0x3b6266();}});}else{winston[_0x4659('0x50')](_0x4659('0x65'));return _0x3b6266();}});});};function _0x2dde01(_0x41d535,_0x2dc201){return new Promise(async function(_0x453768,_0x57a404){try{let _0x2f3895={};_0x2f3895['Editor']=await _0x142955(_0x41d535,_0x2dc201);_0x2f3895[_0x4659('0x66')]=await _0x2f1c47(_0x41d535,_0x2dc201);return _0x453768(_0x2f3895);}catch(_0x3edb8b){return _0x57a404(_0x3edb8b);}});};function _0x142955(_0x13fc95,_0x1e8205){return new Promise(function(_0x3dd7fd,_0x4491ab){_0x13fc95[_0x4659('0x5a')]('/home/c3/FusionFilesystem/'+_0x1e8205+'/Editor/',function(_0x31e30c,_0x26435b){if(_0x31e30c)return _0x4491ab(_0x31e30c);let _0xe3148e=[];for(let _0x2d9b4b=0x0;_0x2d9b4b<_0x26435b[_0x4659('0x4d')];_0x2d9b4b++){winston['verbose'](_0x4659('0x67')+_0x26435b[_0x2d9b4b][_0x4659('0x68')]);_0xe3148e[_0x4659('0x69')](_0x26435b[_0x2d9b4b]);}return _0x3dd7fd(_0xe3148e);});});};function _0x2f1c47(_0x1cb0d5,_0x488e6a){return new Promise(function(_0x1ef621,_0x2cb9d6){_0x1cb0d5[_0x4659('0x5a')]('/home/c3/FusionFilesystem/'+_0x488e6a+_0x4659('0x62'),function(_0xcd1e00,_0x1131ae){if(_0xcd1e00)return _0x2cb9d6(_0xcd1e00);let _0x5b3faa=[];for(let _0x50ebba=0x0;_0x50ebba<_0x1131ae[_0x4659('0x4d')];_0x50ebba++){winston[_0x4659('0x6a')]('Getting\x20data\x20for\x20'+_0x1131ae[_0x50ebba]['filename']);_0x5b3faa[_0x4659('0x69')](_0x1131ae[_0x50ebba]);}return _0x1ef621(_0x5b3faa);});});};function _0x91fa78(_0x3e582f){return new Promise(async function(_0x43c83a,_0x23ba4b){try{let _0x1156bb={};_0x1156bb[_0x4659('0x6b')]=await _0x7644b5(_0x3e582f);_0x1156bb[_0x4659('0x66')]=await _0x9d9a5c(_0x3e582f);return _0x43c83a(_0x1156bb);}catch(_0x1d346b){return _0x23ba4b(_0x1d346b);}});};function _0x7644b5(_0xbaadc7){return new Promise(async function(_0x1d3286,_0xc9c367){try{let _0x3df400=[];let _0x5e9d73=await fs[_0x4659('0x5a')](_0xbaadc7+_0x4659('0x6c'));for(let _0x250ef4=0x0;_0x250ef4<_0x5e9d73[_0x4659('0x4d')];_0x250ef4++){winston[_0x4659('0x6a')](_0x4659('0x67')+_0x5e9d73[_0x250ef4]);let _0x227023=await fs['stat'](_0xbaadc7+_0x4659('0x5f')+_0x5e9d73[_0x250ef4]);_0x227023['name']=_0x5e9d73[_0x250ef4];_0x3df400[_0x4659('0x69')](_0x227023);}return _0x1d3286(_0x3df400);}catch(_0x10e0bd){return _0xc9c367(_0x10e0bd);}});};function _0x9d9a5c(_0x30064d){return new Promise(async function(_0x48bfcd,_0x3d9384){try{let _0x8b04ed=[];let _0x1b5c44=await fs['readdir'](_0x30064d+'/Blockly');for(let _0x31163f=0x0;_0x31163f<_0x1b5c44[_0x4659('0x4d')];_0x31163f++){winston['verbose'](_0x4659('0x67')+_0x1b5c44[_0x31163f]);let _0x15bb1d=await fs[_0x4659('0x6d')](_0x30064d+'/Blockly/'+_0x1b5c44[_0x31163f]);_0x15bb1d[_0x4659('0x6e')]=_0x1b5c44[_0x31163f];_0x8b04ed[_0x4659('0x69')](_0x15bb1d);}return _0x48bfcd(_0x8b04ed);}catch(_0x9df255){return _0x3d9384(_0x9df255);}});};function _0x32a150(_0x139f6d,_0x58e66d,_0x3ae505,_0x1bf448){return new Promise(async function(_0x21854,_0x22dd19){try{for(let _0x1578e7=0x0;_0x1578e7<_0x3ae505['Editor'][_0x4659('0x4d')];_0x1578e7++){let _0x5c3e88=![];for(let _0x5e5898=0x0;_0x5e5898<_0x1bf448[_0x4659('0x6b')][_0x4659('0x4d')];_0x5e5898++){if(_0x1bf448[_0x4659('0x6b')][_0x5e5898][_0x4659('0x6e')]==_0x3ae505['Editor'][_0x1578e7]['filename']){winston[_0x4659('0x6f')]('Local\x20mtime:\x20'+Math[_0x4659('0x70')](_0x1bf448['Editor'][_0x5e5898][_0x4659('0x71')]/0x3e8));winston[_0x4659('0x6f')]('Remote\x20mtime:\x20'+_0x3ae505[_0x4659('0x6b')][_0x1578e7][_0x4659('0x72')]['mtime']);if(Math[_0x4659('0x70')](_0x1bf448[_0x4659('0x6b')][_0x5e5898]['mtimeMs']/0x3e8)>_0x3ae505[_0x4659('0x6b')][_0x1578e7][_0x4659('0x72')][_0x4659('0x73')]){_0x5c3e88=!![];winston[_0x4659('0x6a')](_0x4659('0x74')+_0x1bf448[_0x4659('0x6b')][_0x5e5898]['name']+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x22f432(_0x139f6d,_0x58e66d,_0x3ae505[_0x4659('0x6b')][_0x1578e7][_0x4659('0x68')],_0x4659('0x6b'));}catch(_0x5951fb){return _0x22dd19(_0x5951fb);}break;}else{_0x5c3e88=!![];winston[_0x4659('0x6a')](_0x4659('0x75')+_0x1bf448[_0x4659('0x6b')][_0x5e5898]['name']+_0x4659('0x76'));try{await _0x52bf29(_0x139f6d,_0x58e66d,_0x3ae505[_0x4659('0x6b')][_0x1578e7][_0x4659('0x68')],'Editor');}catch(_0x414146){winston['debug'](_0x4659('0x77')+_0x414146);return _0x22dd19(_0x414146);}break;}}}if(!_0x5c3e88){winston[_0x4659('0x6a')](_0x3ae505[_0x4659('0x6b')][_0x1578e7]['filename']+_0x4659('0x78'));try{await _0x52bf29(_0x139f6d,_0x58e66d,_0x3ae505['Editor'][_0x1578e7][_0x4659('0x68')],_0x4659('0x6b'));}catch(_0x2ec745){return _0x22dd19(_0x2ec745);}}}for(let _0x3daa35=0x0;_0x3daa35<_0x3ae505[_0x4659('0x66')][_0x4659('0x4d')];_0x3daa35++){let _0x5c3e88=![];for(let _0x5e5898=0x0;_0x5e5898<_0x1bf448['Blockly'][_0x4659('0x4d')];_0x5e5898++){if(_0x1bf448[_0x4659('0x66')][_0x5e5898][_0x4659('0x6e')]==_0x3ae505[_0x4659('0x66')][_0x3daa35][_0x4659('0x68')]){winston['debug']('Local\x20mtime:\x20'+Math['floor'](_0x1bf448['Blockly'][_0x5e5898][_0x4659('0x71')]/0x3e8));winston[_0x4659('0x6f')](_0x4659('0x79')+_0x3ae505['Blockly'][_0x3daa35]['attrs'][_0x4659('0x73')]);if(Math['floor'](_0x1bf448[_0x4659('0x66')][_0x5e5898][_0x4659('0x71')]/0x3e8)>_0x3ae505['Blockly'][_0x3daa35][_0x4659('0x72')]['mtime']){_0x5c3e88=!![];winston[_0x4659('0x6a')](_0x4659('0x74')+_0x1bf448[_0x4659('0x66')][_0x5e5898]['name']+_0x4659('0x7a'));try{await _0x22f432(_0x139f6d,_0x58e66d,_0x3ae505[_0x4659('0x66')][_0x3daa35][_0x4659('0x68')],_0x4659('0x66'));}catch(_0x3e4c7e){return _0x22dd19(_0x3e4c7e);}break;}else{_0x5c3e88=!![];winston[_0x4659('0x6a')](_0x4659('0x75')+_0x1bf448['Blockly'][_0x5e5898]['name']+_0x4659('0x76'));try{await _0x52bf29(_0x139f6d,_0x58e66d,_0x3ae505[_0x4659('0x66')][_0x3daa35][_0x4659('0x68')],_0x4659('0x66'));}catch(_0x146bab){winston['debug'](_0x4659('0x77')+_0x146bab);return _0x22dd19(_0x146bab);}break;}}}if(!_0x5c3e88){winston[_0x4659('0x6a')](_0x3ae505['Blockly'][_0x3daa35][_0x4659('0x68')]+_0x4659('0x78'));try{await _0x52bf29(_0x139f6d,_0x58e66d,_0x3ae505['Blockly'][_0x3daa35][_0x4659('0x68')],_0x4659('0x66'));}catch(_0xe148f){return _0x22dd19(_0xe148f);}}}return _0x21854();}catch(_0x27b57a){return _0x22dd19(_0x27b57a);}});};function _0x22f432(_0x30b745,_0x96d039,_0x3fcfde,_0x418266){return new Promise((_0x474b51,_0x144a7f)=>{try{let _0x26cd67=_0x4659('0x5b')+_0x96d039[_0x4659('0x2d')]+'/'+_0x418266+'/'+_0x3fcfde;let _0x23173b=_0x96d039[_0x4659('0x56')]+'/'+_0x418266+'/'+_0x3fcfde;winston[_0x4659('0x6a')](_0x4659('0x7b')+_0x26cd67);winston[_0x4659('0x6a')](_0x4659('0x7c')+_0x23173b);_0x30b745['fastPut'](_0x23173b,_0x26cd67,{},function(_0x1430a7){if(_0x1430a7){winston[_0x4659('0x6f')]('Error\x20uploading\x20file:\x20'+_0x3fcfde);return _0x144a7f(_0x1430a7);}winston['info'](_0x4659('0x7d')+_0x3fcfde);return _0x474b51();});}catch(_0xedccdd){return _0x144a7f(_0xedccdd);}});};function _0x52bf29(_0x9c998a,_0xef981d,_0x55fcf4,_0x124499){return new Promise((_0x50e26d,_0x4bd6b5)=>{try{let _0x36dcf7=_0x4659('0x5b')+_0xef981d[_0x4659('0x2d')]+'/'+_0x124499+'/'+_0x55fcf4;let _0x47f8b3=_0xef981d[_0x4659('0x56')]+'/'+_0x124499+'/'+_0x55fcf4;winston[_0x4659('0x6a')](_0x4659('0x7b')+_0x36dcf7);winston[_0x4659('0x6a')]('Local\x20Path:\x20'+_0x47f8b3);_0x9c998a[_0x4659('0x7e')](_0x36dcf7,_0x47f8b3,{},function(_0xa68a8f){if(_0xa68a8f){winston[_0x4659('0x6f')](_0x4659('0x7f')+_0x55fcf4);return _0x4bd6b5(_0xa68a8f);}winston[_0x4659('0x50')](_0x4659('0x80')+_0x55fcf4);return _0x50e26d();});}catch(_0x5bfcfc){return _0x4bd6b5(_0x5bfcfc);}});};function _0x23761e(_0x4951bb,_0x2e511b,_0x306fdc,_0x15bcf2){_0x4951bb['readdir'](_0x4659('0x5b')+_0x2e511b[_0x4659('0x2d')],function(_0x1aed2b){if(_0x1aed2b){console[_0x4659('0x3b')](_0x4659('0x81')+_0x1aed2b);_0x4951bb[_0x4659('0x61')](_0x4659('0x5b')+_0x2e511b[_0x4659('0x2d')],function(_0x32ca15){if(_0x32ca15){console['log'](_0x4659('0x82')+_0x32ca15);throw _0x32ca15;}console[_0x4659('0x3b')](_0x4659('0x83'));_0x4951bb[_0x4659('0x61')]('/home/c3/FusionFilesystem/'+_0x2e511b[_0x4659('0x2d')]+_0x4659('0x5f'),function(_0x9268be){if(_0x9268be){console[_0x4659('0x3b')](_0x4659('0x84')+_0x9268be);throw _0x9268be;}console[_0x4659('0x3b')](_0x4659('0x85'));_0x4951bb[_0x4659('0x61')](_0x4659('0x5b')+_0x2e511b[_0x4659('0x2d')]+_0x4659('0x62'),function(_0x1a0d14){if(_0x1a0d14){console[_0x4659('0x3b')](_0x4659('0x86')+_0x1a0d14);throw _0x1a0d14;}console[_0x4659('0x3b')]('Blockly\x20directory\x20created');_0x15bcf2(_0x4951bb,_0x2e511b,_0x306fdc);});});});}_0x15bcf2(_0x4951bb,_0x2e511b,_0x306fdc);});};function _0x411597(_0x5ed55c,_0x528572,_0x274c7c){_0x5ed55c[_0x4659('0x5a')](_0x4659('0x5b')+_0x528572[_0x4659('0x2d')]+_0x4659('0x5f'),function(_0x24bbae,_0x412ef0){if(_0x24bbae){console['log']('Error\x20reading\x20classroom\x20editor\x20files:\x20'+_0x24bbae);throw _0x24bbae;}_0x4ed9c8(_0x528572,_0x4659('0x6b'),_0x412ef0,_0x274c7c);});_0x5ed55c[_0x4659('0x5a')](_0x4659('0x5b')+_0x528572['username']+_0x4659('0x62'),function(_0x959374,_0x3b8443){if(_0x959374){console['log'](_0x4659('0x87')+_0x959374);throw _0x959374;}_0x4ed9c8(_0x528572,_0x4659('0x66'),_0x3b8443,_0x274c7c);});};function _0x4ed9c8(_0x183d6a,_0x5d50be,_0xf689cb,_0x2c6a88){console[_0x4659('0x3b')](_0x4659('0x88'));if(_0x5d50be==_0x4659('0x66')&&_0xf689cb['length']==0x0){_0x2c6a88['end']();}for(var _0x3ab2c0=0x0;_0x3ab2c0<_0xf689cb[_0x4659('0x4d')];_0x3ab2c0++){let _0x44b305=_0x4659('0x5b')+_0x183d6a[_0x4659('0x2d')]+'/'+_0x5d50be+'/'+_0xf689cb[_0x3ab2c0][_0x4659('0x68')];let _0x219c03=_0x4659('0x89')+_0x183d6a['username']+'/'+_0x5d50be+'/';console[_0x4659('0x3b')]('Moving:\x20'+_0x44b305+_0x4659('0x8a')+_0x219c03);SCP[_0x4659('0x8b')](_0x4659('0x8c')+_0x44b305,_0x219c03,function(_0x2784c9){if(_0x2784c9){console[_0x4659('0x3b')](_0x4659('0x8d')+_0x44b305+_0x4659('0x8e')+_0x2784c9);}if(_0x5d50be=='Blockly'&&(_0x3ab2c0=_0xf689cb[_0x4659('0x4d')]-0x1)){_0x2c6a88[_0x4659('0x54')]();}});}};};