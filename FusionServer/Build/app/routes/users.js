var _0x1af0=['Uploaded\x20','fastGet','Error\x20reading\x20user\x20file\x20system:\x20','log','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Retrieving\x20files','app/filesystem/','Moving:\x20','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','scp2','Client','request-promise','./../../server/classroom/connection/','exports','get','find','json','post','/api/users','authenticate','local-signup','status','send','message','MultiUserAccess','connected','logIn','body','socketId','REGISTER.CREATED','user','Error','/api/users/:User_Id','findOne','params','User_Id','toLowerCase','trim','put','generateHash','password','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','delete','username','SocketVariables','fusion_program_running','User','KillProgram','logout','remove','removeFileSystem','Successfully\x20deleted','/api/users/login','local-login','LOGIN.SUCCESS','LOGIN.MULTIUSER_DENIED','/api/users/cloudLogin','POST','exec','login','create','Error\x20with\x20request\x20promise.\x20','/api/users/logout','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','local-recovery','Login\x20Successful','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','unshift','Admin','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','Editor','Blockly','verbose','Getting\x20data\x20for\x20','filename','/Editor','name','push','/Blockly','debug','floor','mtimeMs','Remote\x20mtime:\x20','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','Local\x20mtime:\x20','\x20not\x20a\x20common\x20file!','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Error\x20uploading\x20file:\x20'];(function(_0x442c10,_0x4eb724){var _0x2c9811=function(_0x2bb105){while(--_0x2bb105){_0x442c10['push'](_0x442c10['shift']());}};_0x2c9811(++_0x4eb724);}(_0x1af0,0x12b));var _0x21a6=function(_0x1f1a1f,_0x346625){_0x1f1a1f=_0x1f1a1f-0x0;var _0x1e9c55=_0x1af0[_0x1f1a1f];return _0x1e9c55;};var SCP=require(_0x21a6('0x0'));var SSH=require('ssh2')[_0x21a6('0x1')];var fs=require('fs-extra');var path=require('path');var rp=require(_0x21a6('0x2'));const classroomConnection=require(_0x21a6('0x3'));const winston=require('winston');module[_0x21a6('0x4')]=function(_0x3e3874,_0x39d216,_0xf7f9d1,_0x43b183,_0x4ab65e,_0x5614f0){_0x3e3874[_0x21a6('0x5')]('/api/users',_0x596650(),function(_0x2a5d5a,_0x14619e){_0x39d216[_0x21a6('0x6')]({'usergroup':{'$ne':'Guest'}},function(_0x482465,_0xf78d09){if(_0x482465)_0x14619e['send'](_0x482465);_0x14619e[_0x21a6('0x7')](_0xf78d09);});});_0x3e3874[_0x21a6('0x8')](_0x21a6('0x9'),function(_0x1cc354,_0x29041a,_0x250c4c){_0xf7f9d1[_0x21a6('0xa')](_0x21a6('0xb'),async function(_0x5dfb4f,_0x50c1f3,_0x4e1789){if(_0x5dfb4f)return _0x29041a[_0x21a6('0xc')](0x1f4)[_0x21a6('0xd')](_0x5dfb4f);if(_0x4e1789&&_0x4e1789[_0x21a6('0xe')])return _0x29041a[_0x21a6('0xc')](0x1f4)['send'](_0x1cc354['__'](_0x4e1789[_0x21a6('0xe')]));if(_0x5614f0[_0x21a6('0xf')]){if(classroomConnection[_0x21a6('0x10')]){await _0x3bba6c(_0x50c1f3);}_0x1cc354[_0x21a6('0x11')](_0x50c1f3,function(_0x5dfb4f){if(_0x5dfb4f){return _0x250c4c(_0x5dfb4f);}_0x3724d3(_0x1cc354[_0x21a6('0x12')][_0x21a6('0x13')],_0x50c1f3);return _0x29041a[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x1cc354['__'](_0x21a6('0x14')),'user':_0x50c1f3});});}else{if(_0x4b9caf()==0x0){_0x3724d3(_0x1cc354[_0x21a6('0x12')]['socketId'],_0x50c1f3);if(classroomConnection[_0x21a6('0x10')]){await _0x3bba6c(_0x50c1f3);}_0x1cc354[_0x21a6('0x11')](_0x50c1f3,function(_0x5dfb4f){if(_0x5dfb4f){return _0x250c4c(_0x5dfb4f);}_0x3724d3(_0x1cc354['body'][_0x21a6('0x13')],_0x50c1f3);return _0x29041a[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x1cc354['__'](_0x21a6('0x14')),'user':_0x50c1f3});});}else{return _0x29041a['status'](0x1f4)[_0x21a6('0xd')](_0x1cc354['__']('REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED'));}}})(_0x1cc354,_0x29041a,_0x250c4c);});_0x3e3874[_0x21a6('0x8')](_0x21a6('0x9'),_0xf7f9d1[_0x21a6('0xa')](_0x21a6('0xb'),{'session':!![]}),function(_0x31d5f3,_0x4f336e){if(_0x31d5f3[_0x21a6('0x15')][_0x21a6('0x16')]){return _0x4f336e[_0x21a6('0xc')](0x1f4)['send'](_0x31d5f3[_0x21a6('0x15')][_0x21a6('0x16')]);}else{}});_0x3e3874[_0x21a6('0x5')](_0x21a6('0x17'),_0x596650(),function(_0x13714c,_0x45dcee){_0x39d216[_0x21a6('0x18')]({'username':_0x13714c[_0x21a6('0x19')][_0x21a6('0x1a')][_0x21a6('0x1b')]()[_0x21a6('0x1c')]()},function(_0x582a61,_0x139d57){if(_0x582a61)_0x45dcee['send'](_0x582a61);_0x45dcee[_0x21a6('0x7')](_0x139d57);});});_0x3e3874[_0x21a6('0x1d')](_0x21a6('0x17'),_0x596650(),function(_0x1e445a,_0x5bed29){_0x39d216[_0x21a6('0x18')]({'username':_0x1e445a[_0x21a6('0x19')][_0x21a6('0x1a')][_0x21a6('0x1b')]()[_0x21a6('0x1c')]()},function(_0x25ffca,_0x40d109){if(_0x25ffca)_0x5bed29[_0x21a6('0xd')](_0x25ffca);if(_0x1e445a['body']['password']){_0x40d109['password']=_0x40d109[_0x21a6('0x1e')](_0x1e445a[_0x21a6('0x12')][_0x21a6('0x1f')]);}if(_0x1e445a[_0x21a6('0x12')][_0x21a6('0x20')]){_0x40d109['firstname']=_0x1e445a['body'][_0x21a6('0x20')];}if(_0x1e445a['body'][_0x21a6('0x21')]){_0x40d109[_0x21a6('0x21')]=_0x1e445a[_0x21a6('0x12')][_0x21a6('0x21')];}if(_0x1e445a[_0x21a6('0x12')]['language']){_0x40d109[_0x21a6('0x22')]=_0x1e445a[_0x21a6('0x12')][_0x21a6('0x22')];}if(_0x1e445a[_0x21a6('0x12')][_0x21a6('0x23')]){_0x40d109[_0x21a6('0x23')]=_0x1e445a[_0x21a6('0x12')]['email'];}if(_0x1e445a[_0x21a6('0x12')][_0x21a6('0x24')]){_0x40d109[_0x21a6('0x24')]=_0x1e445a[_0x21a6('0x12')]['defaultprogramminglanguage'];}if(_0x1e445a[_0x21a6('0x12')]['securityquestion']){_0x40d109['securityquestion']=_0x1e445a['body'][_0x21a6('0x25')];}if(_0x1e445a[_0x21a6('0x12')][_0x21a6('0x26')]){_0x40d109[_0x21a6('0x26')]=_0x1e445a[_0x21a6('0x12')][_0x21a6('0x26')];}if(_0x1e445a['body'][_0x21a6('0x27')]){_0x40d109[_0x21a6('0x27')]=_0x1e445a[_0x21a6('0x12')][_0x21a6('0x27')];}_0x40d109[_0x21a6('0x28')](function(_0x25ffca){if(_0x25ffca)_0x5bed29[_0x21a6('0xc')](0x1f4)[_0x21a6('0xd')](_0x25ffca);_0x5bed29[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x21a6('0x29')});});});});_0x3e3874[_0x21a6('0x2a')](_0x21a6('0x17'),_0x596650(),function(_0x56729c,_0x1ffabe){if(_0x56729c['params'][_0x21a6('0x1a')][_0x21a6('0x1b')]()[_0x21a6('0x1c')]()==_0x56729c[_0x21a6('0x15')][_0x21a6('0x2b')]){if(_0x5614f0[_0x21a6('0x2c')][_0x21a6('0x2d')])if(_0x5614f0[_0x21a6('0x2c')][_0x21a6('0x2d')][_0x21a6('0x2e')]==_0x56729c['user'][_0x21a6('0x2b')])_0x43b183[_0x21a6('0x2f')]();_0x29d4b9(_0x56729c[_0x21a6('0x15')][_0x21a6('0x2b')]);_0x56729c[_0x21a6('0x30')]();}_0x39d216[_0x21a6('0x31')]({'username':_0x56729c[_0x21a6('0x19')][_0x21a6('0x1a')]['toLowerCase']()[_0x21a6('0x1c')]()},function(_0x2876ba,_0x38bcdb){if(_0x2876ba)return _0x1ffabe[_0x21a6('0xd')](_0x2876ba);_0x39d216[_0x21a6('0x32')](_0x56729c['params'][_0x21a6('0x1a')][_0x21a6('0x1b')]()[_0x21a6('0x1c')]());return _0x1ffabe[_0x21a6('0xc')](0xc8)['json']({'serverMessage':_0x21a6('0x33')});});});_0x3e3874[_0x21a6('0x8')](_0x21a6('0x34'),function(_0x108b77,_0x3aa3ee,_0x1428de){_0xf7f9d1[_0x21a6('0xa')](_0x21a6('0x35'),async function(_0x541c43,_0x580e58,_0x5b90e7){if(_0x541c43)return _0x3aa3ee['status'](0x1f4)[_0x21a6('0xd')](_0x108b77['__'](_0x541c43[_0x21a6('0xe')]));if(!_0x580e58)return _0x3aa3ee[_0x21a6('0xc')](0x191)[_0x21a6('0xd')](_0x108b77['__'](_0x5b90e7['message']));if(_0x5614f0[_0x21a6('0xf')]){if(classroomConnection[_0x21a6('0x10')]){await _0x3bba6c(_0x580e58);}_0x108b77[_0x21a6('0x11')](_0x580e58,function(_0x541c43){if(_0x541c43){return _0x1428de(_0x541c43);}_0x3724d3(_0x108b77['body'][_0x21a6('0x13')],_0x580e58);return _0x3aa3ee['status'](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x108b77['__'](_0x21a6('0x36')),'user':_0x580e58});});}else{if(_0x4b9caf()==0x0){_0x3724d3(_0x108b77[_0x21a6('0x12')][_0x21a6('0x13')],_0x580e58);if(classroomConnection['connected']){await _0x3bba6c(_0x580e58);}_0x108b77['logIn'](_0x580e58,function(_0x541c43){if(_0x541c43){return _0x1428de(_0x541c43);}_0x3724d3(_0x108b77[_0x21a6('0x12')][_0x21a6('0x13')],_0x580e58);return _0x3aa3ee[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x108b77['__']('LOGIN.SUCCESS'),'user':_0x580e58});});}else{return _0x3aa3ee[_0x21a6('0xc')](0x1f4)[_0x21a6('0xd')](_0x108b77['__'](_0x21a6('0x37')));}}})(_0x108b77,_0x3aa3ee,_0x1428de);});_0x3e3874[_0x21a6('0x8')](_0x21a6('0x38'),async function(_0x46b161,_0x32dcdb){console['log']('in\x20cloud\x20login');var _0x56dbdf={'method':_0x21a6('0x39'),'uri':'https://172.16.0.1/backend/auth/ldap','body':{'username':_0x46b161['body'][_0x21a6('0x2b')],'password':_0x46b161[_0x21a6('0x12')]['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x34bd13=await rp(_0x56dbdf);let _0x1e6fb1=await _0x39d216[_0x21a6('0x18')]({'username':_0x46b161[_0x21a6('0x12')][_0x21a6('0x2b')]})[_0x21a6('0x3a')]();if(_0x1e6fb1){return _0x32dcdb[_0x21a6('0xc')](0xc8)[_0x21a6('0xd')](_0x21a6('0x3b'));}else{return _0x32dcdb[_0x21a6('0xc')](0xc8)['send'](_0x21a6('0x3c'));}}catch(_0x503ad3){console['log'](_0x21a6('0x3d')+_0x503ad3);return _0x32dcdb[_0x21a6('0xc')](0x1f4)['send'](_0x503ad3);}});_0x3e3874[_0x21a6('0x8')](_0x21a6('0x3e'),_0x596650(),function(_0x1cc557,_0x29c45a){if(_0x5614f0[_0x21a6('0x2c')][_0x21a6('0x2d')])if(_0x5614f0[_0x21a6('0x2c')][_0x21a6('0x2d')][_0x21a6('0x2e')]==_0x1cc557[_0x21a6('0x15')]['username'])_0x43b183['KillProgram']();_0x100464(_0x1cc557[_0x21a6('0x12')][_0x21a6('0x13')]);_0x1cc557[_0x21a6('0x30')]();_0x29c45a[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x21a6('0x3f')});});_0x3e3874[_0x21a6('0x5')](_0x21a6('0x40'),function(_0x2922f9,_0x43d307){_0x39d216[_0x21a6('0x18')]({'username':_0x2922f9[_0x21a6('0x19')]['User_Id'][_0x21a6('0x1b')]()['trim']()},function(_0xdb0244,_0xefb955){if(_0xdb0244)return _0x43d307[_0x21a6('0xc')](0x1f4)['send'](_0xdb0244);if(!_0xefb955)return _0x43d307[_0x21a6('0xc')](0x1f4)[_0x21a6('0xd')](_0x21a6('0x41'));else return _0x43d307[_0x21a6('0xc')](0xc8)[_0x21a6('0x7')](_0xefb955[_0x21a6('0x25')]);});});_0x3e3874['post'](_0x21a6('0x42'),_0xf7f9d1[_0x21a6('0xa')](_0x21a6('0x43'),{'session':!![]}),function(_0x37d56a,_0x549837){if(_0x5614f0[_0x21a6('0xf')]){if(classroomConnection['connected']){_0x3bba6c(_0x37d56a[_0x21a6('0x15')]);}_0x3724d3(_0x37d56a['body'][_0x21a6('0x13')],_0x37d56a[_0x21a6('0x15')]);return _0x549837['status'](0xc8)[_0x21a6('0x7')]({'serverMessage':_0x21a6('0x44'),'user':_0x37d56a[_0x21a6('0x15')]});}else{if(_0x4b9caf()==0x0){_0x3724d3(_0x37d56a[_0x21a6('0x12')]['socketId'],_0x37d56a[_0x21a6('0x15')]);if(classroomConnection[_0x21a6('0x10')]){_0x3bba6c(_0x37d56a[_0x21a6('0x15')]);}return _0x549837[_0x21a6('0xc')](0xc8)['json']({'serverMessage':_0x21a6('0x44'),'user':_0x37d56a[_0x21a6('0x15')]});}else{_0x37d56a[_0x21a6('0x30')]();return _0x549837['status'](0x1f4)[_0x21a6('0xd')](_0x21a6('0x45'));}}});_0x3e3874[_0x21a6('0x5')](_0x21a6('0x46'),function(_0x3a143b,_0x1408bd){var _0x21ae62=[_0x21a6('0x2e')];_0x39d216['findOne']({'usergroup':'Admin'},function(_0xdefe51,_0x1311d5){if(_0xdefe51)return _0x1408bd[_0x21a6('0xc')](0xc8)[_0x21a6('0xd')](_0x21ae62);if(!_0x1311d5)_0x21ae62[_0x21a6('0x47')](_0x21a6('0x48'));return _0x1408bd[_0x21a6('0xc')](0xc8)[_0x21a6('0xd')](_0x21ae62);});});function _0x4b9caf(){var _0x524993=0x0;for(var _0x31b2e4=0x0;_0x31b2e4<_0x5614f0[_0x21a6('0x49')][_0x21a6('0x4a')];_0x31b2e4++){if(_0x5614f0['connectedClients'][_0x31b2e4][_0x21a6('0x2e')]){_0x524993++;}}return _0x524993;}function _0x3724d3(_0x1378c1,_0x119f67){for(var _0x132b73=0x0;_0x132b73<_0x5614f0[_0x21a6('0x49')]['length'];_0x132b73++){if(_0x5614f0[_0x21a6('0x49')][_0x132b73]['id']==_0x1378c1){_0x5614f0['connectedClients'][_0x132b73][_0x21a6('0x2e')]=_0x119f67;break;}}}function _0x100464(_0x4b5b40){for(var _0x4db9ec=0x0;_0x4db9ec<_0x5614f0[_0x21a6('0x49')]['length'];_0x4db9ec++){if(_0x5614f0[_0x21a6('0x49')][_0x4db9ec]['id']==_0x4b5b40){_0x5614f0[_0x21a6('0x49')][_0x4db9ec][_0x21a6('0x2e')]=undefined;break;}}}function _0x29d4b9(_0x2f445d){for(var _0x1cf529=0x0;_0x1cf529<_0x5614f0[_0x21a6('0x49')]['length'];_0x1cf529++){if(_0x5614f0['connectedClients'][_0x1cf529][_0x21a6('0x2e')][_0x21a6('0x2b')]==_0x2f445d){_0x5614f0[_0x21a6('0x49')][_0x1cf529][_0x21a6('0x2e')]=undefined;break;}}}function _0x596650(){return function(_0x4c5166,_0xea3512,_0x75b0c1){if(_0x4c5166[_0x21a6('0x4b')]()){return _0x75b0c1();}else{return _0xea3512['status'](0x191)[_0x21a6('0xd')](_0x21a6('0x4c'));}};}async function _0x3bba6c(_0x19d074){try{await _0x3c4318(_0x19d074);}catch(_0x5435cb){winston[_0x21a6('0x4d')](_0x5435cb);winston['info'](_0x21a6('0x4e')+_0x19d074[_0x21a6('0x2b')]);}};function _0x3c4318(_0x2b4850){return new Promise(function(_0x5dda57,_0xb4dae0){var _0x259d35=new SSH();_0x259d35['on'](_0x21a6('0x4f'),function(){_0x259d35[_0x21a6('0x50')](async function(_0x45bb17,_0x2a8fb6){if(_0x45bb17){winston[_0x21a6('0x4d')](_0x21a6('0x51')+_0x45bb17);_0x259d35[_0x21a6('0x52')]();return _0xb4dae0(_0x45bb17);}try{await _0x21b0dd(_0x2a8fb6);await _0x18f44c(_0x2a8fb6,_0x2b4850[_0x21a6('0x2b')]);await _0x5dc0f7(_0x2a8fb6,_0x2b4850[_0x21a6('0x2b')]);await _0x47803e(_0x2a8fb6,_0x2b4850[_0x21a6('0x2b')]);let _0x3bd833=await _0x56ea36(_0x2a8fb6,_0x2b4850['username']);winston[_0x21a6('0x4d')](JSON[_0x21a6('0x53')](_0x3bd833));let _0x24fb88=await _0x3a7c4c(_0x2b4850[_0x21a6('0x54')]);winston[_0x21a6('0x4d')](JSON[_0x21a6('0x53')](_0x24fb88));await _0x15ce68(_0x2a8fb6,_0x2b4850,_0x3bd833,_0x24fb88);_0x259d35[_0x21a6('0x52')]();return _0x5dda57();}catch(_0x4cce6a){winston['info'](_0x4cce6a);_0x259d35[_0x21a6('0x52')]();return _0xb4dae0(_0x4cce6a);}});})[_0x21a6('0x55')]({'host':'10.200.200.1','port':0x16,'username':'c3','password':_0x21a6('0x56')});});};function _0x21b0dd(_0x53c4f0){return new Promise(function(_0x38f073,_0x28c405){_0x53c4f0[_0x21a6('0x57')](_0x21a6('0x58'),function(_0x1de05d){if(_0x1de05d){_0x53c4f0[_0x21a6('0x59')](_0x21a6('0x58'),function(_0x315942){if(_0x315942){return _0x28c405(_0x21a6('0x5a')+_0x315942);}else{winston['info'](_0x21a6('0x5b'));return _0x38f073();}});}else{winston[_0x21a6('0x4d')](_0x21a6('0x5c'));return _0x38f073();}});});};function _0x18f44c(_0x380647,_0x44419f){return new Promise(function(_0x22db89,_0x394e05){_0x380647[_0x21a6('0x57')](_0x21a6('0x58')+_0x44419f,function(_0x14cfa9){if(_0x14cfa9){_0x380647['mkdir'](_0x21a6('0x58')+_0x44419f,function(_0x1d6d01){if(_0x1d6d01){return _0x394e05(_0x21a6('0x5d')+_0x1d6d01);}else{winston[_0x21a6('0x4d')]('User\x27s\x20classroom\x20file\x20system\x20created');return _0x22db89();}});}else{winston[_0x21a6('0x4d')](_0x21a6('0x5e'));return _0x22db89();}});});};function _0x5dc0f7(_0x195ccb,_0x559a20){return new Promise(function(_0x84c64e,_0x46ac67){_0x195ccb[_0x21a6('0x57')](_0x21a6('0x58')+_0x559a20+_0x21a6('0x5f'),function(_0x4a4850){if(_0x4a4850){_0x195ccb['mkdir'](_0x21a6('0x58')+_0x559a20+_0x21a6('0x5f'),function(_0x5aa34c){if(_0x5aa34c){return _0x46ac67('Error\x20creating\x20user\x27s\x20editor\x20directory:\x20'+_0x5aa34c);}else{winston['info'](_0x21a6('0x60'));return _0x84c64e();}});}else{winston[_0x21a6('0x4d')](_0x21a6('0x61'));return _0x84c64e();}});});};function _0x47803e(_0x4e2a41,_0x59e0ce){return new Promise(function(_0xe02c70,_0x821b74){_0x4e2a41[_0x21a6('0x57')]('/home/c3/FusionFilesystem/'+_0x59e0ce+_0x21a6('0x62'),function(_0x18b137){if(_0x18b137){_0x4e2a41['mkdir'](_0x21a6('0x58')+_0x59e0ce+_0x21a6('0x62'),function(_0x573f1b){if(_0x573f1b){return _0x821b74('Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20'+_0x573f1b);}else{winston[_0x21a6('0x4d')](_0x21a6('0x63'));return _0xe02c70();}});}else{winston[_0x21a6('0x4d')](_0x21a6('0x64'));return _0xe02c70();}});});};function _0x56ea36(_0x2b9258,_0x5855db){return new Promise(async function(_0x2ce765,_0x1c55c2){try{let _0x50c8a2={};_0x50c8a2[_0x21a6('0x65')]=await _0x1020e0(_0x2b9258,_0x5855db);_0x50c8a2[_0x21a6('0x66')]=await _0x2112be(_0x2b9258,_0x5855db);return _0x2ce765(_0x50c8a2);}catch(_0x38a03d){return _0x1c55c2(_0x38a03d);}});};function _0x1020e0(_0x2200d2,_0xf10323){return new Promise(function(_0x5638a6,_0x4f30f5){_0x2200d2['readdir']('/home/c3/FusionFilesystem/'+_0xf10323+'/Editor/',function(_0x41a67e,_0xb4e4a9){if(_0x41a67e)return _0x4f30f5(_0x41a67e);let _0x1ee37c=[];for(let _0xd82566=0x0;_0xd82566<_0xb4e4a9[_0x21a6('0x4a')];_0xd82566++){winston[_0x21a6('0x67')](_0x21a6('0x68')+_0xb4e4a9[_0xd82566][_0x21a6('0x69')]);_0x1ee37c['push'](_0xb4e4a9[_0xd82566]);}return _0x5638a6(_0x1ee37c);});});};function _0x2112be(_0x20cf7e,_0x3f5a11){return new Promise(function(_0xa6d43a,_0x27f9ab){_0x20cf7e[_0x21a6('0x57')](_0x21a6('0x58')+_0x3f5a11+_0x21a6('0x62'),function(_0x50f795,_0x32fd6d){if(_0x50f795)return _0x27f9ab(_0x50f795);let _0x405d88=[];for(let _0xb54715=0x0;_0xb54715<_0x32fd6d[_0x21a6('0x4a')];_0xb54715++){winston['verbose']('Getting\x20data\x20for\x20'+_0x32fd6d[_0xb54715][_0x21a6('0x69')]);_0x405d88['push'](_0x32fd6d[_0xb54715]);}return _0xa6d43a(_0x405d88);});});};function _0x3a7c4c(_0x56ed46){return new Promise(async function(_0x29d3aa,_0xb7c54d){try{let _0x240689={};_0x240689[_0x21a6('0x65')]=await _0x426aef(_0x56ed46);_0x240689[_0x21a6('0x66')]=await _0x38b446(_0x56ed46);return _0x29d3aa(_0x240689);}catch(_0x5ec0c2){return _0xb7c54d(_0x5ec0c2);}});};function _0x426aef(_0x1dbc76){return new Promise(async function(_0x485fd7,_0x207bca){try{let _0x28c48f=[];let _0x4665c4=await fs[_0x21a6('0x57')](_0x1dbc76+_0x21a6('0x6a'));for(let _0x4b2eb6=0x0;_0x4b2eb6<_0x4665c4[_0x21a6('0x4a')];_0x4b2eb6++){winston[_0x21a6('0x67')](_0x21a6('0x68')+_0x4665c4[_0x4b2eb6]);let _0xe9e2c2=await fs['stat'](_0x1dbc76+_0x21a6('0x5f')+_0x4665c4[_0x4b2eb6]);_0xe9e2c2[_0x21a6('0x6b')]=_0x4665c4[_0x4b2eb6];_0x28c48f[_0x21a6('0x6c')](_0xe9e2c2);}return _0x485fd7(_0x28c48f);}catch(_0x4f13e5){return _0x207bca(_0x4f13e5);}});};function _0x38b446(_0x5b8211){return new Promise(async function(_0x414d20,_0x47d6e0){try{let _0x4de826=[];let _0x1d3770=await fs[_0x21a6('0x57')](_0x5b8211+_0x21a6('0x6d'));for(let _0x4ec1ad=0x0;_0x4ec1ad<_0x1d3770[_0x21a6('0x4a')];_0x4ec1ad++){winston[_0x21a6('0x67')](_0x21a6('0x68')+_0x1d3770[_0x4ec1ad]);let _0x63e2f9=await fs['stat'](_0x5b8211+_0x21a6('0x62')+_0x1d3770[_0x4ec1ad]);_0x63e2f9[_0x21a6('0x6b')]=_0x1d3770[_0x4ec1ad];_0x4de826[_0x21a6('0x6c')](_0x63e2f9);}return _0x414d20(_0x4de826);}catch(_0x4f28b6){return _0x47d6e0(_0x4f28b6);}});};function _0x15ce68(_0x3584ce,_0x378a02,_0x4ca3b3,_0x1ceb25){return new Promise(async function(_0x108a8b,_0x29957e){try{for(let _0x51a5de=0x0;_0x51a5de<_0x4ca3b3[_0x21a6('0x65')][_0x21a6('0x4a')];_0x51a5de++){let _0x21b8f2=![];for(let _0x2e7248=0x0;_0x2e7248<_0x1ceb25[_0x21a6('0x65')][_0x21a6('0x4a')];_0x2e7248++){if(_0x1ceb25[_0x21a6('0x65')][_0x2e7248]['name']==_0x4ca3b3[_0x21a6('0x65')][_0x51a5de]['filename']){winston[_0x21a6('0x6e')]('Local\x20mtime:\x20'+Math[_0x21a6('0x6f')](_0x1ceb25[_0x21a6('0x65')][_0x2e7248][_0x21a6('0x70')]/0x3e8));winston[_0x21a6('0x6e')](_0x21a6('0x71')+_0x4ca3b3['Editor'][_0x51a5de][_0x21a6('0x72')][_0x21a6('0x73')]);if(Math[_0x21a6('0x6f')](_0x1ceb25[_0x21a6('0x65')][_0x2e7248][_0x21a6('0x70')]/0x3e8)>_0x4ca3b3[_0x21a6('0x65')][_0x51a5de][_0x21a6('0x72')][_0x21a6('0x73')]){_0x21b8f2=!![];winston[_0x21a6('0x67')](_0x21a6('0x74')+_0x1ceb25[_0x21a6('0x65')][_0x2e7248][_0x21a6('0x6b')]+_0x21a6('0x75'));try{await _0x2c0d0d(_0x3584ce,_0x378a02,_0x4ca3b3[_0x21a6('0x65')][_0x51a5de][_0x21a6('0x69')],_0x21a6('0x65'));}catch(_0x35735f){return _0x29957e(_0x35735f);}break;}else{_0x21b8f2=!![];winston[_0x21a6('0x67')](_0x21a6('0x76')+_0x1ceb25['Editor'][_0x2e7248][_0x21a6('0x6b')]+_0x21a6('0x77'));try{await _0x5cb6eb(_0x3584ce,_0x378a02,_0x4ca3b3[_0x21a6('0x65')][_0x51a5de]['filename'],_0x21a6('0x65'));}catch(_0x3d5ec6){winston['debug'](_0x21a6('0x78')+_0x3d5ec6);return _0x29957e(_0x3d5ec6);}break;}}}if(!_0x21b8f2){winston[_0x21a6('0x67')](_0x4ca3b3[_0x21a6('0x65')][_0x51a5de][_0x21a6('0x69')]+'\x20not\x20a\x20common\x20file!');try{await _0x5cb6eb(_0x3584ce,_0x378a02,_0x4ca3b3[_0x21a6('0x65')][_0x51a5de][_0x21a6('0x69')],_0x21a6('0x65'));}catch(_0x2200b1){return _0x29957e(_0x2200b1);}}}for(let _0x584f92=0x0;_0x584f92<_0x4ca3b3[_0x21a6('0x66')][_0x21a6('0x4a')];_0x584f92++){let _0x21b8f2=![];for(let _0x2e7248=0x0;_0x2e7248<_0x1ceb25['Blockly']['length'];_0x2e7248++){if(_0x1ceb25[_0x21a6('0x66')][_0x2e7248][_0x21a6('0x6b')]==_0x4ca3b3[_0x21a6('0x66')][_0x584f92][_0x21a6('0x69')]){winston[_0x21a6('0x6e')](_0x21a6('0x79')+Math['floor'](_0x1ceb25[_0x21a6('0x66')][_0x2e7248][_0x21a6('0x70')]/0x3e8));winston['debug'](_0x21a6('0x71')+_0x4ca3b3['Blockly'][_0x584f92]['attrs'][_0x21a6('0x73')]);if(Math[_0x21a6('0x6f')](_0x1ceb25[_0x21a6('0x66')][_0x2e7248][_0x21a6('0x70')]/0x3e8)>_0x4ca3b3[_0x21a6('0x66')][_0x584f92][_0x21a6('0x72')][_0x21a6('0x73')]){_0x21b8f2=!![];winston['verbose']('Local\x20\x22'+_0x1ceb25[_0x21a6('0x66')][_0x2e7248][_0x21a6('0x6b')]+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x2c0d0d(_0x3584ce,_0x378a02,_0x4ca3b3[_0x21a6('0x66')][_0x584f92][_0x21a6('0x69')],_0x21a6('0x66'));}catch(_0x387c81){return _0x29957e(_0x387c81);}break;}else{_0x21b8f2=!![];winston[_0x21a6('0x67')](_0x21a6('0x76')+_0x1ceb25[_0x21a6('0x66')][_0x2e7248][_0x21a6('0x6b')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x5cb6eb(_0x3584ce,_0x378a02,_0x4ca3b3['Blockly'][_0x584f92][_0x21a6('0x69')],_0x21a6('0x66'));}catch(_0x5a939e){winston[_0x21a6('0x6e')](_0x21a6('0x78')+_0x5a939e);return _0x29957e(_0x5a939e);}break;}}}if(!_0x21b8f2){winston['verbose'](_0x4ca3b3['Blockly'][_0x584f92][_0x21a6('0x69')]+_0x21a6('0x7a'));try{await _0x5cb6eb(_0x3584ce,_0x378a02,_0x4ca3b3[_0x21a6('0x66')][_0x584f92][_0x21a6('0x69')],_0x21a6('0x66'));}catch(_0xebaddb){return _0x29957e(_0xebaddb);}}}return _0x108a8b();}catch(_0xd286a3){return _0x29957e(_0xd286a3);}});};function _0x2c0d0d(_0x2542e9,_0xf61157,_0x55845e,_0x521bc1){return new Promise((_0x57474f,_0xc9176f)=>{try{let _0x54f371=_0x21a6('0x58')+_0xf61157[_0x21a6('0x2b')]+'/'+_0x521bc1+'/'+_0x55845e;let _0x9ac33a=_0xf61157[_0x21a6('0x54')]+'/'+_0x521bc1+'/'+_0x55845e;winston[_0x21a6('0x67')](_0x21a6('0x7b')+_0x54f371);winston['verbose'](_0x21a6('0x7c')+_0x9ac33a);_0x2542e9[_0x21a6('0x7d')](_0x9ac33a,_0x54f371,{},function(_0xd64924){if(_0xd64924){winston[_0x21a6('0x6e')](_0x21a6('0x7e')+_0x55845e);return _0xc9176f(_0xd64924);}winston[_0x21a6('0x4d')](_0x21a6('0x7f')+_0x55845e);return _0x57474f();});}catch(_0x44047f){return _0xc9176f(_0x44047f);}});};function _0x5cb6eb(_0x39206a,_0x3fda98,_0xb9261d,_0x1340f3){return new Promise((_0x24b47f,_0x7addb5)=>{try{let _0x4e3c17=_0x21a6('0x58')+_0x3fda98[_0x21a6('0x2b')]+'/'+_0x1340f3+'/'+_0xb9261d;let _0x531412=_0x3fda98[_0x21a6('0x54')]+'/'+_0x1340f3+'/'+_0xb9261d;winston[_0x21a6('0x67')](_0x21a6('0x7b')+_0x4e3c17);winston[_0x21a6('0x67')](_0x21a6('0x7c')+_0x531412);_0x39206a[_0x21a6('0x80')](_0x4e3c17,_0x531412,{},function(_0x8c4b13){if(_0x8c4b13){winston[_0x21a6('0x6e')]('Error\x20downloading\x20file:\x20'+_0xb9261d);return _0x7addb5(_0x8c4b13);}winston[_0x21a6('0x4d')]('Retrieved\x20'+_0xb9261d);return _0x24b47f();});}catch(_0x4ec0ae){return _0x7addb5(_0x4ec0ae);}});};function _0x1f6d65(_0x2f580a,_0x3c7058,_0x1792bd,_0x434ed4){_0x2f580a['readdir'](_0x21a6('0x58')+_0x3c7058['username'],function(_0x32416a){if(_0x32416a){console['log'](_0x21a6('0x81')+_0x32416a);_0x2f580a[_0x21a6('0x59')](_0x21a6('0x58')+_0x3c7058[_0x21a6('0x2b')],function(_0x3b7725){if(_0x3b7725){console[_0x21a6('0x82')](_0x21a6('0x83')+_0x3b7725);throw _0x3b7725;}console['log'](_0x21a6('0x84'));_0x2f580a['mkdir'](_0x21a6('0x58')+_0x3c7058[_0x21a6('0x2b')]+_0x21a6('0x5f'),function(_0x643420){if(_0x643420){console[_0x21a6('0x82')](_0x21a6('0x85')+_0x643420);throw _0x643420;}console['log']('Editor\x20directory\x20created');_0x2f580a[_0x21a6('0x59')](_0x21a6('0x58')+_0x3c7058[_0x21a6('0x2b')]+_0x21a6('0x62'),function(_0x555a50){if(_0x555a50){console[_0x21a6('0x82')](_0x21a6('0x86')+_0x555a50);throw _0x555a50;}console[_0x21a6('0x82')](_0x21a6('0x87'));_0x434ed4(_0x2f580a,_0x3c7058,_0x1792bd);});});});}_0x434ed4(_0x2f580a,_0x3c7058,_0x1792bd);});};function _0x2edaf4(_0x2ebbcc,_0x26bf4a,_0x388449){_0x2ebbcc[_0x21a6('0x57')](_0x21a6('0x58')+_0x26bf4a[_0x21a6('0x2b')]+'/Editor/',function(_0x2d2cd7,_0x56dbb4){if(_0x2d2cd7){console[_0x21a6('0x82')]('Error\x20reading\x20classroom\x20editor\x20files:\x20'+_0x2d2cd7);throw _0x2d2cd7;}_0x5204cd(_0x26bf4a,_0x21a6('0x65'),_0x56dbb4,_0x388449);});_0x2ebbcc['readdir'](_0x21a6('0x58')+_0x26bf4a[_0x21a6('0x2b')]+_0x21a6('0x62'),function(_0xeb7d47,_0x5ae7b9){if(_0xeb7d47){console[_0x21a6('0x82')]('Error\x20reading\x20classroom\x20blockly\x20files:\x20'+_0xeb7d47);throw _0xeb7d47;}_0x5204cd(_0x26bf4a,_0x21a6('0x66'),_0x5ae7b9,_0x388449);});};function _0x5204cd(_0x177c23,_0x2ce201,_0x48ef32,_0xebf501){console[_0x21a6('0x82')](_0x21a6('0x88'));if(_0x2ce201==_0x21a6('0x66')&&_0x48ef32['length']==0x0){_0xebf501['end']();}for(var _0x2d8071=0x0;_0x2d8071<_0x48ef32[_0x21a6('0x4a')];_0x2d8071++){let _0x57f42e=_0x21a6('0x58')+_0x177c23['username']+'/'+_0x2ce201+'/'+_0x48ef32[_0x2d8071][_0x21a6('0x69')];let _0x48553e=_0x21a6('0x89')+_0x177c23['username']+'/'+_0x2ce201+'/';console['log'](_0x21a6('0x8a')+_0x57f42e+'\x20to\x20'+_0x48553e);SCP['scp'](_0x21a6('0x8b')+_0x57f42e,_0x48553e,function(_0x1f09fa){if(_0x1f09fa){console[_0x21a6('0x82')](_0x21a6('0x8c')+_0x57f42e+_0x21a6('0x8d')+_0x1f09fa);}if(_0x2ce201==_0x21a6('0x66')&&(_0x2d8071=_0x48ef32['length']-0x1)){_0xebf501[_0x21a6('0x52')]();}});}};};