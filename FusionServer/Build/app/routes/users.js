var _0x139d=['Getting\x20data\x20for\x20','stat','name','/Blockly','Editor','debug','floor','mtimeMs','Remote\x20mtime:\x20','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Local\x20mtime:\x20','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Uploaded\x20','Retrieved\x20','log','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','Error\x20creating\x20editor\x20directory:\x20','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','Moving:\x20','\x20to\x20','scp','Error\x20downloading:\x20',',\x20error:\x20','scp2','Client','fs-extra','path','request-promise','./../../server/classroom/connection/','exports','get','/api/users','send','authenticate','local-signup','status','message','MultiUserAccess','connected','logIn','body','socketId','REGISTER.CREATED','json','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','post','Error','user','/api/users/:User_Id','findOne','params','User_Id','toLowerCase','trim','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','User\x20updated!','delete','SocketVariables','fusion_program_running','User','username','KillProgram','logout','remove','removeFileSystem','local-login','LOGIN.SUCCESS','/api/users/cloudLogin','in\x20cloud\x20login','POST','https://172.16.0.1/backend/auth/ldap','create','Error\x20with\x20request\x20promise.\x20','/api/users/logout','Logged\x20out\x20successfully','User\x20does\x20not\x20exist','local-recovery','Login\x20Successful','Admin','connectedClients','length','isAuthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','Blockly','verbose','push','filename'];(function(_0x5600ea,_0x542171){var _0x59484c=function(_0xb52fe8){while(--_0xb52fe8){_0x5600ea['push'](_0x5600ea['shift']());}};_0x59484c(++_0x542171);}(_0x139d,0xad));var _0x37ff=function(_0x432349,_0xbacc4e){_0x432349=_0x432349-0x0;var _0x3e30de=_0x139d[_0x432349];return _0x3e30de;};var SCP=require(_0x37ff('0x0'));var SSH=require('ssh2')[_0x37ff('0x1')];var fs=require(_0x37ff('0x2'));var path=require(_0x37ff('0x3'));var rp=require(_0x37ff('0x4'));const classroomConnection=require(_0x37ff('0x5'));const winston=require('winston');module[_0x37ff('0x6')]=function(_0x193a1b,_0x51bb1a,_0x118307,_0x3c6985,_0x221a9f,_0x44dc26){_0x193a1b[_0x37ff('0x7')](_0x37ff('0x8'),_0xa32bf0(),function(_0x152981,_0xce1663){_0x51bb1a['find']({'usergroup':{'$ne':'Guest'}},function(_0x5a48e4,_0x2720ad){if(_0x5a48e4)_0xce1663[_0x37ff('0x9')](_0x5a48e4);_0xce1663['json'](_0x2720ad);});});_0x193a1b['post']('/api/users',function(_0x34bce3,_0x3de1fa,_0x1b0f2e){_0x118307[_0x37ff('0xa')](_0x37ff('0xb'),async function(_0x6e3abd,_0x7c72c4,_0x28ca42){if(_0x6e3abd)return _0x3de1fa[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')](_0x6e3abd);if(_0x28ca42&&_0x28ca42[_0x37ff('0xd')])return _0x3de1fa[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')](_0x34bce3['__'](_0x28ca42[_0x37ff('0xd')]));if(_0x44dc26[_0x37ff('0xe')]){if(classroomConnection[_0x37ff('0xf')]){await _0x5d924c(_0x7c72c4);}_0x34bce3[_0x37ff('0x10')](_0x7c72c4,function(_0x6e3abd){if(_0x6e3abd){return _0x1b0f2e(_0x6e3abd);}_0x17ef68(_0x34bce3[_0x37ff('0x11')][_0x37ff('0x12')],_0x7c72c4);return _0x3de1fa[_0x37ff('0xc')](0xc8)['json']({'serverMessage':_0x34bce3['__'](_0x37ff('0x13')),'user':_0x7c72c4});});}else{if(_0x506bca()==0x0){_0x17ef68(_0x34bce3[_0x37ff('0x11')][_0x37ff('0x12')],_0x7c72c4);if(classroomConnection['connected']){await _0x5d924c(_0x7c72c4);}_0x34bce3[_0x37ff('0x10')](_0x7c72c4,function(_0x6e3abd){if(_0x6e3abd){return _0x1b0f2e(_0x6e3abd);}_0x17ef68(_0x34bce3[_0x37ff('0x11')][_0x37ff('0x12')],_0x7c72c4);return _0x3de1fa[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')]({'serverMessage':_0x34bce3['__'](_0x37ff('0x13')),'user':_0x7c72c4});});}else{return _0x3de1fa['status'](0x1f4)['send'](_0x34bce3['__'](_0x37ff('0x15')));}}})(_0x34bce3,_0x3de1fa,_0x1b0f2e);});_0x193a1b[_0x37ff('0x16')](_0x37ff('0x8'),_0x118307[_0x37ff('0xa')](_0x37ff('0xb'),{'session':!![]}),function(_0x475e5f,_0x353a29){if(_0x475e5f['user'][_0x37ff('0x17')]){return _0x353a29['status'](0x1f4)[_0x37ff('0x9')](_0x475e5f[_0x37ff('0x18')]['Error']);}else{}});_0x193a1b['get'](_0x37ff('0x19'),_0xa32bf0(),function(_0x59bf17,_0x592547){_0x51bb1a[_0x37ff('0x1a')]({'username':_0x59bf17[_0x37ff('0x1b')][_0x37ff('0x1c')][_0x37ff('0x1d')]()[_0x37ff('0x1e')]()},function(_0x319e84,_0x428a30){if(_0x319e84)_0x592547[_0x37ff('0x9')](_0x319e84);_0x592547[_0x37ff('0x14')](_0x428a30);});});_0x193a1b['put'](_0x37ff('0x19'),_0xa32bf0(),function(_0x2beecf,_0x3bb6d9){_0x51bb1a['findOne']({'username':_0x2beecf[_0x37ff('0x1b')][_0x37ff('0x1c')][_0x37ff('0x1d')]()[_0x37ff('0x1e')]()},function(_0x452803,_0x1755e9){if(_0x452803)_0x3bb6d9[_0x37ff('0x9')](_0x452803);if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x1f')]){_0x1755e9[_0x37ff('0x1f')]=_0x1755e9[_0x37ff('0x20')](_0x2beecf[_0x37ff('0x11')][_0x37ff('0x1f')]);}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x21')]){_0x1755e9[_0x37ff('0x21')]=_0x2beecf[_0x37ff('0x11')]['firstname'];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x22')]){_0x1755e9[_0x37ff('0x22')]=_0x2beecf['body'][_0x37ff('0x22')];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x23')]){_0x1755e9[_0x37ff('0x23')]=_0x2beecf['body'][_0x37ff('0x23')];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x24')]){_0x1755e9[_0x37ff('0x24')]=_0x2beecf[_0x37ff('0x11')][_0x37ff('0x24')];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x25')]){_0x1755e9[_0x37ff('0x25')]=_0x2beecf[_0x37ff('0x11')]['defaultprogramminglanguage'];}if(_0x2beecf['body']['securityquestion']){_0x1755e9[_0x37ff('0x26')]=_0x2beecf[_0x37ff('0x11')][_0x37ff('0x26')];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x27')]){_0x1755e9[_0x37ff('0x27')]=_0x2beecf[_0x37ff('0x11')]['securityanswer'];}if(_0x2beecf[_0x37ff('0x11')][_0x37ff('0x28')]){_0x1755e9['usergroup']=_0x2beecf[_0x37ff('0x11')]['usergroup'];}_0x1755e9['save'](function(_0x452803){if(_0x452803)_0x3bb6d9[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')](_0x452803);_0x3bb6d9[_0x37ff('0xc')](0xc8)['json']({'serverMessage':_0x37ff('0x29')});});});});_0x193a1b[_0x37ff('0x2a')](_0x37ff('0x19'),_0xa32bf0(),function(_0xb4a4be,_0x18e797){if(_0xb4a4be[_0x37ff('0x1b')]['User_Id'][_0x37ff('0x1d')]()[_0x37ff('0x1e')]()==_0xb4a4be[_0x37ff('0x18')]['username']){if(_0x44dc26[_0x37ff('0x2b')][_0x37ff('0x2c')])if(_0x44dc26[_0x37ff('0x2b')]['fusion_program_running'][_0x37ff('0x2d')]==_0xb4a4be['user'][_0x37ff('0x2e')])_0x3c6985[_0x37ff('0x2f')]();_0x1f3134(_0xb4a4be['user'][_0x37ff('0x2e')]);_0xb4a4be[_0x37ff('0x30')]();}_0x51bb1a[_0x37ff('0x31')]({'username':_0xb4a4be[_0x37ff('0x1b')][_0x37ff('0x1c')][_0x37ff('0x1d')]()[_0x37ff('0x1e')]()},function(_0x2121bb,_0x3545a6){if(_0x2121bb)return _0x18e797['send'](_0x2121bb);_0x51bb1a[_0x37ff('0x32')](_0xb4a4be['params'][_0x37ff('0x1c')]['toLowerCase']()[_0x37ff('0x1e')]());return _0x18e797[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')]({'serverMessage':'Successfully\x20deleted'});});});_0x193a1b[_0x37ff('0x16')]('/api/users/login',function(_0xd997a,_0x397f75,_0x55a2a1){_0x118307[_0x37ff('0xa')](_0x37ff('0x33'),async function(_0x339b54,_0x31269d,_0x29b085){if(_0x339b54)return _0x397f75['status'](0x1f4)[_0x37ff('0x9')](_0xd997a['__'](_0x339b54['message']));if(!_0x31269d)return _0x397f75[_0x37ff('0xc')](0x191)[_0x37ff('0x9')](_0xd997a['__'](_0x29b085[_0x37ff('0xd')]));if(_0x44dc26['MultiUserAccess']){if(classroomConnection[_0x37ff('0xf')]){await _0x5d924c(_0x31269d);}_0xd997a['logIn'](_0x31269d,function(_0x339b54){if(_0x339b54){return _0x55a2a1(_0x339b54);}_0x17ef68(_0xd997a[_0x37ff('0x11')]['socketId'],_0x31269d);return _0x397f75[_0x37ff('0xc')](0xc8)['json']({'serverMessage':_0xd997a['__']('LOGIN.SUCCESS'),'user':_0x31269d});});}else{if(_0x506bca()==0x0){_0x17ef68(_0xd997a[_0x37ff('0x11')]['socketId'],_0x31269d);if(classroomConnection[_0x37ff('0xf')]){await _0x5d924c(_0x31269d);}_0xd997a[_0x37ff('0x10')](_0x31269d,function(_0x339b54){if(_0x339b54){return _0x55a2a1(_0x339b54);}_0x17ef68(_0xd997a['body'][_0x37ff('0x12')],_0x31269d);return _0x397f75[_0x37ff('0xc')](0xc8)['json']({'serverMessage':_0xd997a['__'](_0x37ff('0x34')),'user':_0x31269d});});}else{return _0x397f75[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')](_0xd997a['__']('LOGIN.MULTIUSER_DENIED'));}}})(_0xd997a,_0x397f75,_0x55a2a1);});_0x193a1b[_0x37ff('0x16')](_0x37ff('0x35'),async function(_0x467438,_0x4afc3f){console['log'](_0x37ff('0x36'));var _0x2b1786={'method':_0x37ff('0x37'),'uri':_0x37ff('0x38'),'body':{'username':_0x467438[_0x37ff('0x11')][_0x37ff('0x2e')],'password':_0x467438[_0x37ff('0x11')][_0x37ff('0x1f')]},'json':!![],'rejectUnauthorized':![]};try{let _0x48c1c2=await rp(_0x2b1786);let _0x5bf4f7=await _0x51bb1a[_0x37ff('0x1a')]({'username':_0x467438['body'][_0x37ff('0x2e')]})['exec']();if(_0x5bf4f7){return _0x4afc3f[_0x37ff('0xc')](0xc8)[_0x37ff('0x9')]('login');}else{return _0x4afc3f[_0x37ff('0xc')](0xc8)[_0x37ff('0x9')](_0x37ff('0x39'));}}catch(_0x4a48e7){console['log'](_0x37ff('0x3a')+_0x4a48e7);return _0x4afc3f['status'](0x1f4)[_0x37ff('0x9')](_0x4a48e7);}});_0x193a1b[_0x37ff('0x16')](_0x37ff('0x3b'),_0xa32bf0(),function(_0x40a2da,_0x147a86){if(_0x44dc26[_0x37ff('0x2b')]['fusion_program_running'])if(_0x44dc26['SocketVariables'][_0x37ff('0x2c')]['User']==_0x40a2da[_0x37ff('0x18')]['username'])_0x3c6985['KillProgram']();_0x3a0884(_0x40a2da['body'][_0x37ff('0x12')]);_0x40a2da[_0x37ff('0x30')]();_0x147a86[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')]({'serverMessage':_0x37ff('0x3c')});});_0x193a1b['get']('/api/recovery/:User_Id',function(_0x19b6a5,_0x3d5c83){_0x51bb1a['findOne']({'username':_0x19b6a5[_0x37ff('0x1b')][_0x37ff('0x1c')][_0x37ff('0x1d')]()[_0x37ff('0x1e')]()},function(_0x1da47b,_0x36d917){if(_0x1da47b)return _0x3d5c83[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')](_0x1da47b);if(!_0x36d917)return _0x3d5c83['status'](0x1f4)[_0x37ff('0x9')](_0x37ff('0x3d'));else return _0x3d5c83[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')](_0x36d917['securityquestion']);});});_0x193a1b[_0x37ff('0x16')]('/api/recovery',_0x118307[_0x37ff('0xa')](_0x37ff('0x3e'),{'session':!![]}),function(_0x480842,_0x444a05){if(_0x44dc26[_0x37ff('0xe')]){if(classroomConnection[_0x37ff('0xf')]){_0x5d924c(_0x480842[_0x37ff('0x18')]);}_0x17ef68(_0x480842[_0x37ff('0x11')][_0x37ff('0x12')],_0x480842[_0x37ff('0x18')]);return _0x444a05[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')]({'serverMessage':_0x37ff('0x3f'),'user':_0x480842['user']});}else{if(_0x506bca()==0x0){_0x17ef68(_0x480842['body']['socketId'],_0x480842['user']);if(classroomConnection[_0x37ff('0xf')]){_0x5d924c(_0x480842[_0x37ff('0x18')]);}return _0x444a05[_0x37ff('0xc')](0xc8)[_0x37ff('0x14')]({'serverMessage':_0x37ff('0x3f'),'user':_0x480842[_0x37ff('0x18')]});}else{_0x480842['logout']();return _0x444a05[_0x37ff('0xc')](0x1f4)[_0x37ff('0x9')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x193a1b[_0x37ff('0x7')]('/api/allowedUserGroups',function(_0x135778,_0xa67388){var _0x18053f=[_0x37ff('0x2d')];_0x51bb1a[_0x37ff('0x1a')]({'usergroup':_0x37ff('0x40')},function(_0x2d7f95,_0xfa553d){if(_0x2d7f95)return _0xa67388[_0x37ff('0xc')](0xc8)[_0x37ff('0x9')](_0x18053f);if(!_0xfa553d)_0x18053f['unshift']('Admin');return _0xa67388['status'](0xc8)[_0x37ff('0x9')](_0x18053f);});});function _0x506bca(){var _0x24ddf0=0x0;for(var _0x4a32e9=0x0;_0x4a32e9<_0x44dc26[_0x37ff('0x41')][_0x37ff('0x42')];_0x4a32e9++){if(_0x44dc26['connectedClients'][_0x4a32e9]['User']){_0x24ddf0++;}}return _0x24ddf0;}function _0x17ef68(_0x21a004,_0x3f450b){for(var _0x3f4c0d=0x0;_0x3f4c0d<_0x44dc26[_0x37ff('0x41')][_0x37ff('0x42')];_0x3f4c0d++){if(_0x44dc26['connectedClients'][_0x3f4c0d]['id']==_0x21a004){_0x44dc26[_0x37ff('0x41')][_0x3f4c0d][_0x37ff('0x2d')]=_0x3f450b;break;}}}function _0x3a0884(_0x508d66){for(var _0x2e6d16=0x0;_0x2e6d16<_0x44dc26['connectedClients'][_0x37ff('0x42')];_0x2e6d16++){if(_0x44dc26[_0x37ff('0x41')][_0x2e6d16]['id']==_0x508d66){_0x44dc26['connectedClients'][_0x2e6d16]['User']=undefined;break;}}}function _0x1f3134(_0x51be05){for(var _0x3980f3=0x0;_0x3980f3<_0x44dc26[_0x37ff('0x41')][_0x37ff('0x42')];_0x3980f3++){if(_0x44dc26[_0x37ff('0x41')][_0x3980f3][_0x37ff('0x2d')][_0x37ff('0x2e')]==_0x51be05){_0x44dc26['connectedClients'][_0x3980f3]['User']=undefined;break;}}}function _0xa32bf0(){return function(_0x3a5198,_0x33948b,_0x4720dd){if(_0x3a5198[_0x37ff('0x43')]()){return _0x4720dd();}else{return _0x33948b[_0x37ff('0xc')](0x191)[_0x37ff('0x9')]('User\x20Unauthenticated');}};}async function _0x5d924c(_0x4b235b){try{await _0x5206db(_0x4b235b);}catch(_0x577520){winston[_0x37ff('0x44')](_0x577520);winston[_0x37ff('0x44')](_0x37ff('0x45')+_0x4b235b[_0x37ff('0x2e')]);}};function _0x5206db(_0x57a34f){return new Promise(function(_0x22b5be,_0x5e1126){var _0x3b35a9=new SSH();_0x3b35a9['on'](_0x37ff('0x46'),function(){_0x3b35a9['sftp'](async function(_0x135e8c,_0x10090d){if(_0x135e8c){winston[_0x37ff('0x44')](_0x37ff('0x47')+_0x135e8c);_0x3b35a9[_0x37ff('0x48')]();return _0x5e1126(_0x135e8c);}try{await _0x3dda7e(_0x10090d);await _0x3a3796(_0x10090d,_0x57a34f[_0x37ff('0x2e')]);await _0x3576e5(_0x10090d,_0x57a34f[_0x37ff('0x2e')]);await _0x1f9f27(_0x10090d,_0x57a34f[_0x37ff('0x2e')]);let _0x4a2fc8=await _0x25b0cb(_0x10090d,_0x57a34f[_0x37ff('0x2e')]);winston[_0x37ff('0x44')](JSON[_0x37ff('0x49')](_0x4a2fc8));let _0x111a0=await _0x5319ab(_0x57a34f[_0x37ff('0x4a')]);winston['info'](JSON['stringify'](_0x111a0));await _0x45b0a0(_0x10090d,_0x57a34f,_0x4a2fc8,_0x111a0);_0x3b35a9[_0x37ff('0x48')]();return _0x22b5be();}catch(_0x4d9e60){winston[_0x37ff('0x44')](_0x4d9e60);_0x3b35a9[_0x37ff('0x48')]();return _0x5e1126(_0x4d9e60);}});})[_0x37ff('0x4b')]({'host':_0x37ff('0x4c'),'port':0x16,'username':'c3','password':_0x37ff('0x4d')});});};function _0x3dda7e(_0x3e7c30){return new Promise(function(_0x3c36b6,_0x5ba28a){_0x3e7c30[_0x37ff('0x4e')](_0x37ff('0x4f'),function(_0x406c2c){if(_0x406c2c){_0x3e7c30[_0x37ff('0x50')](_0x37ff('0x4f'),function(_0x2cea62){if(_0x2cea62){return _0x5ba28a('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x2cea62);}else{winston['info'](_0x37ff('0x51'));return _0x3c36b6();}});}else{winston[_0x37ff('0x44')](_0x37ff('0x52'));return _0x3c36b6();}});});};function _0x3a3796(_0x206267,_0x4553a9){return new Promise(function(_0x1e4d9b,_0x413421){_0x206267[_0x37ff('0x4e')](_0x37ff('0x4f')+_0x4553a9,function(_0x160692){if(_0x160692){_0x206267['mkdir'](_0x37ff('0x4f')+_0x4553a9,function(_0xbdba4a){if(_0xbdba4a){return _0x413421(_0x37ff('0x53')+_0xbdba4a);}else{winston[_0x37ff('0x44')](_0x37ff('0x54'));return _0x1e4d9b();}});}else{winston[_0x37ff('0x44')](_0x37ff('0x55'));return _0x1e4d9b();}});});};function _0x3576e5(_0x5d501a,_0x4440ea){return new Promise(function(_0x54ffae,_0x2168b6){_0x5d501a[_0x37ff('0x4e')](_0x37ff('0x4f')+_0x4440ea+_0x37ff('0x56'),function(_0x287b59){if(_0x287b59){_0x5d501a[_0x37ff('0x50')](_0x37ff('0x4f')+_0x4440ea+_0x37ff('0x56'),function(_0x237d81){if(_0x237d81){return _0x2168b6(_0x37ff('0x57')+_0x237d81);}else{winston[_0x37ff('0x44')](_0x37ff('0x58'));return _0x54ffae();}});}else{winston[_0x37ff('0x44')](_0x37ff('0x59'));return _0x54ffae();}});});};function _0x1f9f27(_0x11411a,_0x3f2913){return new Promise(function(_0x577d0a,_0x390f47){_0x11411a[_0x37ff('0x4e')](_0x37ff('0x4f')+_0x3f2913+_0x37ff('0x5a'),function(_0x27c17e){if(_0x27c17e){_0x11411a[_0x37ff('0x50')](_0x37ff('0x4f')+_0x3f2913+_0x37ff('0x5a'),function(_0xe3bf99){if(_0xe3bf99){return _0x390f47(_0x37ff('0x5b')+_0xe3bf99);}else{winston[_0x37ff('0x44')](_0x37ff('0x5c'));return _0x577d0a();}});}else{winston[_0x37ff('0x44')]('User\x27s\x20blockly\x20directory\x20found');return _0x577d0a();}});});};function _0x25b0cb(_0x1f9e58,_0x4af73b){return new Promise(async function(_0xa07e00,_0x37df89){try{let _0x5f0f34={};_0x5f0f34['Editor']=await _0x52dca2(_0x1f9e58,_0x4af73b);_0x5f0f34[_0x37ff('0x5d')]=await _0x137ac1(_0x1f9e58,_0x4af73b);return _0xa07e00(_0x5f0f34);}catch(_0x3f037e){return _0x37df89(_0x3f037e);}});};function _0x52dca2(_0x4dd580,_0x23f57f){return new Promise(function(_0x307ac2,_0x26e4df){_0x4dd580[_0x37ff('0x4e')](_0x37ff('0x4f')+_0x23f57f+_0x37ff('0x56'),function(_0x58d4fe,_0xf058a4){if(_0x58d4fe)return _0x26e4df(_0x58d4fe);let _0x3b5d3a=[];for(let _0x919a88=0x0;_0x919a88<_0xf058a4[_0x37ff('0x42')];_0x919a88++){winston[_0x37ff('0x5e')]('Getting\x20data\x20for\x20'+_0xf058a4[_0x919a88]['filename']);_0x3b5d3a[_0x37ff('0x5f')](_0xf058a4[_0x919a88]);}return _0x307ac2(_0x3b5d3a);});});};function _0x137ac1(_0x3108fb,_0x24de26){return new Promise(function(_0xc13fdf,_0x5879e4){_0x3108fb[_0x37ff('0x4e')]('/home/c3/FusionFilesystem/'+_0x24de26+_0x37ff('0x5a'),function(_0x52c059,_0x3beb24){if(_0x52c059)return _0x5879e4(_0x52c059);let _0x25b495=[];for(let _0x277417=0x0;_0x277417<_0x3beb24[_0x37ff('0x42')];_0x277417++){winston[_0x37ff('0x5e')]('Getting\x20data\x20for\x20'+_0x3beb24[_0x277417][_0x37ff('0x60')]);_0x25b495['push'](_0x3beb24[_0x277417]);}return _0xc13fdf(_0x25b495);});});};function _0x5319ab(_0x1366d4){return new Promise(async function(_0x21632c,_0x30173e){try{let _0x2bdb56={};_0x2bdb56['Editor']=await _0x1c860d(_0x1366d4);_0x2bdb56[_0x37ff('0x5d')]=await _0x5c1f68(_0x1366d4);return _0x21632c(_0x2bdb56);}catch(_0x5946bd){return _0x30173e(_0x5946bd);}});};function _0x1c860d(_0x703cfe){return new Promise(async function(_0x195822,_0x2b4c50){try{let _0x42449a=[];let _0x3bd8a7=await fs[_0x37ff('0x4e')](_0x703cfe+'/Editor');for(let _0x1309fb=0x0;_0x1309fb<_0x3bd8a7[_0x37ff('0x42')];_0x1309fb++){winston[_0x37ff('0x5e')](_0x37ff('0x61')+_0x3bd8a7[_0x1309fb]);let _0x5aae3a=await fs[_0x37ff('0x62')](_0x703cfe+_0x37ff('0x56')+_0x3bd8a7[_0x1309fb]);_0x5aae3a[_0x37ff('0x63')]=_0x3bd8a7[_0x1309fb];_0x42449a[_0x37ff('0x5f')](_0x5aae3a);}return _0x195822(_0x42449a);}catch(_0x4a0798){return _0x2b4c50(_0x4a0798);}});};function _0x5c1f68(_0x8b1693){return new Promise(async function(_0x564b8d,_0x51b3f7){try{let _0xd27e69=[];let _0x53079b=await fs[_0x37ff('0x4e')](_0x8b1693+_0x37ff('0x64'));for(let _0x56dcc8=0x0;_0x56dcc8<_0x53079b[_0x37ff('0x42')];_0x56dcc8++){winston[_0x37ff('0x5e')](_0x37ff('0x61')+_0x53079b[_0x56dcc8]);let _0x3e9a35=await fs['stat'](_0x8b1693+_0x37ff('0x5a')+_0x53079b[_0x56dcc8]);_0x3e9a35[_0x37ff('0x63')]=_0x53079b[_0x56dcc8];_0xd27e69['push'](_0x3e9a35);}return _0x564b8d(_0xd27e69);}catch(_0x448a8f){return _0x51b3f7(_0x448a8f);}});};function _0x45b0a0(_0x240037,_0x473cee,_0x42c852,_0x5210bf){return new Promise(async function(_0x2e3f4d,_0x33be1d){try{for(let _0x376289=0x0;_0x376289<_0x42c852[_0x37ff('0x65')]['length'];_0x376289++){let _0x27fd65=![];for(let _0x4b0272=0x0;_0x4b0272<_0x5210bf[_0x37ff('0x65')][_0x37ff('0x42')];_0x4b0272++){if(_0x5210bf[_0x37ff('0x65')][_0x4b0272]['name']==_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x60')]){winston[_0x37ff('0x66')]('Local\x20mtime:\x20'+Math[_0x37ff('0x67')](_0x5210bf['Editor'][_0x4b0272][_0x37ff('0x68')]/0x3e8));winston[_0x37ff('0x66')](_0x37ff('0x69')+_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x6a')][_0x37ff('0x6b')]);if(Math[_0x37ff('0x67')](_0x5210bf[_0x37ff('0x65')][_0x4b0272]['mtimeMs']/0x3e8)>_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x6a')][_0x37ff('0x6b')]){_0x27fd65=!![];winston[_0x37ff('0x5e')](_0x37ff('0x6c')+_0x5210bf[_0x37ff('0x65')][_0x4b0272]['name']+_0x37ff('0x6d'));try{await _0x1ca7c5(_0x240037,_0x473cee,_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x60')],_0x37ff('0x65'));}catch(_0x5281e4){return _0x33be1d(_0x5281e4);}break;}else{_0x27fd65=!![];winston[_0x37ff('0x5e')](_0x37ff('0x6e')+_0x5210bf[_0x37ff('0x65')][_0x4b0272][_0x37ff('0x63')]+_0x37ff('0x6f'));try{await _0x50daef(_0x240037,_0x473cee,_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x60')],_0x37ff('0x65'));}catch(_0x16d947){winston[_0x37ff('0x66')](_0x37ff('0x70')+_0x16d947);return _0x33be1d(_0x16d947);}break;}}}if(!_0x27fd65){winston[_0x37ff('0x5e')](_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x60')]+_0x37ff('0x71'));try{await _0x50daef(_0x240037,_0x473cee,_0x42c852[_0x37ff('0x65')][_0x376289][_0x37ff('0x60')],_0x37ff('0x65'));}catch(_0x474594){return _0x33be1d(_0x474594);}}}for(let _0x55062c=0x0;_0x55062c<_0x42c852['Blockly']['length'];_0x55062c++){let _0x27fd65=![];for(let _0x4b0272=0x0;_0x4b0272<_0x5210bf['Blockly']['length'];_0x4b0272++){if(_0x5210bf[_0x37ff('0x5d')][_0x4b0272][_0x37ff('0x63')]==_0x42c852[_0x37ff('0x5d')][_0x55062c][_0x37ff('0x60')]){winston[_0x37ff('0x66')](_0x37ff('0x72')+Math[_0x37ff('0x67')](_0x5210bf['Blockly'][_0x4b0272][_0x37ff('0x68')]/0x3e8));winston['debug']('Remote\x20mtime:\x20'+_0x42c852[_0x37ff('0x5d')][_0x55062c][_0x37ff('0x6a')][_0x37ff('0x6b')]);if(Math[_0x37ff('0x67')](_0x5210bf[_0x37ff('0x5d')][_0x4b0272][_0x37ff('0x68')]/0x3e8)>_0x42c852[_0x37ff('0x5d')][_0x55062c]['attrs'][_0x37ff('0x6b')]){_0x27fd65=!![];winston[_0x37ff('0x5e')](_0x37ff('0x6c')+_0x5210bf[_0x37ff('0x5d')][_0x4b0272][_0x37ff('0x63')]+_0x37ff('0x6d'));try{await _0x1ca7c5(_0x240037,_0x473cee,_0x42c852[_0x37ff('0x5d')][_0x55062c][_0x37ff('0x60')],_0x37ff('0x5d'));}catch(_0x35ca08){return _0x33be1d(_0x35ca08);}break;}else{_0x27fd65=!![];winston[_0x37ff('0x5e')](_0x37ff('0x6e')+_0x5210bf[_0x37ff('0x5d')][_0x4b0272][_0x37ff('0x63')]+_0x37ff('0x6f'));try{await _0x50daef(_0x240037,_0x473cee,_0x42c852[_0x37ff('0x5d')][_0x55062c]['filename'],_0x37ff('0x5d'));}catch(_0x157134){winston[_0x37ff('0x66')](_0x37ff('0x70')+_0x157134);return _0x33be1d(_0x157134);}break;}}}if(!_0x27fd65){winston[_0x37ff('0x5e')](_0x42c852[_0x37ff('0x5d')][_0x55062c]['filename']+_0x37ff('0x71'));try{await _0x50daef(_0x240037,_0x473cee,_0x42c852['Blockly'][_0x55062c][_0x37ff('0x60')],_0x37ff('0x5d'));}catch(_0x3614f5){return _0x33be1d(_0x3614f5);}}}return _0x2e3f4d();}catch(_0x3f9e7f){return _0x33be1d(_0x3f9e7f);}});};function _0x1ca7c5(_0xdaee3a,_0xb50572,_0x25bff0,_0x248983){return new Promise((_0x35c230,_0x45e30b)=>{try{let _0x25d16e='/home/c3/FusionFilesystem/'+_0xb50572[_0x37ff('0x2e')]+'/'+_0x248983+'/'+_0x25bff0;let _0x189909=_0xb50572[_0x37ff('0x4a')]+'/'+_0x248983+'/'+_0x25bff0;winston[_0x37ff('0x5e')](_0x37ff('0x73')+_0x25d16e);winston['verbose'](_0x37ff('0x74')+_0x189909);_0xdaee3a[_0x37ff('0x75')](_0x189909,_0x25d16e,{},function(_0x222b15){if(_0x222b15){winston[_0x37ff('0x66')]('Error\x20uploading\x20file:\x20'+_0x25bff0);return _0x45e30b(_0x222b15);}winston[_0x37ff('0x44')](_0x37ff('0x76')+_0x25bff0);return _0x35c230();});}catch(_0x5bd4af){return _0x45e30b(_0x5bd4af);}});};function _0x50daef(_0x278f91,_0x1ba235,_0x1dfa90,_0x5af2a5){return new Promise((_0x4b4937,_0x11bb5a)=>{try{let _0x4e9a0d='/home/c3/FusionFilesystem/'+_0x1ba235['username']+'/'+_0x5af2a5+'/'+_0x1dfa90;let _0x127d96=_0x1ba235[_0x37ff('0x4a')]+'/'+_0x5af2a5+'/'+_0x1dfa90;winston[_0x37ff('0x5e')]('Remote\x20path:\x20'+_0x4e9a0d);winston['verbose'](_0x37ff('0x74')+_0x127d96);_0x278f91['fastGet'](_0x4e9a0d,_0x127d96,{},function(_0x32ddb4){if(_0x32ddb4){winston[_0x37ff('0x66')]('Error\x20downloading\x20file:\x20'+_0x1dfa90);return _0x11bb5a(_0x32ddb4);}winston[_0x37ff('0x44')](_0x37ff('0x77')+_0x1dfa90);return _0x4b4937();});}catch(_0x1d5bb1){return _0x11bb5a(_0x1d5bb1);}});};function _0x4538cd(_0x297d8c,_0x50f8c7,_0x3f6e1d,_0x256061){_0x297d8c[_0x37ff('0x4e')](_0x37ff('0x4f')+_0x50f8c7['username'],function(_0x4d10b8){if(_0x4d10b8){console[_0x37ff('0x78')](_0x37ff('0x79')+_0x4d10b8);_0x297d8c[_0x37ff('0x50')]('/home/c3/FusionFilesystem/'+_0x50f8c7[_0x37ff('0x2e')],function(_0x49f52e){if(_0x49f52e){console[_0x37ff('0x78')](_0x37ff('0x7a')+_0x49f52e);throw _0x49f52e;}console[_0x37ff('0x78')]('User\x20c3\x20directory\x20created');_0x297d8c['mkdir'](_0x37ff('0x4f')+_0x50f8c7[_0x37ff('0x2e')]+'/Editor/',function(_0x51ff4d){if(_0x51ff4d){console['log'](_0x37ff('0x7b')+_0x51ff4d);throw _0x51ff4d;}console['log'](_0x37ff('0x7c'));_0x297d8c[_0x37ff('0x50')](_0x37ff('0x4f')+_0x50f8c7[_0x37ff('0x2e')]+_0x37ff('0x5a'),function(_0x2a116e){if(_0x2a116e){console[_0x37ff('0x78')](_0x37ff('0x7d')+_0x2a116e);throw _0x2a116e;}console[_0x37ff('0x78')](_0x37ff('0x7e'));_0x256061(_0x297d8c,_0x50f8c7,_0x3f6e1d);});});});}_0x256061(_0x297d8c,_0x50f8c7,_0x3f6e1d);});};function _0x197fb5(_0x2ed163,_0x22c113,_0x563983){_0x2ed163[_0x37ff('0x4e')]('/home/c3/FusionFilesystem/'+_0x22c113[_0x37ff('0x2e')]+_0x37ff('0x56'),function(_0x29c16d,_0xf4465e){if(_0x29c16d){console[_0x37ff('0x78')](_0x37ff('0x7f')+_0x29c16d);throw _0x29c16d;}_0x87333e(_0x22c113,'Editor',_0xf4465e,_0x563983);});_0x2ed163['readdir']('/home/c3/FusionFilesystem/'+_0x22c113['username']+_0x37ff('0x5a'),function(_0x337229,_0x404153){if(_0x337229){console['log'](_0x37ff('0x80')+_0x337229);throw _0x337229;}_0x87333e(_0x22c113,_0x37ff('0x5d'),_0x404153,_0x563983);});};function _0x87333e(_0x13de8e,_0xfedaa8,_0x1522fb,_0x404a3f){console[_0x37ff('0x78')](_0x37ff('0x81'));if(_0xfedaa8==_0x37ff('0x5d')&&_0x1522fb['length']==0x0){_0x404a3f[_0x37ff('0x48')]();}for(var _0x572280=0x0;_0x572280<_0x1522fb[_0x37ff('0x42')];_0x572280++){let _0xafe375=_0x37ff('0x4f')+_0x13de8e[_0x37ff('0x2e')]+'/'+_0xfedaa8+'/'+_0x1522fb[_0x572280]['filename'];let _0x23ced8='app/filesystem/'+_0x13de8e[_0x37ff('0x2e')]+'/'+_0xfedaa8+'/';console[_0x37ff('0x78')](_0x37ff('0x82')+_0xafe375+_0x37ff('0x83')+_0x23ced8);SCP[_0x37ff('0x84')]('c3:root@172.16.0.1:'+_0xafe375,_0x23ced8,function(_0x27378d){if(_0x27378d){console[_0x37ff('0x78')](_0x37ff('0x85')+_0xafe375+_0x37ff('0x86')+_0x27378d);}if(_0xfedaa8==_0x37ff('0x5d')&&(_0x572280=_0x1522fb[_0x37ff('0x42')]-0x1)){_0x404a3f[_0x37ff('0x48')]();}});}};};