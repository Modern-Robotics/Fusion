var _0x58cd=['Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','ready','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20found','Editor','Blockly','verbose','Getting\x20data\x20for\x20','push','filename','/Editor','stat','name','/Blockly','debug','Local\x20mtime:\x20','floor','mtimeMs','Remote\x20mtime:\x20','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x20not\x20a\x20common\x20file!','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Error\x20downloading\x20file:\x20','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','Moving:\x20','scp','c3:root@172.16.0.1:',',\x20error:\x20','scp2','ssh2','fs-extra','path','request-promise','winston','exports','/api/users','find','Guest','json','post','authenticate','local-signup','send','message','status','MultiUserAccess','logIn','socketId','body','connected','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','user','Error','get','/api/users/:User_Id','findOne','params','User_Id','toLowerCase','trim','put','password','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','fusion_program_running','User','username','KillProgram','logout','remove','Successfully\x20deleted','/api/users/login','local-login','LOGIN.SUCCESS','LOGIN.MULTIUSER_DENIED','/api/users/cloudLogin','log','in\x20cloud\x20login','POST','https://172.16.0.1/backend/auth/ldap','exec','login','create','Error\x20with\x20request\x20promise.\x20','/api/users/logout','Logged\x20out\x20successfully','User\x20does\x20not\x20exist','local-recovery','Login\x20Successful'];(function(_0x18446a,_0x3b6a04){var _0x11dce6=function(_0x46d0d6){while(--_0x46d0d6){_0x18446a['push'](_0x18446a['shift']());}};_0x11dce6(++_0x3b6a04);}(_0x58cd,0xd3));var _0x2fe6=function(_0x4e6ea0,_0x4662d5){_0x4e6ea0=_0x4e6ea0-0x0;var _0x2c7174=_0x58cd[_0x4e6ea0];return _0x2c7174;};var SCP=require(_0x2fe6('0x0'));var SSH=require(_0x2fe6('0x1'))['Client'];var fs=require(_0x2fe6('0x2'));var path=require(_0x2fe6('0x3'));var rp=require(_0x2fe6('0x4'));const classroomConnection=require('./../../server/classroom/connection/');const winston=require(_0x2fe6('0x5'));module[_0x2fe6('0x6')]=function(_0x56563c,_0x2f7f91,_0x306f09,_0x4bdbba,_0x3472a7,_0x786d7c){_0x56563c['get'](_0x2fe6('0x7'),_0x22550f(),function(_0x2c2261,_0x237c4f){_0x2f7f91[_0x2fe6('0x8')]({'usergroup':{'$ne':_0x2fe6('0x9')}},function(_0xe931e4,_0x29d2fe){if(_0xe931e4)_0x237c4f['send'](_0xe931e4);_0x237c4f[_0x2fe6('0xa')](_0x29d2fe);});});_0x56563c[_0x2fe6('0xb')](_0x2fe6('0x7'),function(_0xbe19d2,_0x3f522a,_0x3882aa){_0x306f09[_0x2fe6('0xc')](_0x2fe6('0xd'),async function(_0x477e22,_0x5e6b04,_0x1ae4a6){if(_0x477e22)return _0x3f522a['status'](0x1f4)[_0x2fe6('0xe')](_0x477e22);if(_0x1ae4a6&&_0x1ae4a6[_0x2fe6('0xf')])return _0x3f522a[_0x2fe6('0x10')](0x1f4)[_0x2fe6('0xe')](_0xbe19d2['__'](_0x1ae4a6[_0x2fe6('0xf')]));if(_0x786d7c[_0x2fe6('0x11')]){if(classroomConnection['connected']){await _0x1eb8d8(_0x5e6b04);}_0xbe19d2[_0x2fe6('0x12')](_0x5e6b04,function(_0x477e22){if(_0x477e22){return _0x3882aa(_0x477e22);}_0x28bb2b(_0xbe19d2['body'][_0x2fe6('0x13')],_0x5e6b04);return _0x3f522a['status'](0xc8)[_0x2fe6('0xa')]({'serverMessage':_0xbe19d2['__']('REGISTER.CREATED'),'user':_0x5e6b04});});}else{if(_0x25d4f3()==0x0){_0x28bb2b(_0xbe19d2[_0x2fe6('0x14')][_0x2fe6('0x13')],_0x5e6b04);if(classroomConnection[_0x2fe6('0x15')]){await _0x1eb8d8(_0x5e6b04);}_0xbe19d2[_0x2fe6('0x12')](_0x5e6b04,function(_0x477e22){if(_0x477e22){return _0x3882aa(_0x477e22);}_0x28bb2b(_0xbe19d2[_0x2fe6('0x14')]['socketId'],_0x5e6b04);return _0x3f522a[_0x2fe6('0x10')](0xc8)['json']({'serverMessage':_0xbe19d2['__']('REGISTER.CREATED'),'user':_0x5e6b04});});}else{return _0x3f522a[_0x2fe6('0x10')](0x1f4)[_0x2fe6('0xe')](_0xbe19d2['__'](_0x2fe6('0x16')));}}})(_0xbe19d2,_0x3f522a,_0x3882aa);});_0x56563c['post']('/api/users',_0x306f09[_0x2fe6('0xc')](_0x2fe6('0xd'),{'session':!![]}),function(_0x1b4992,_0x32af8f){if(_0x1b4992[_0x2fe6('0x17')][_0x2fe6('0x18')]){return _0x32af8f[_0x2fe6('0x10')](0x1f4)[_0x2fe6('0xe')](_0x1b4992[_0x2fe6('0x17')][_0x2fe6('0x18')]);}else{}});_0x56563c[_0x2fe6('0x19')](_0x2fe6('0x1a'),_0x22550f(),function(_0x5d94c8,_0xf7b2c9){_0x2f7f91[_0x2fe6('0x1b')]({'username':_0x5d94c8[_0x2fe6('0x1c')][_0x2fe6('0x1d')][_0x2fe6('0x1e')]()[_0x2fe6('0x1f')]()},function(_0x495828,_0x138763){if(_0x495828)_0xf7b2c9['send'](_0x495828);_0xf7b2c9['json'](_0x138763);});});_0x56563c[_0x2fe6('0x20')](_0x2fe6('0x1a'),_0x22550f(),function(_0x16d058,_0x173151){_0x2f7f91['findOne']({'username':_0x16d058[_0x2fe6('0x1c')][_0x2fe6('0x1d')][_0x2fe6('0x1e')]()[_0x2fe6('0x1f')]()},function(_0x992f4b,_0x8387fb){if(_0x992f4b)_0x173151['send'](_0x992f4b);if(_0x16d058[_0x2fe6('0x14')]['password']){_0x8387fb[_0x2fe6('0x21')]=_0x8387fb['generateHash'](_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x21')]);}if(_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x22')]){_0x8387fb[_0x2fe6('0x22')]=_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x22')];}if(_0x16d058[_0x2fe6('0x14')]['lastname']){_0x8387fb[_0x2fe6('0x23')]=_0x16d058['body'][_0x2fe6('0x23')];}if(_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x24')]){_0x8387fb['language']=_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x24')];}if(_0x16d058['body']['email']){_0x8387fb[_0x2fe6('0x25')]=_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x25')];}if(_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x26')]){_0x8387fb[_0x2fe6('0x26')]=_0x16d058['body'][_0x2fe6('0x26')];}if(_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x27')]){_0x8387fb[_0x2fe6('0x27')]=_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x27')];}if(_0x16d058[_0x2fe6('0x14')]['securityanswer']){_0x8387fb[_0x2fe6('0x28')]=_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x28')];}if(_0x16d058[_0x2fe6('0x14')][_0x2fe6('0x29')]){_0x8387fb[_0x2fe6('0x29')]=_0x16d058[_0x2fe6('0x14')]['usergroup'];}_0x8387fb[_0x2fe6('0x2a')](function(_0x992f4b){if(_0x992f4b)_0x173151[_0x2fe6('0x10')](0x1f4)['send'](_0x992f4b);_0x173151['status'](0xc8)[_0x2fe6('0xa')]({'serverMessage':_0x2fe6('0x2b')});});});});_0x56563c['delete']('/api/users/:User_Id',_0x22550f(),function(_0x1c3f76,_0x232078){if(_0x1c3f76[_0x2fe6('0x1c')][_0x2fe6('0x1d')][_0x2fe6('0x1e')]()[_0x2fe6('0x1f')]()==_0x1c3f76[_0x2fe6('0x17')]['username']){if(_0x786d7c['SocketVariables'][_0x2fe6('0x2c')])if(_0x786d7c['SocketVariables']['fusion_program_running'][_0x2fe6('0x2d')]==_0x1c3f76['user'][_0x2fe6('0x2e')])_0x4bdbba[_0x2fe6('0x2f')]();_0x4ce2a7(_0x1c3f76['user']['username']);_0x1c3f76[_0x2fe6('0x30')]();}_0x2f7f91[_0x2fe6('0x31')]({'username':_0x1c3f76[_0x2fe6('0x1c')]['User_Id'][_0x2fe6('0x1e')]()['trim']()},function(_0x27af1b,_0x76a8aa){if(_0x27af1b)return _0x232078[_0x2fe6('0xe')](_0x27af1b);_0x2f7f91['removeFileSystem'](_0x1c3f76[_0x2fe6('0x1c')][_0x2fe6('0x1d')][_0x2fe6('0x1e')]()[_0x2fe6('0x1f')]());return _0x232078['status'](0xc8)[_0x2fe6('0xa')]({'serverMessage':_0x2fe6('0x32')});});});_0x56563c[_0x2fe6('0xb')](_0x2fe6('0x33'),function(_0x4a13bb,_0x138ffe,_0x43a9a5){_0x306f09[_0x2fe6('0xc')](_0x2fe6('0x34'),async function(_0xf46f03,_0x1df47e,_0x6d0a7e){if(_0xf46f03)return _0x138ffe[_0x2fe6('0x10')](0x1f4)[_0x2fe6('0xe')](_0x4a13bb['__'](_0xf46f03[_0x2fe6('0xf')]));if(!_0x1df47e)return _0x138ffe['status'](0x191)[_0x2fe6('0xe')](_0x4a13bb['__'](_0x6d0a7e[_0x2fe6('0xf')]));if(_0x786d7c['MultiUserAccess']){if(classroomConnection['connected']){await _0x1eb8d8(_0x1df47e);}_0x4a13bb[_0x2fe6('0x12')](_0x1df47e,function(_0xf46f03){if(_0xf46f03){return _0x43a9a5(_0xf46f03);}_0x28bb2b(_0x4a13bb[_0x2fe6('0x14')][_0x2fe6('0x13')],_0x1df47e);return _0x138ffe['status'](0xc8)[_0x2fe6('0xa')]({'serverMessage':_0x4a13bb['__'](_0x2fe6('0x35')),'user':_0x1df47e});});}else{if(_0x25d4f3()==0x0){_0x28bb2b(_0x4a13bb['body'][_0x2fe6('0x13')],_0x1df47e);if(classroomConnection[_0x2fe6('0x15')]){await _0x1eb8d8(_0x1df47e);}_0x4a13bb[_0x2fe6('0x12')](_0x1df47e,function(_0xf46f03){if(_0xf46f03){return _0x43a9a5(_0xf46f03);}_0x28bb2b(_0x4a13bb[_0x2fe6('0x14')][_0x2fe6('0x13')],_0x1df47e);return _0x138ffe[_0x2fe6('0x10')](0xc8)['json']({'serverMessage':_0x4a13bb['__']('LOGIN.SUCCESS'),'user':_0x1df47e});});}else{return _0x138ffe[_0x2fe6('0x10')](0x1f4)['send'](_0x4a13bb['__'](_0x2fe6('0x36')));}}})(_0x4a13bb,_0x138ffe,_0x43a9a5);});_0x56563c['post'](_0x2fe6('0x37'),async function(_0x55360c,_0x5f5475){console[_0x2fe6('0x38')](_0x2fe6('0x39'));var _0x7c8243={'method':_0x2fe6('0x3a'),'uri':_0x2fe6('0x3b'),'body':{'username':_0x55360c[_0x2fe6('0x14')][_0x2fe6('0x2e')],'password':_0x55360c['body'][_0x2fe6('0x21')]},'json':!![],'rejectUnauthorized':![]};try{let _0x3ee039=await rp(_0x7c8243);let _0x3f0430=await _0x2f7f91[_0x2fe6('0x1b')]({'username':_0x55360c[_0x2fe6('0x14')][_0x2fe6('0x2e')]})[_0x2fe6('0x3c')]();if(_0x3f0430){return _0x5f5475['status'](0xc8)[_0x2fe6('0xe')](_0x2fe6('0x3d'));}else{return _0x5f5475[_0x2fe6('0x10')](0xc8)[_0x2fe6('0xe')](_0x2fe6('0x3e'));}}catch(_0x5d2359){console[_0x2fe6('0x38')](_0x2fe6('0x3f')+_0x5d2359);return _0x5f5475[_0x2fe6('0x10')](0x1f4)['send'](_0x5d2359);}});_0x56563c[_0x2fe6('0xb')](_0x2fe6('0x40'),_0x22550f(),function(_0x519263,_0x38f0bc){if(_0x786d7c['SocketVariables'][_0x2fe6('0x2c')])if(_0x786d7c['SocketVariables'][_0x2fe6('0x2c')][_0x2fe6('0x2d')]==_0x519263['user'][_0x2fe6('0x2e')])_0x4bdbba[_0x2fe6('0x2f')]();_0x330ef0(_0x519263[_0x2fe6('0x14')][_0x2fe6('0x13')]);_0x519263['logout']();_0x38f0bc[_0x2fe6('0x10')](0xc8)['json']({'serverMessage':_0x2fe6('0x41')});});_0x56563c[_0x2fe6('0x19')]('/api/recovery/:User_Id',function(_0x1a2495,_0x9727d5){_0x2f7f91[_0x2fe6('0x1b')]({'username':_0x1a2495['params'][_0x2fe6('0x1d')][_0x2fe6('0x1e')]()[_0x2fe6('0x1f')]()},function(_0x31e305,_0x212eb6){if(_0x31e305)return _0x9727d5['status'](0x1f4)[_0x2fe6('0xe')](_0x31e305);if(!_0x212eb6)return _0x9727d5[_0x2fe6('0x10')](0x1f4)[_0x2fe6('0xe')](_0x2fe6('0x42'));else return _0x9727d5[_0x2fe6('0x10')](0xc8)[_0x2fe6('0xa')](_0x212eb6[_0x2fe6('0x27')]);});});_0x56563c[_0x2fe6('0xb')]('/api/recovery',_0x306f09[_0x2fe6('0xc')](_0x2fe6('0x43'),{'session':!![]}),function(_0x210a69,_0x5e3d73){if(_0x786d7c[_0x2fe6('0x11')]){if(classroomConnection[_0x2fe6('0x15')]){_0x1eb8d8(_0x210a69[_0x2fe6('0x17')]);}_0x28bb2b(_0x210a69['body'][_0x2fe6('0x13')],_0x210a69[_0x2fe6('0x17')]);return _0x5e3d73[_0x2fe6('0x10')](0xc8)['json']({'serverMessage':_0x2fe6('0x44'),'user':_0x210a69[_0x2fe6('0x17')]});}else{if(_0x25d4f3()==0x0){_0x28bb2b(_0x210a69[_0x2fe6('0x14')][_0x2fe6('0x13')],_0x210a69['user']);if(classroomConnection[_0x2fe6('0x15')]){_0x1eb8d8(_0x210a69[_0x2fe6('0x17')]);}return _0x5e3d73[_0x2fe6('0x10')](0xc8)[_0x2fe6('0xa')]({'serverMessage':_0x2fe6('0x44'),'user':_0x210a69[_0x2fe6('0x17')]});}else{_0x210a69[_0x2fe6('0x30')]();return _0x5e3d73[_0x2fe6('0x10')](0x1f4)['send'](_0x2fe6('0x45'));}}});_0x56563c[_0x2fe6('0x19')](_0x2fe6('0x46'),function(_0x342261,_0x36faa7){var _0x5c6caf=[_0x2fe6('0x2d')];_0x2f7f91[_0x2fe6('0x1b')]({'usergroup':_0x2fe6('0x47')},function(_0x4985af,_0x5d6676){if(_0x4985af)return _0x36faa7[_0x2fe6('0x10')](0xc8)['send'](_0x5c6caf);if(!_0x5d6676)_0x5c6caf[_0x2fe6('0x48')](_0x2fe6('0x47'));return _0x36faa7[_0x2fe6('0x10')](0xc8)['send'](_0x5c6caf);});});function _0x25d4f3(){var _0x22d334=0x0;for(var _0x46943d=0x0;_0x46943d<_0x786d7c[_0x2fe6('0x49')][_0x2fe6('0x4a')];_0x46943d++){if(_0x786d7c[_0x2fe6('0x49')][_0x46943d][_0x2fe6('0x2d')]){_0x22d334++;}}return _0x22d334;}function _0x28bb2b(_0x1f4203,_0x29d918){for(var _0x2733b0=0x0;_0x2733b0<_0x786d7c[_0x2fe6('0x49')][_0x2fe6('0x4a')];_0x2733b0++){if(_0x786d7c['connectedClients'][_0x2733b0]['id']==_0x1f4203){_0x786d7c[_0x2fe6('0x49')][_0x2733b0][_0x2fe6('0x2d')]=_0x29d918;break;}}}function _0x330ef0(_0xf8050d){for(var _0x2ec4f8=0x0;_0x2ec4f8<_0x786d7c[_0x2fe6('0x49')][_0x2fe6('0x4a')];_0x2ec4f8++){if(_0x786d7c['connectedClients'][_0x2ec4f8]['id']==_0xf8050d){_0x786d7c[_0x2fe6('0x49')][_0x2ec4f8]['User']=undefined;break;}}}function _0x4ce2a7(_0x571187){for(var _0x25eff7=0x0;_0x25eff7<_0x786d7c[_0x2fe6('0x49')]['length'];_0x25eff7++){if(_0x786d7c[_0x2fe6('0x49')][_0x25eff7][_0x2fe6('0x2d')][_0x2fe6('0x2e')]==_0x571187){_0x786d7c[_0x2fe6('0x49')][_0x25eff7][_0x2fe6('0x2d')]=undefined;break;}}}function _0x22550f(){return function(_0x4fc487,_0x16c29b,_0x35167c){if(_0x4fc487[_0x2fe6('0x4b')]()){return _0x35167c();}else{return _0x16c29b['status'](0x191)[_0x2fe6('0xe')](_0x2fe6('0x4c'));}};}async function _0x1eb8d8(_0x11a395){try{await _0x4403b0(_0x11a395);}catch(_0x454bfe){winston[_0x2fe6('0x4d')](_0x454bfe);winston[_0x2fe6('0x4d')]('Error\x20downloading\x20classroom\x20files\x20for\x20'+_0x11a395[_0x2fe6('0x2e')]);}};function _0x4403b0(_0x4618c6){return new Promise(function(_0x53df6f,_0x84aff0){var _0x1cd1c8=new SSH();_0x1cd1c8['on'](_0x2fe6('0x4e'),function(){_0x1cd1c8['sftp'](async function(_0x3af915,_0x4cfaa8){if(_0x3af915){winston['info'](_0x2fe6('0x4f')+_0x3af915);_0x1cd1c8[_0x2fe6('0x50')]();return _0x84aff0(_0x3af915);}try{await _0xa54ec5(_0x4cfaa8);await _0x3d915b(_0x4cfaa8,_0x4618c6[_0x2fe6('0x2e')]);await _0x45d545(_0x4cfaa8,_0x4618c6[_0x2fe6('0x2e')]);await _0x1465d4(_0x4cfaa8,_0x4618c6[_0x2fe6('0x2e')]);let _0x3066f2=await _0x5eb7af(_0x4cfaa8,_0x4618c6[_0x2fe6('0x2e')]);winston['info'](JSON[_0x2fe6('0x51')](_0x3066f2));let _0x112abb=await _0x5dc2db(_0x4618c6[_0x2fe6('0x52')]);winston['info'](JSON[_0x2fe6('0x51')](_0x112abb));await _0x1dd57e(_0x4cfaa8,_0x4618c6,_0x3066f2,_0x112abb);_0x1cd1c8[_0x2fe6('0x50')]();return _0x53df6f();}catch(_0xd88a5d){winston[_0x2fe6('0x4d')](_0xd88a5d);_0x1cd1c8[_0x2fe6('0x50')]();return _0x84aff0(_0xd88a5d);}});})['connect']({'host':_0x2fe6('0x53'),'port':0x16,'username':'c3','password':_0x2fe6('0x54')});});};function _0xa54ec5(_0xb1ae7b){return new Promise(function(_0x1b9429,_0x414996){_0xb1ae7b[_0x2fe6('0x55')](_0x2fe6('0x56'),function(_0x5cd2d2){if(_0x5cd2d2){_0xb1ae7b[_0x2fe6('0x57')](_0x2fe6('0x56'),function(_0x5da87a){if(_0x5da87a){return _0x414996('Error\x20creating\x20classroom\x20file\x20system:\x20'+_0x5da87a);}else{winston[_0x2fe6('0x4d')](_0x2fe6('0x58'));return _0x1b9429();}});}else{winston[_0x2fe6('0x4d')](_0x2fe6('0x59'));return _0x1b9429();}});});};function _0x3d915b(_0x5d0699,_0x328c1a){return new Promise(function(_0x59b214,_0xf619f3){_0x5d0699[_0x2fe6('0x55')]('/home/c3/FusionFilesystem/'+_0x328c1a,function(_0x1ee2d0){if(_0x1ee2d0){_0x5d0699[_0x2fe6('0x57')](_0x2fe6('0x56')+_0x328c1a,function(_0x147136){if(_0x147136){return _0xf619f3(_0x2fe6('0x5a')+_0x147136);}else{winston['info'](_0x2fe6('0x5b'));return _0x59b214();}});}else{winston[_0x2fe6('0x4d')]('User\x27s\x20classroom\x20file\x20system\x20found');return _0x59b214();}});});};function _0x45d545(_0x4fc367,_0x22e6bc){return new Promise(function(_0x5d5798,_0x7f0b81){_0x4fc367['readdir'](_0x2fe6('0x56')+_0x22e6bc+_0x2fe6('0x5c'),function(_0x3dea1c){if(_0x3dea1c){_0x4fc367[_0x2fe6('0x57')]('/home/c3/FusionFilesystem/'+_0x22e6bc+'/Editor/',function(_0x352e73){if(_0x352e73){return _0x7f0b81(_0x2fe6('0x5d')+_0x352e73);}else{winston[_0x2fe6('0x4d')](_0x2fe6('0x5e'));return _0x5d5798();}});}else{winston[_0x2fe6('0x4d')](_0x2fe6('0x5f'));return _0x5d5798();}});});};function _0x1465d4(_0x39f485,_0xbe7710){return new Promise(function(_0x5952f4,_0xdb9c13){_0x39f485[_0x2fe6('0x55')]('/home/c3/FusionFilesystem/'+_0xbe7710+_0x2fe6('0x60'),function(_0x35cf84){if(_0x35cf84){_0x39f485[_0x2fe6('0x57')](_0x2fe6('0x56')+_0xbe7710+_0x2fe6('0x60'),function(_0x48a7b9){if(_0x48a7b9){return _0xdb9c13(_0x2fe6('0x61')+_0x48a7b9);}else{winston['info']('User\x27s\x20blockly\x20directory\x20created');return _0x5952f4();}});}else{winston[_0x2fe6('0x4d')](_0x2fe6('0x62'));return _0x5952f4();}});});};function _0x5eb7af(_0x3363d9,_0x38cc1a){return new Promise(async function(_0x268b19,_0x46ff63){try{let _0xc8fe40={};_0xc8fe40[_0x2fe6('0x63')]=await _0x5289d7(_0x3363d9,_0x38cc1a);_0xc8fe40[_0x2fe6('0x64')]=await _0x13c886(_0x3363d9,_0x38cc1a);return _0x268b19(_0xc8fe40);}catch(_0x512b2a){return _0x46ff63(_0x512b2a);}});};function _0x5289d7(_0x4a7df9,_0x36016f){return new Promise(function(_0x5c281b,_0x13be2d){_0x4a7df9[_0x2fe6('0x55')](_0x2fe6('0x56')+_0x36016f+'/Editor/',function(_0x197d90,_0x5939a1){if(_0x197d90)return _0x13be2d(_0x197d90);let _0x2fbddf=[];for(let _0x64b53b=0x0;_0x64b53b<_0x5939a1[_0x2fe6('0x4a')];_0x64b53b++){winston[_0x2fe6('0x65')](_0x2fe6('0x66')+_0x5939a1[_0x64b53b]['filename']);_0x2fbddf[_0x2fe6('0x67')](_0x5939a1[_0x64b53b]);}return _0x5c281b(_0x2fbddf);});});};function _0x13c886(_0x59136f,_0x48769f){return new Promise(function(_0x3b6422,_0x365aac){_0x59136f[_0x2fe6('0x55')]('/home/c3/FusionFilesystem/'+_0x48769f+_0x2fe6('0x60'),function(_0x47b20e,_0x3840f1){if(_0x47b20e)return _0x365aac(_0x47b20e);let _0x2d24dd=[];for(let _0x5e3be1=0x0;_0x5e3be1<_0x3840f1[_0x2fe6('0x4a')];_0x5e3be1++){winston['verbose'](_0x2fe6('0x66')+_0x3840f1[_0x5e3be1][_0x2fe6('0x68')]);_0x2d24dd['push'](_0x3840f1[_0x5e3be1]);}return _0x3b6422(_0x2d24dd);});});};function _0x5dc2db(_0x3898c3){return new Promise(async function(_0x56ce97,_0x1472f0){try{let _0x2a5114={};_0x2a5114['Editor']=await _0xc370e8(_0x3898c3);_0x2a5114['Blockly']=await _0x507f75(_0x3898c3);return _0x56ce97(_0x2a5114);}catch(_0xe26ec8){return _0x1472f0(_0xe26ec8);}});};function _0xc370e8(_0x54d8e0){return new Promise(async function(_0xb6d27c,_0x449c3b){try{let _0x13673a=[];let _0x26d4b2=await fs[_0x2fe6('0x55')](_0x54d8e0+_0x2fe6('0x69'));for(let _0x2f65c3=0x0;_0x2f65c3<_0x26d4b2[_0x2fe6('0x4a')];_0x2f65c3++){winston[_0x2fe6('0x65')](_0x2fe6('0x66')+_0x26d4b2[_0x2f65c3]);let _0x241f04=await fs[_0x2fe6('0x6a')](_0x54d8e0+_0x2fe6('0x5c')+_0x26d4b2[_0x2f65c3]);_0x241f04[_0x2fe6('0x6b')]=_0x26d4b2[_0x2f65c3];_0x13673a['push'](_0x241f04);}return _0xb6d27c(_0x13673a);}catch(_0xca90ae){return _0x449c3b(_0xca90ae);}});};function _0x507f75(_0x2b0e80){return new Promise(async function(_0x3c6e5d,_0x501f08){try{let _0xe3b058=[];let _0x5631a8=await fs[_0x2fe6('0x55')](_0x2b0e80+_0x2fe6('0x6c'));for(let _0x2fc747=0x0;_0x2fc747<_0x5631a8[_0x2fe6('0x4a')];_0x2fc747++){winston['verbose'](_0x2fe6('0x66')+_0x5631a8[_0x2fc747]);let _0x357f05=await fs['stat'](_0x2b0e80+_0x2fe6('0x60')+_0x5631a8[_0x2fc747]);_0x357f05['name']=_0x5631a8[_0x2fc747];_0xe3b058[_0x2fe6('0x67')](_0x357f05);}return _0x3c6e5d(_0xe3b058);}catch(_0x17e057){return _0x501f08(_0x17e057);}});};function _0x1dd57e(_0x126a5c,_0x5b41c3,_0x42c3bf,_0xcca3bb){return new Promise(async function(_0x4e8c16,_0x2bda40){try{for(let _0x1ce32d=0x0;_0x1ce32d<_0x42c3bf[_0x2fe6('0x63')]['length'];_0x1ce32d++){let _0x5c35de=![];for(let _0x1f9c4c=0x0;_0x1f9c4c<_0xcca3bb[_0x2fe6('0x63')][_0x2fe6('0x4a')];_0x1f9c4c++){if(_0xcca3bb[_0x2fe6('0x63')][_0x1f9c4c][_0x2fe6('0x6b')]==_0x42c3bf[_0x2fe6('0x63')][_0x1ce32d][_0x2fe6('0x68')]){winston[_0x2fe6('0x6d')](_0x2fe6('0x6e')+Math[_0x2fe6('0x6f')](_0xcca3bb[_0x2fe6('0x63')][_0x1f9c4c][_0x2fe6('0x70')]/0x3e8));winston[_0x2fe6('0x6d')](_0x2fe6('0x71')+_0x42c3bf['Editor'][_0x1ce32d]['attrs']['mtime']);if(Math['floor'](_0xcca3bb[_0x2fe6('0x63')][_0x1f9c4c][_0x2fe6('0x70')]/0x3e8)>_0x42c3bf[_0x2fe6('0x63')][_0x1ce32d][_0x2fe6('0x72')][_0x2fe6('0x73')]){_0x5c35de=!![];winston['verbose'](_0x2fe6('0x74')+_0xcca3bb[_0x2fe6('0x63')][_0x1f9c4c][_0x2fe6('0x6b')]+_0x2fe6('0x75'));try{await _0x3cb149(_0x126a5c,_0x5b41c3,_0x42c3bf['Editor'][_0x1ce32d][_0x2fe6('0x68')],_0x2fe6('0x63'));}catch(_0x300bf1){return _0x2bda40(_0x300bf1);}break;}else{_0x5c35de=!![];winston[_0x2fe6('0x65')](_0x2fe6('0x76')+_0xcca3bb[_0x2fe6('0x63')][_0x1f9c4c][_0x2fe6('0x6b')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x3ccbc9(_0x126a5c,_0x5b41c3,_0x42c3bf[_0x2fe6('0x63')][_0x1ce32d][_0x2fe6('0x68')],'Editor');}catch(_0x5d6aa5){winston[_0x2fe6('0x6d')]('Error:\x20'+_0x5d6aa5);return _0x2bda40(_0x5d6aa5);}break;}}}if(!_0x5c35de){winston['verbose'](_0x42c3bf[_0x2fe6('0x63')][_0x1ce32d][_0x2fe6('0x68')]+_0x2fe6('0x77'));try{await _0x3ccbc9(_0x126a5c,_0x5b41c3,_0x42c3bf['Editor'][_0x1ce32d][_0x2fe6('0x68')],_0x2fe6('0x63'));}catch(_0x44bfbf){return _0x2bda40(_0x44bfbf);}}}for(let _0x1deab2=0x0;_0x1deab2<_0x42c3bf[_0x2fe6('0x64')][_0x2fe6('0x4a')];_0x1deab2++){let _0x5c35de=![];for(let _0x1f9c4c=0x0;_0x1f9c4c<_0xcca3bb['Blockly'][_0x2fe6('0x4a')];_0x1f9c4c++){if(_0xcca3bb['Blockly'][_0x1f9c4c][_0x2fe6('0x6b')]==_0x42c3bf['Blockly'][_0x1deab2][_0x2fe6('0x68')]){winston['debug'](_0x2fe6('0x6e')+Math['floor'](_0xcca3bb['Blockly'][_0x1f9c4c][_0x2fe6('0x70')]/0x3e8));winston['debug'](_0x2fe6('0x71')+_0x42c3bf[_0x2fe6('0x64')][_0x1deab2][_0x2fe6('0x72')][_0x2fe6('0x73')]);if(Math[_0x2fe6('0x6f')](_0xcca3bb[_0x2fe6('0x64')][_0x1f9c4c][_0x2fe6('0x70')]/0x3e8)>_0x42c3bf['Blockly'][_0x1deab2][_0x2fe6('0x72')][_0x2fe6('0x73')]){_0x5c35de=!![];winston[_0x2fe6('0x65')](_0x2fe6('0x74')+_0xcca3bb[_0x2fe6('0x64')][_0x1f9c4c][_0x2fe6('0x6b')]+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x3cb149(_0x126a5c,_0x5b41c3,_0x42c3bf['Blockly'][_0x1deab2][_0x2fe6('0x68')],'Blockly');}catch(_0x41faed){return _0x2bda40(_0x41faed);}break;}else{_0x5c35de=!![];winston[_0x2fe6('0x65')]('Remote\x20\x22'+_0xcca3bb[_0x2fe6('0x64')][_0x1f9c4c][_0x2fe6('0x6b')]+_0x2fe6('0x78'));try{await _0x3ccbc9(_0x126a5c,_0x5b41c3,_0x42c3bf[_0x2fe6('0x64')][_0x1deab2][_0x2fe6('0x68')],_0x2fe6('0x64'));}catch(_0x1a2545){winston[_0x2fe6('0x6d')](_0x2fe6('0x79')+_0x1a2545);return _0x2bda40(_0x1a2545);}break;}}}if(!_0x5c35de){winston[_0x2fe6('0x65')](_0x42c3bf[_0x2fe6('0x64')][_0x1deab2][_0x2fe6('0x68')]+'\x20not\x20a\x20common\x20file!');try{await _0x3ccbc9(_0x126a5c,_0x5b41c3,_0x42c3bf[_0x2fe6('0x64')][_0x1deab2][_0x2fe6('0x68')],_0x2fe6('0x64'));}catch(_0x19065d){return _0x2bda40(_0x19065d);}}}return _0x4e8c16();}catch(_0x69f80e){return _0x2bda40(_0x69f80e);}});};function _0x3cb149(_0x3178f1,_0x169867,_0x372691,_0x2963f3){return new Promise((_0x51daf6,_0x47ca16)=>{try{let _0x220cc7=_0x2fe6('0x56')+_0x169867['username']+'/'+_0x2963f3+'/'+_0x372691;let _0x33473a=_0x169867[_0x2fe6('0x52')]+'/'+_0x2963f3+'/'+_0x372691;winston['verbose'](_0x2fe6('0x7a')+_0x220cc7);winston[_0x2fe6('0x65')](_0x2fe6('0x7b')+_0x33473a);_0x3178f1[_0x2fe6('0x7c')](_0x33473a,_0x220cc7,{},function(_0x4d10fa){if(_0x4d10fa){winston[_0x2fe6('0x6d')]('Error\x20uploading\x20file:\x20'+_0x372691);return _0x47ca16(_0x4d10fa);}winston[_0x2fe6('0x4d')]('Uploaded\x20'+_0x372691);return _0x51daf6();});}catch(_0x10a5e9){return _0x47ca16(_0x10a5e9);}});};function _0x3ccbc9(_0x139b2c,_0x261da8,_0x224f98,_0x22a255){return new Promise((_0x2e8bd4,_0x17fbd)=>{try{let _0x4806f0=_0x2fe6('0x56')+_0x261da8[_0x2fe6('0x2e')]+'/'+_0x22a255+'/'+_0x224f98;let _0x3a2efa=_0x261da8[_0x2fe6('0x52')]+'/'+_0x22a255+'/'+_0x224f98;winston['verbose']('Remote\x20path:\x20'+_0x4806f0);winston['verbose'](_0x2fe6('0x7b')+_0x3a2efa);_0x139b2c['fastGet'](_0x4806f0,_0x3a2efa,{},function(_0x39ff08){if(_0x39ff08){winston[_0x2fe6('0x6d')](_0x2fe6('0x7d')+_0x224f98);return _0x17fbd(_0x39ff08);}winston[_0x2fe6('0x4d')](_0x2fe6('0x7e')+_0x224f98);return _0x2e8bd4();});}catch(_0x40748f){return _0x17fbd(_0x40748f);}});};function _0x46328f(_0x47c9db,_0x2d8052,_0x339167,_0x315d74){_0x47c9db['readdir']('/home/c3/FusionFilesystem/'+_0x2d8052[_0x2fe6('0x2e')],function(_0x27652f){if(_0x27652f){console[_0x2fe6('0x38')](_0x2fe6('0x7f')+_0x27652f);_0x47c9db[_0x2fe6('0x57')](_0x2fe6('0x56')+_0x2d8052[_0x2fe6('0x2e')],function(_0x4d03b5){if(_0x4d03b5){console[_0x2fe6('0x38')](_0x2fe6('0x80')+_0x4d03b5);throw _0x4d03b5;}console[_0x2fe6('0x38')](_0x2fe6('0x81'));_0x47c9db['mkdir'](_0x2fe6('0x56')+_0x2d8052['username']+_0x2fe6('0x5c'),function(_0xfa2342){if(_0xfa2342){console['log'](_0x2fe6('0x82')+_0xfa2342);throw _0xfa2342;}console[_0x2fe6('0x38')](_0x2fe6('0x83'));_0x47c9db[_0x2fe6('0x57')]('/home/c3/FusionFilesystem/'+_0x2d8052['username']+_0x2fe6('0x60'),function(_0x31aece){if(_0x31aece){console[_0x2fe6('0x38')](_0x2fe6('0x84')+_0x31aece);throw _0x31aece;}console[_0x2fe6('0x38')]('Blockly\x20directory\x20created');_0x315d74(_0x47c9db,_0x2d8052,_0x339167);});});});}_0x315d74(_0x47c9db,_0x2d8052,_0x339167);});};function _0x314e64(_0x2da58a,_0x10caeb,_0x24f61c){_0x2da58a[_0x2fe6('0x55')](_0x2fe6('0x56')+_0x10caeb[_0x2fe6('0x2e')]+_0x2fe6('0x5c'),function(_0x4b1368,_0x272e20){if(_0x4b1368){console[_0x2fe6('0x38')](_0x2fe6('0x85')+_0x4b1368);throw _0x4b1368;}_0x8da1a5(_0x10caeb,_0x2fe6('0x63'),_0x272e20,_0x24f61c);});_0x2da58a[_0x2fe6('0x55')]('/home/c3/FusionFilesystem/'+_0x10caeb[_0x2fe6('0x2e')]+_0x2fe6('0x60'),function(_0x3ccb88,_0x5614ff){if(_0x3ccb88){console[_0x2fe6('0x38')](_0x2fe6('0x86')+_0x3ccb88);throw _0x3ccb88;}_0x8da1a5(_0x10caeb,_0x2fe6('0x64'),_0x5614ff,_0x24f61c);});};function _0x8da1a5(_0x58cd57,_0x8b9c13,_0x11bc00,_0x1ba3fb){console[_0x2fe6('0x38')](_0x2fe6('0x87'));if(_0x8b9c13==_0x2fe6('0x64')&&_0x11bc00[_0x2fe6('0x4a')]==0x0){_0x1ba3fb[_0x2fe6('0x50')]();}for(var _0x4e2515=0x0;_0x4e2515<_0x11bc00[_0x2fe6('0x4a')];_0x4e2515++){let _0x257714='/home/c3/FusionFilesystem/'+_0x58cd57[_0x2fe6('0x2e')]+'/'+_0x8b9c13+'/'+_0x11bc00[_0x4e2515][_0x2fe6('0x68')];let _0x2a3f7a='app/filesystem/'+_0x58cd57[_0x2fe6('0x2e')]+'/'+_0x8b9c13+'/';console['log'](_0x2fe6('0x88')+_0x257714+'\x20to\x20'+_0x2a3f7a);SCP[_0x2fe6('0x89')](_0x2fe6('0x8a')+_0x257714,_0x2a3f7a,function(_0x4ccf50){if(_0x4ccf50){console[_0x2fe6('0x38')]('Error\x20downloading:\x20'+_0x257714+_0x2fe6('0x8b')+_0x4ccf50);}if(_0x8b9c13==_0x2fe6('0x64')&&(_0x4e2515=_0x11bc00['length']-0x1)){_0x1ba3fb[_0x2fe6('0x50')]();}});}};};