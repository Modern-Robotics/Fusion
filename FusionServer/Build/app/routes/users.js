var _0x4567=['post','authenticate','local-signup','user','status','Error','connected','socketId','json','User\x20created!','User\x20created\x20but\x20another\x20user\x20is\x20already\x20logged\x20in.','/api/users/:User_Id','findOne','params','toLowerCase','trim','User_Id','body','password','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','User\x20updated!','delete','username','fusion_program_running','SocketVariables','remove','removeFileSystem','local-login','Login\x20Successful','User:\x20','\x20connected\x20to\x20classroom?\x20','logout','log','in\x20cloud\x20login','POST','https://172.16.0.1/backend/auth/ldap','login','/api/users/logout','KillProgram','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','MultiUserAccess','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','User','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','sftp','end','stringify','filepath','10.200.200.1','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Classroom\x20file\x20system\x20found','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','Editor','Blockly','Getting\x20data\x20for\x20','verbose','filename','push','/Editor','name','stat','debug','mtimeMs','attrs','mtime','floor','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20\x22','Remote\x20path:\x20','Local\x20Path:\x20','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','User\x20c3\x20directory\x20created','Error\x20creating\x20editor\x20directory:\x20','Error\x20creating\x20blockly\x20directory:\x20','Blockly\x20directory\x20created','\x20to\x20','c3:root@172.16.0.1:','Error\x20downloading:\x20',',\x20error:\x20','scp2','fs-extra','path','./../../server/classroom/connection/','winston','exports','get','/api/users','Guest','send'];(function(_0x3180e2,_0x49f3af){var _0x2639e5=function(_0x42a730){while(--_0x42a730){_0x3180e2['push'](_0x3180e2['shift']());}};_0x2639e5(++_0x49f3af);}(_0x4567,0x77));var _0x2565=function(_0x48488c,_0x2c6fa4){_0x48488c=_0x48488c-0x0;var _0x412611=_0x4567[_0x48488c];return _0x412611;};var SCP=require(_0x2565('0x0'));var SSH=require('ssh2')['Client'];var fs=require(_0x2565('0x1'));var path=require(_0x2565('0x2'));var rp=require('request-promise');const classroomConnection=require(_0x2565('0x3'));const winston=require(_0x2565('0x4'));module[_0x2565('0x5')]=function(_0x194db2,_0x3742a2,_0x4dfe22,_0x591741,_0x34b22a,_0x521d95){_0x194db2[_0x2565('0x6')](_0x2565('0x7'),_0x14d275(),function(_0x21d6f4,_0x524183){_0x3742a2['find']({'usergroup':{'$ne':_0x2565('0x8')}},function(_0xffe114,_0x4b0a0a){if(_0xffe114)_0x524183[_0x2565('0x9')](_0xffe114);_0x524183['json'](_0x4b0a0a);});});_0x194db2[_0x2565('0xa')](_0x2565('0x7'),_0x4dfe22[_0x2565('0xb')](_0x2565('0xc'),{'session':!![]}),function(_0x29e5f5,_0x4cf566){if(_0x29e5f5[_0x2565('0xd')]['Error']){return _0x4cf566[_0x2565('0xe')](0x1f4)[_0x2565('0x9')](_0x29e5f5[_0x2565('0xd')][_0x2565('0xf')]);}else{if(_0x521d95['MultiUserAccess']){if(classroomConnection[_0x2565('0x10')]){_0x17b0bd(_0x29e5f5[_0x2565('0xd')]);}_0x2bd137(_0x29e5f5['body'][_0x2565('0x11')],_0x29e5f5[_0x2565('0xd')]);return _0x4cf566['status'](0xc8)[_0x2565('0x12')]({'serverMessage':'User\x20created!','user':_0x29e5f5[_0x2565('0xd')]});}else{if(_0x15a77f()==0x0){_0x2bd137(_0x29e5f5['body'][_0x2565('0x11')],_0x29e5f5[_0x2565('0xd')]);if(classroomConnection[_0x2565('0x10')]){_0x17b0bd(_0x29e5f5[_0x2565('0xd')]);}return _0x4cf566[_0x2565('0xe')](0xc8)[_0x2565('0x12')]({'serverMessage':_0x2565('0x13'),'user':_0x29e5f5['user']});}else{_0x29e5f5['logout']();return _0x4cf566[_0x2565('0xe')](0x1f4)[_0x2565('0x9')](_0x2565('0x14'));}}}});_0x194db2[_0x2565('0x6')](_0x2565('0x15'),_0x14d275(),function(_0x4f189d,_0x3ada51){_0x3742a2[_0x2565('0x16')]({'username':_0x4f189d[_0x2565('0x17')]['User_Id'][_0x2565('0x18')]()[_0x2565('0x19')]()},function(_0x3613f4,_0x550f02){if(_0x3613f4)_0x3ada51[_0x2565('0x9')](_0x3613f4);_0x3ada51[_0x2565('0x12')](_0x550f02);});});_0x194db2['put'](_0x2565('0x15'),_0x14d275(),function(_0x2c751f,_0x13028c){_0x3742a2[_0x2565('0x16')]({'username':_0x2c751f[_0x2565('0x17')][_0x2565('0x1a')][_0x2565('0x18')]()['trim']()},function(_0xacdee7,_0x5f53a9){if(_0xacdee7)_0x13028c['send'](_0xacdee7);if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x1c')]){_0x5f53a9['password']=_0x5f53a9['generateHash'](_0x2c751f[_0x2565('0x1b')][_0x2565('0x1c')]);}if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x1d')]){_0x5f53a9[_0x2565('0x1d')]=_0x2c751f[_0x2565('0x1b')][_0x2565('0x1d')];}if(_0x2c751f[_0x2565('0x1b')]['lastname']){_0x5f53a9[_0x2565('0x1e')]=_0x2c751f['body'][_0x2565('0x1e')];}if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x1f')]){_0x5f53a9[_0x2565('0x1f')]=_0x2c751f[_0x2565('0x1b')]['language'];}if(_0x2c751f['body'][_0x2565('0x20')]){_0x5f53a9[_0x2565('0x20')]=_0x2c751f['body'][_0x2565('0x20')];}if(_0x2c751f[_0x2565('0x1b')]['defaultprogramminglanguage']){_0x5f53a9[_0x2565('0x21')]=_0x2c751f[_0x2565('0x1b')][_0x2565('0x21')];}if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x22')]){_0x5f53a9[_0x2565('0x22')]=_0x2c751f[_0x2565('0x1b')][_0x2565('0x22')];}if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x23')]){_0x5f53a9[_0x2565('0x23')]=_0x2c751f[_0x2565('0x1b')][_0x2565('0x23')];}if(_0x2c751f[_0x2565('0x1b')][_0x2565('0x24')]){_0x5f53a9['usergroup']=_0x2c751f[_0x2565('0x1b')][_0x2565('0x24')];}_0x5f53a9['save'](function(_0xacdee7){if(_0xacdee7)_0x13028c[_0x2565('0xe')](0x1f4)[_0x2565('0x9')](_0xacdee7);_0x13028c[_0x2565('0xe')](0xc8)[_0x2565('0x12')]({'serverMessage':_0x2565('0x25')});});});});_0x194db2[_0x2565('0x26')](_0x2565('0x15'),_0x14d275(),function(_0x3d8f18,_0x4330a1){if(_0x3d8f18[_0x2565('0x17')]['User_Id'][_0x2565('0x18')]()['trim']()==_0x3d8f18[_0x2565('0xd')][_0x2565('0x27')]){if(_0x521d95['SocketVariables'][_0x2565('0x28')])if(_0x521d95[_0x2565('0x29')]['fusion_program_running']['User']==_0x3d8f18['user'][_0x2565('0x27')])_0x591741['KillProgram']();_0x35a50d(_0x3d8f18[_0x2565('0xd')][_0x2565('0x27')]);_0x3d8f18['logout']();}_0x3742a2[_0x2565('0x2a')]({'username':_0x3d8f18[_0x2565('0x17')][_0x2565('0x1a')][_0x2565('0x18')]()[_0x2565('0x19')]()},function(_0x2a9bc9,_0x5d5131){if(_0x2a9bc9)return _0x4330a1[_0x2565('0x9')](_0x2a9bc9);_0x3742a2[_0x2565('0x2b')](_0x3d8f18['params'][_0x2565('0x1a')][_0x2565('0x18')]()['trim']());return _0x4330a1[_0x2565('0xe')](0xc8)[_0x2565('0x12')]({'serverMessage':'Successfully\x20deleted'});});});_0x194db2['post']('/api/users/login',_0x4dfe22[_0x2565('0xb')](_0x2565('0x2c'),{'session':!![]}),async function(_0x1a2fdf,_0x282b08){if(_0x521d95['MultiUserAccess']){if(classroomConnection[_0x2565('0x10')]){await _0x17b0bd(_0x1a2fdf[_0x2565('0xd')]);}_0x2bd137(_0x1a2fdf['body'][_0x2565('0x11')],_0x1a2fdf[_0x2565('0xd')]);return _0x282b08[_0x2565('0xe')](0xc8)[_0x2565('0x12')]({'serverMessage':_0x2565('0x2d'),'user':_0x1a2fdf[_0x2565('0xd')]});}else{if(_0x15a77f()==0x0){_0x2bd137(_0x1a2fdf[_0x2565('0x1b')][_0x2565('0x11')],_0x1a2fdf['user']);console['log'](_0x2565('0x2e')+_0x1a2fdf[_0x2565('0xd')]+_0x2565('0x2f')+classroomConnection['connected']);if(classroomConnection[_0x2565('0x10')]){await _0x17b0bd(_0x1a2fdf['user']);}return _0x282b08['status'](0xc8)[_0x2565('0x12')]({'serverMessage':_0x2565('0x2d'),'user':_0x1a2fdf[_0x2565('0xd')]});}else{_0x1a2fdf[_0x2565('0x30')]();return _0x282b08[_0x2565('0xe')](0x1f4)[_0x2565('0x9')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x194db2['post']('/api/users/cloudLogin',async function(_0x4b1d46,_0x42638c){console[_0x2565('0x31')](_0x2565('0x32'));var _0x4edc6f={'method':_0x2565('0x33'),'uri':_0x2565('0x34'),'body':{'username':_0x4b1d46['body']['username'],'password':_0x4b1d46['body'][_0x2565('0x1c')]},'json':!![],'rejectUnauthorized':![]};try{let _0x9c6b2c=await rp(_0x4edc6f);let _0x16a0f0=await _0x3742a2[_0x2565('0x16')]({'username':_0x4b1d46[_0x2565('0x1b')][_0x2565('0x27')]})['exec']();if(_0x16a0f0){return _0x42638c[_0x2565('0xe')](0xc8)[_0x2565('0x9')](_0x2565('0x35'));}else{return _0x42638c[_0x2565('0xe')](0xc8)[_0x2565('0x9')]('create');}}catch(_0x1d09c3){console['log']('Error\x20with\x20request\x20promise.\x20'+_0x1d09c3);return _0x42638c[_0x2565('0xe')](0x1f4)[_0x2565('0x9')](_0x1d09c3);}});_0x194db2[_0x2565('0xa')](_0x2565('0x36'),_0x14d275(),function(_0x5a4fad,_0x50767b){if(_0x521d95[_0x2565('0x29')][_0x2565('0x28')])if(_0x521d95['SocketVariables'][_0x2565('0x28')]['User']==_0x5a4fad['user'][_0x2565('0x27')])_0x591741[_0x2565('0x37')]();_0x4f9c49(_0x5a4fad[_0x2565('0x1b')][_0x2565('0x11')]);_0x5a4fad[_0x2565('0x30')]();_0x50767b[_0x2565('0xe')](0xc8)['json']({'serverMessage':_0x2565('0x38')});});_0x194db2['get'](_0x2565('0x39'),function(_0x51838a,_0x636034){_0x3742a2[_0x2565('0x16')]({'username':_0x51838a[_0x2565('0x17')][_0x2565('0x1a')][_0x2565('0x18')]()['trim']()},function(_0x1f6433,_0x20eebc){if(_0x1f6433)return _0x636034['status'](0x1f4)[_0x2565('0x9')](_0x1f6433);if(!_0x20eebc)return _0x636034[_0x2565('0xe')](0x1f4)['send'](_0x2565('0x3a'));else return _0x636034[_0x2565('0xe')](0xc8)['json'](_0x20eebc['securityquestion']);});});_0x194db2[_0x2565('0xa')](_0x2565('0x3b'),_0x4dfe22[_0x2565('0xb')]('local-recovery',{'session':!![]}),function(_0x5da6bb,_0x2ecaf6){if(_0x521d95[_0x2565('0x3c')]){if(classroomConnection[_0x2565('0x10')]){_0x17b0bd(_0x5da6bb['user']);}_0x2bd137(_0x5da6bb[_0x2565('0x1b')][_0x2565('0x11')],_0x5da6bb[_0x2565('0xd')]);return _0x2ecaf6[_0x2565('0xe')](0xc8)['json']({'serverMessage':_0x2565('0x2d'),'user':_0x5da6bb[_0x2565('0xd')]});}else{if(_0x15a77f()==0x0){_0x2bd137(_0x5da6bb[_0x2565('0x1b')][_0x2565('0x11')],_0x5da6bb[_0x2565('0xd')]);if(classroomConnection[_0x2565('0x10')]){_0x17b0bd(_0x5da6bb[_0x2565('0xd')]);}return _0x2ecaf6['status'](0xc8)['json']({'serverMessage':'Login\x20Successful','user':_0x5da6bb[_0x2565('0xd')]});}else{_0x5da6bb['logout']();return _0x2ecaf6['status'](0x1f4)['send'](_0x2565('0x3d'));}}});_0x194db2[_0x2565('0x6')](_0x2565('0x3e'),function(_0x3c40c2,_0x1a3ea7){var _0x5a2201=[_0x2565('0x3f')];_0x3742a2[_0x2565('0x16')]({'usergroup':_0x2565('0x40')},function(_0x256439,_0x52f2ee){if(_0x256439)return _0x1a3ea7[_0x2565('0xe')](0xc8)[_0x2565('0x9')](_0x5a2201);if(!_0x52f2ee)_0x5a2201[_0x2565('0x41')]('Admin');return _0x1a3ea7['status'](0xc8)[_0x2565('0x9')](_0x5a2201);});});function _0x15a77f(){var _0x34cf85=0x0;for(var _0x3d80e3=0x0;_0x3d80e3<_0x521d95[_0x2565('0x42')]['length'];_0x3d80e3++){if(_0x521d95[_0x2565('0x42')][_0x3d80e3][_0x2565('0x3f')]){_0x34cf85++;}}return _0x34cf85;}function _0x2bd137(_0xc84db5,_0x32bf1e){for(var _0x2f0e1c=0x0;_0x2f0e1c<_0x521d95[_0x2565('0x42')][_0x2565('0x43')];_0x2f0e1c++){if(_0x521d95[_0x2565('0x42')][_0x2f0e1c]['id']==_0xc84db5){_0x521d95[_0x2565('0x42')][_0x2f0e1c][_0x2565('0x3f')]=_0x32bf1e;break;}}}function _0x4f9c49(_0x308ba2){for(var _0x32dddd=0x0;_0x32dddd<_0x521d95[_0x2565('0x42')][_0x2565('0x43')];_0x32dddd++){if(_0x521d95[_0x2565('0x42')][_0x32dddd]['id']==_0x308ba2){_0x521d95[_0x2565('0x42')][_0x32dddd][_0x2565('0x3f')]=undefined;break;}}}function _0x35a50d(_0x220b7f){for(var _0x4f071c=0x0;_0x4f071c<_0x521d95['connectedClients'][_0x2565('0x43')];_0x4f071c++){if(_0x521d95[_0x2565('0x42')][_0x4f071c]['User']['username']==_0x220b7f){_0x521d95[_0x2565('0x42')][_0x4f071c][_0x2565('0x3f')]=undefined;break;}}}function _0x14d275(){return function(_0x4aef6d,_0xc7d896,_0x12ac24){if(_0x4aef6d[_0x2565('0x44')]()){return _0x12ac24();}else{_0xc7d896[_0x2565('0xe')](0x191)[_0x2565('0x9')](_0x2565('0x45'));}};}async function _0x17b0bd(_0x3c8fc9){try{await _0x5f183f(_0x3c8fc9);}catch(_0x44106d){winston[_0x2565('0x46')](_0x44106d);winston['info'](_0x2565('0x47')+_0x3c8fc9[_0x2565('0x27')]);}};function _0x5f183f(_0x318e89){return new Promise(function(_0x26aba1,_0x3a6fd2){var _0x3f1c8d=new SSH();_0x3f1c8d['on']('ready',function(){_0x3f1c8d[_0x2565('0x48')](async function(_0x34090f,_0x377efc){if(_0x34090f){winston['info']('Error\x20communicating\x20with\x20c3:\x20'+_0x34090f);_0x3f1c8d[_0x2565('0x49')]();return _0x3a6fd2(_0x34090f);}try{await _0x55637e(_0x377efc);await _0x1bdf63(_0x377efc,_0x318e89['username']);await _0x2d7cd9(_0x377efc,_0x318e89[_0x2565('0x27')]);await _0x496e36(_0x377efc,_0x318e89[_0x2565('0x27')]);let _0x260216=await _0x37ac98(_0x377efc,_0x318e89['username']);winston[_0x2565('0x46')](JSON[_0x2565('0x4a')](_0x260216));let _0x177471=await _0x33dd02(_0x318e89[_0x2565('0x4b')]);winston[_0x2565('0x46')](JSON[_0x2565('0x4a')](_0x177471));await _0x583486(_0x377efc,_0x318e89,_0x260216,_0x177471);_0x3f1c8d['end']();return _0x26aba1();}catch(_0x403bfb){winston[_0x2565('0x46')](_0x403bfb);_0x3f1c8d[_0x2565('0x49')]();return _0x3a6fd2(_0x403bfb);}});})['connect']({'host':_0x2565('0x4c'),'port':0x16,'username':'c3','password':'root'});});};function _0x55637e(_0x558938){return new Promise(function(_0x3bf259,_0x447c65){_0x558938[_0x2565('0x4d')](_0x2565('0x4e'),function(_0x5356e9){if(_0x5356e9){_0x558938[_0x2565('0x4f')](_0x2565('0x4e'),function(_0x1b4b90){if(_0x1b4b90){return _0x447c65(_0x2565('0x50')+_0x1b4b90);}else{winston['info'](_0x2565('0x51'));return _0x3bf259();}});}else{winston['info'](_0x2565('0x52'));return _0x3bf259();}});});};function _0x1bdf63(_0xc6c324,_0x450511){return new Promise(function(_0xc36dee,_0x308cec){_0xc6c324[_0x2565('0x4d')]('/home/c3/FusionFilesystem/'+_0x450511,function(_0xd771eb){if(_0xd771eb){_0xc6c324['mkdir'](_0x2565('0x4e')+_0x450511,function(_0x258af4){if(_0x258af4){return _0x308cec(_0x2565('0x53')+_0x258af4);}else{winston[_0x2565('0x46')](_0x2565('0x54'));return _0xc36dee();}});}else{winston[_0x2565('0x46')](_0x2565('0x55'));return _0xc36dee();}});});};function _0x2d7cd9(_0x2a0b35,_0x5bb77f){return new Promise(function(_0x3ae474,_0xede500){_0x2a0b35[_0x2565('0x4d')](_0x2565('0x4e')+_0x5bb77f+'/Editor/',function(_0xc2169d){if(_0xc2169d){_0x2a0b35[_0x2565('0x4f')](_0x2565('0x4e')+_0x5bb77f+_0x2565('0x56'),function(_0x585e22){if(_0x585e22){return _0xede500(_0x2565('0x57')+_0x585e22);}else{winston[_0x2565('0x46')]('User\x27s\x20editor\x20directory\x20created');return _0x3ae474();}});}else{winston['info'](_0x2565('0x58'));return _0x3ae474();}});});};function _0x496e36(_0x3fc0f0,_0x16675e){return new Promise(function(_0x209958,_0x2e4078){_0x3fc0f0['readdir'](_0x2565('0x4e')+_0x16675e+_0x2565('0x59'),function(_0x1cf979){if(_0x1cf979){_0x3fc0f0[_0x2565('0x4f')](_0x2565('0x4e')+_0x16675e+_0x2565('0x59'),function(_0x194fd9){if(_0x194fd9){return _0x2e4078(_0x2565('0x5a')+_0x194fd9);}else{winston[_0x2565('0x46')](_0x2565('0x5b'));return _0x209958();}});}else{winston[_0x2565('0x46')](_0x2565('0x5c'));return _0x209958();}});});};function _0x37ac98(_0x2dfa05,_0x2f821a){return new Promise(async function(_0x6cb96d,_0x28f332){try{let _0x269e10={};_0x269e10[_0x2565('0x5d')]=await _0x48ef17(_0x2dfa05,_0x2f821a);_0x269e10[_0x2565('0x5e')]=await _0x17138c(_0x2dfa05,_0x2f821a);return _0x6cb96d(_0x269e10);}catch(_0x777537){return _0x28f332(_0x777537);}});};function _0x48ef17(_0x5b32e8,_0x1372c8){return new Promise(function(_0x4461fc,_0x226346){_0x5b32e8['readdir'](_0x2565('0x4e')+_0x1372c8+_0x2565('0x56'),function(_0x23d8b3,_0x55a2e7){if(_0x23d8b3)return _0x226346(_0x23d8b3);let _0x1c6b7c=[];for(let _0x579626=0x0;_0x579626<_0x55a2e7[_0x2565('0x43')];_0x579626++){winston['verbose'](_0x2565('0x5f')+_0x55a2e7[_0x579626]['filename']);_0x1c6b7c['push'](_0x55a2e7[_0x579626]);}return _0x4461fc(_0x1c6b7c);});});};function _0x17138c(_0x27d9c3,_0x5d00b6){return new Promise(function(_0x3cf315,_0x1af617){_0x27d9c3[_0x2565('0x4d')]('/home/c3/FusionFilesystem/'+_0x5d00b6+'/Blockly/',function(_0x19b92f,_0x452b8d){if(_0x19b92f)return _0x1af617(_0x19b92f);let _0x58b893=[];for(let _0x2d5b64=0x0;_0x2d5b64<_0x452b8d[_0x2565('0x43')];_0x2d5b64++){winston[_0x2565('0x60')](_0x2565('0x5f')+_0x452b8d[_0x2d5b64][_0x2565('0x61')]);_0x58b893[_0x2565('0x62')](_0x452b8d[_0x2d5b64]);}return _0x3cf315(_0x58b893);});});};function _0x33dd02(_0x201e00){return new Promise(async function(_0x339abe,_0x38a983){try{let _0x1e05c7={};_0x1e05c7[_0x2565('0x5d')]=await _0x361aa6(_0x201e00);_0x1e05c7[_0x2565('0x5e')]=await _0x52084c(_0x201e00);return _0x339abe(_0x1e05c7);}catch(_0x102544){return _0x38a983(_0x102544);}});};function _0x361aa6(_0x927071){return new Promise(async function(_0x2e40c3,_0x23be3e){try{let _0x1bb1a7=[];let _0x27c300=await fs[_0x2565('0x4d')](_0x927071+_0x2565('0x63'));for(let _0x54cf0d=0x0;_0x54cf0d<_0x27c300[_0x2565('0x43')];_0x54cf0d++){winston[_0x2565('0x60')](_0x2565('0x5f')+_0x27c300[_0x54cf0d]);let _0x18200c=await fs['stat'](_0x927071+_0x2565('0x56')+_0x27c300[_0x54cf0d]);_0x18200c[_0x2565('0x64')]=_0x27c300[_0x54cf0d];_0x1bb1a7[_0x2565('0x62')](_0x18200c);}return _0x2e40c3(_0x1bb1a7);}catch(_0x3720af){return _0x23be3e(_0x3720af);}});};function _0x52084c(_0xb89b34){return new Promise(async function(_0x56ae86,_0x477e76){try{let _0x42490f=[];let _0x5cd2f5=await fs[_0x2565('0x4d')](_0xb89b34+'/Blockly');for(let _0x4f7e30=0x0;_0x4f7e30<_0x5cd2f5['length'];_0x4f7e30++){winston['verbose'](_0x2565('0x5f')+_0x5cd2f5[_0x4f7e30]);let _0x57c7b1=await fs[_0x2565('0x65')](_0xb89b34+_0x2565('0x59')+_0x5cd2f5[_0x4f7e30]);_0x57c7b1['name']=_0x5cd2f5[_0x4f7e30];_0x42490f[_0x2565('0x62')](_0x57c7b1);}return _0x56ae86(_0x42490f);}catch(_0x289e93){return _0x477e76(_0x289e93);}});};function _0x583486(_0x5f1cba,_0xf4159c,_0x5c4f63,_0x426985){return new Promise(async function(_0x4c2b98,_0x4fcca8){try{for(let _0x25b504=0x0;_0x25b504<_0x5c4f63[_0x2565('0x5d')]['length'];_0x25b504++){let _0x1fea31=![];for(let _0x2b80da=0x0;_0x2b80da<_0x426985[_0x2565('0x5d')][_0x2565('0x43')];_0x2b80da++){if(_0x426985[_0x2565('0x5d')][_0x2b80da][_0x2565('0x64')]==_0x5c4f63[_0x2565('0x5d')][_0x25b504]['filename']){winston[_0x2565('0x66')]('Local\x20mtime:\x20'+Math['floor'](_0x426985[_0x2565('0x5d')][_0x2b80da][_0x2565('0x67')]/0x3e8));winston[_0x2565('0x66')]('Remote\x20mtime:\x20'+_0x5c4f63[_0x2565('0x5d')][_0x25b504][_0x2565('0x68')][_0x2565('0x69')]);if(Math[_0x2565('0x6a')](_0x426985['Editor'][_0x2b80da]['mtimeMs']/0x3e8)>_0x5c4f63['Editor'][_0x25b504][_0x2565('0x68')][_0x2565('0x69')]){_0x1fea31=!![];winston[_0x2565('0x60')](_0x2565('0x6b')+_0x426985[_0x2565('0x5d')][_0x2b80da][_0x2565('0x64')]+_0x2565('0x6c'));try{await _0x350ae9(_0x5f1cba,_0xf4159c,_0x5c4f63[_0x2565('0x5d')][_0x25b504]['filename'],_0x2565('0x5d'));}catch(_0x3bcc9c){return _0x4fcca8(_0x3bcc9c);}break;}else{_0x1fea31=!![];winston['verbose']('Remote\x20\x22'+_0x426985['Editor'][_0x2b80da][_0x2565('0x64')]+_0x2565('0x6d'));try{await _0x1df981(_0x5f1cba,_0xf4159c,_0x5c4f63[_0x2565('0x5d')][_0x25b504]['filename'],'Editor');}catch(_0x431c60){winston[_0x2565('0x66')](_0x2565('0x6e')+_0x431c60);return _0x4fcca8(_0x431c60);}break;}}}if(!_0x1fea31){winston[_0x2565('0x60')](_0x5c4f63[_0x2565('0x5d')][_0x25b504][_0x2565('0x61')]+_0x2565('0x6f'));try{await _0x1df981(_0x5f1cba,_0xf4159c,_0x5c4f63['Editor'][_0x25b504]['filename'],_0x2565('0x5d'));}catch(_0x5c55c1){return _0x4fcca8(_0x5c55c1);}}}for(let _0x147a32=0x0;_0x147a32<_0x5c4f63[_0x2565('0x5e')]['length'];_0x147a32++){let _0x1fea31=![];for(let _0x2b80da=0x0;_0x2b80da<_0x426985[_0x2565('0x5e')]['length'];_0x2b80da++){if(_0x426985[_0x2565('0x5e')][_0x2b80da][_0x2565('0x64')]==_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x61')]){winston[_0x2565('0x66')]('Local\x20mtime:\x20'+Math[_0x2565('0x6a')](_0x426985[_0x2565('0x5e')][_0x2b80da][_0x2565('0x67')]/0x3e8));winston[_0x2565('0x66')]('Remote\x20mtime:\x20'+_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x68')][_0x2565('0x69')]);if(Math[_0x2565('0x6a')](_0x426985[_0x2565('0x5e')][_0x2b80da][_0x2565('0x67')]/0x3e8)>_0x5c4f63['Blockly'][_0x147a32][_0x2565('0x68')][_0x2565('0x69')]){_0x1fea31=!![];winston[_0x2565('0x60')](_0x2565('0x6b')+_0x426985['Blockly'][_0x2b80da]['name']+'\x22\x20newer,\x20updating\x20classroom\x20version');try{await _0x350ae9(_0x5f1cba,_0xf4159c,_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x61')],_0x2565('0x5e'));}catch(_0x524c4c){return _0x4fcca8(_0x524c4c);}break;}else{_0x1fea31=!![];winston['verbose'](_0x2565('0x70')+_0x426985[_0x2565('0x5e')][_0x2b80da][_0x2565('0x64')]+'\x22\x20newer,\x20updating\x20local\x20version');try{await _0x1df981(_0x5f1cba,_0xf4159c,_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x61')],_0x2565('0x5e'));}catch(_0x162c04){winston['debug']('Error:\x20'+_0x162c04);return _0x4fcca8(_0x162c04);}break;}}}if(!_0x1fea31){winston['verbose'](_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x61')]+_0x2565('0x6f'));try{await _0x1df981(_0x5f1cba,_0xf4159c,_0x5c4f63[_0x2565('0x5e')][_0x147a32][_0x2565('0x61')],'Blockly');}catch(_0xc91186){return _0x4fcca8(_0xc91186);}}}return _0x4c2b98();}catch(_0x5ddbca){return _0x4fcca8(_0x5ddbca);}});};function _0x350ae9(_0x35b04b,_0x5e8bdb,_0x26fcfc,_0x35e8c4){return new Promise((_0x4832bb,_0x30ab8b)=>{try{let _0x220c83='/home/c3/FusionFilesystem/'+_0x5e8bdb[_0x2565('0x27')]+'/'+_0x35e8c4+'/'+_0x26fcfc;let _0x3a4b03=_0x5e8bdb[_0x2565('0x4b')]+'/'+_0x35e8c4+'/'+_0x26fcfc;winston[_0x2565('0x60')](_0x2565('0x71')+_0x220c83);winston[_0x2565('0x60')](_0x2565('0x72')+_0x3a4b03);_0x35b04b['fastPut'](_0x3a4b03,_0x220c83,{},function(_0xfad163){if(_0xfad163){winston[_0x2565('0x66')]('Error\x20uploading\x20file:\x20'+_0x26fcfc);return _0x30ab8b(_0xfad163);}winston[_0x2565('0x46')](_0x2565('0x73')+_0x26fcfc);return _0x4832bb();});}catch(_0x5dfca9){return _0x30ab8b(_0x5dfca9);}});};function _0x1df981(_0x6f6b54,_0x1403cc,_0x3e9cbb,_0x28deb8){return new Promise((_0x2181fa,_0x7e6fea)=>{try{let _0x38aaea=_0x2565('0x4e')+_0x1403cc[_0x2565('0x27')]+'/'+_0x28deb8+'/'+_0x3e9cbb;let _0x1f0921=_0x1403cc['filepath']+'/'+_0x28deb8+'/'+_0x3e9cbb;winston[_0x2565('0x60')](_0x2565('0x71')+_0x38aaea);winston[_0x2565('0x60')](_0x2565('0x72')+_0x1f0921);_0x6f6b54[_0x2565('0x74')](_0x38aaea,_0x1f0921,{},function(_0x536a82){if(_0x536a82){winston[_0x2565('0x66')](_0x2565('0x75')+_0x3e9cbb);return _0x7e6fea(_0x536a82);}winston[_0x2565('0x46')](_0x2565('0x76')+_0x3e9cbb);return _0x2181fa();});}catch(_0x5b79ed){return _0x7e6fea(_0x5b79ed);}});};function _0x174181(_0x1cac85,_0x39b9c1,_0x20da81,_0x414891){_0x1cac85[_0x2565('0x4d')](_0x2565('0x4e')+_0x39b9c1[_0x2565('0x27')],function(_0x40253e){if(_0x40253e){console[_0x2565('0x31')](_0x2565('0x77')+_0x40253e);_0x1cac85[_0x2565('0x4f')](_0x2565('0x4e')+_0x39b9c1[_0x2565('0x27')],function(_0x5e1d4c){if(_0x5e1d4c){console['log'](_0x2565('0x78')+_0x5e1d4c);throw _0x5e1d4c;}console[_0x2565('0x31')](_0x2565('0x79'));_0x1cac85[_0x2565('0x4f')](_0x2565('0x4e')+_0x39b9c1['username']+_0x2565('0x56'),function(_0x5d5d0a){if(_0x5d5d0a){console[_0x2565('0x31')](_0x2565('0x7a')+_0x5d5d0a);throw _0x5d5d0a;}console['log']('Editor\x20directory\x20created');_0x1cac85[_0x2565('0x4f')](_0x2565('0x4e')+_0x39b9c1['username']+'/Blockly/',function(_0x4a7204){if(_0x4a7204){console[_0x2565('0x31')](_0x2565('0x7b')+_0x4a7204);throw _0x4a7204;}console[_0x2565('0x31')](_0x2565('0x7c'));_0x414891(_0x1cac85,_0x39b9c1,_0x20da81);});});});}_0x414891(_0x1cac85,_0x39b9c1,_0x20da81);});};function _0x25d39f(_0x14a9b8,_0x3841b1,_0x51da14){_0x14a9b8[_0x2565('0x4d')](_0x2565('0x4e')+_0x3841b1['username']+_0x2565('0x56'),function(_0x5404ba,_0x3cbc65){if(_0x5404ba){console[_0x2565('0x31')]('Error\x20reading\x20classroom\x20editor\x20files:\x20'+_0x5404ba);throw _0x5404ba;}_0x136164(_0x3841b1,_0x2565('0x5d'),_0x3cbc65,_0x51da14);});_0x14a9b8[_0x2565('0x4d')](_0x2565('0x4e')+_0x3841b1['username']+'/Blockly/',function(_0x49e209,_0x1d7390){if(_0x49e209){console[_0x2565('0x31')]('Error\x20reading\x20classroom\x20blockly\x20files:\x20'+_0x49e209);throw _0x49e209;}_0x136164(_0x3841b1,_0x2565('0x5e'),_0x1d7390,_0x51da14);});};function _0x136164(_0x253b1d,_0x39ecf1,_0x21a9f6,_0x3e066d){console[_0x2565('0x31')]('Retrieving\x20files');if(_0x39ecf1==_0x2565('0x5e')&&_0x21a9f6[_0x2565('0x43')]==0x0){_0x3e066d['end']();}for(var _0x1f11e5=0x0;_0x1f11e5<_0x21a9f6['length'];_0x1f11e5++){let _0x42a868=_0x2565('0x4e')+_0x253b1d[_0x2565('0x27')]+'/'+_0x39ecf1+'/'+_0x21a9f6[_0x1f11e5]['filename'];let _0x4d7a89='app/filesystem/'+_0x253b1d[_0x2565('0x27')]+'/'+_0x39ecf1+'/';console['log']('Moving:\x20'+_0x42a868+_0x2565('0x7d')+_0x4d7a89);SCP['scp'](_0x2565('0x7e')+_0x42a868,_0x4d7a89,function(_0xd718d3){if(_0xd718d3){console[_0x2565('0x31')](_0x2565('0x7f')+_0x42a868+_0x2565('0x80')+_0xd718d3);}if(_0x39ecf1==_0x2565('0x5e')&&(_0x1f11e5=_0x21a9f6[_0x2565('0x43')]-0x1)){_0x3e066d[_0x2565('0x49')]();}});}};};