var _0x4a86=['put','params','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','delete','username','fusion_program_running','SocketVariables','remove','/api/users/login','local-login','message','MultiUserAccess','LOGIN.SUCCESS','/api/users/cloudLogin','log','login','create','/api/users/logout','User','KillProgram','Logged\x20out\x20successfully','/api/recovery/:User_Id','Login\x20Successful','logout','Another\x20user\x20is\x20already\x20logged\x20in.','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','sftp','Error\x20communicating\x20with\x20c3:\x20','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20created','User\x27s\x20blockly\x20directory\x20found','Editor','verbose','Getting\x20data\x20for\x20','filename','push','Blockly','/Blockly','stat','name','debug','Local\x20mtime:\x20','floor','mtimeMs','attrs','mtime','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20mtime:\x20','Remote\x20path:\x20','fastPut','Error\x20uploading\x20file:\x20','Local\x20Path:\x20','Error\x20downloading\x20file:\x20','Error\x20reading\x20user\x20file\x20system:\x20','Blockly\x20directory\x20created','Error\x20reading\x20classroom\x20editor\x20files:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','app/filesystem/','Moving:\x20','\x20to\x20','c3:root@172.16.0.1:',',\x20error:\x20','scp2','ssh2','Client','fs-extra','path','request-promise','./../../server/classroom/connection/','winston','exports','get','/api/users','send','json','post','authenticate','status','connected','body','socketId','REGISTER.CREATED','logIn','local-signup','user','Error','/api/users/:User_Id','findOne','User_Id','toLowerCase','trim'];(function(_0xa51919,_0x1c9c78){var _0x467922=function(_0x1ab0e3){while(--_0x1ab0e3){_0xa51919['push'](_0xa51919['shift']());}};_0x467922(++_0x1c9c78);}(_0x4a86,0x1ef));var _0x1abf=function(_0x55562c,_0x491386){_0x55562c=_0x55562c-0x0;var _0x1fada8=_0x4a86[_0x55562c];return _0x1fada8;};var SCP=require(_0x1abf('0x0'));var SSH=require(_0x1abf('0x1'))[_0x1abf('0x2')];var fs=require(_0x1abf('0x3'));var path=require(_0x1abf('0x4'));var rp=require(_0x1abf('0x5'));const classroomConnection=require(_0x1abf('0x6'));const winston=require(_0x1abf('0x7'));module[_0x1abf('0x8')]=function(_0xe21bc5,_0x210fce,_0x13ce1a,_0x3dad59,_0xa81af4,_0x4fb09d){_0xe21bc5[_0x1abf('0x9')](_0x1abf('0xa'),_0x3b79ca(),function(_0x496d14,_0x24e537){_0x210fce['find']({'usergroup':{'$ne':'Guest'}},function(_0x38abd7,_0x2d9a39){if(_0x38abd7)_0x24e537[_0x1abf('0xb')](_0x38abd7);_0x24e537[_0x1abf('0xc')](_0x2d9a39);});});_0xe21bc5[_0x1abf('0xd')](_0x1abf('0xa'),function(_0x180f29,_0x1ccd5b,_0x8dd696){_0x13ce1a[_0x1abf('0xe')]('local-signup',async function(_0x202824,_0x2ee3a6,_0x745871){if(_0x202824)return _0x1ccd5b[_0x1abf('0xf')](0x1f4)['send'](_0x202824);if(_0x745871&&_0x745871['message'])return _0x1ccd5b[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x180f29['__'](_0x745871['message']));if(_0x4fb09d['MultiUserAccess']){if(classroomConnection[_0x1abf('0x10')]){await _0x55fa3f(_0x2ee3a6);}_0x180f29['logIn'](_0x2ee3a6,function(_0x202824){if(_0x202824){return _0x8dd696(_0x202824);}_0x9bb08d(_0x180f29[_0x1abf('0x11')][_0x1abf('0x12')],_0x2ee3a6);return _0x1ccd5b[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':_0x180f29['__'](_0x1abf('0x13')),'user':_0x2ee3a6});});}else{if(_0x1d1701()==0x0){_0x9bb08d(_0x180f29[_0x1abf('0x11')]['socketId'],_0x2ee3a6);if(classroomConnection['connected']){await _0x55fa3f(_0x2ee3a6);}_0x180f29[_0x1abf('0x14')](_0x2ee3a6,function(_0x202824){if(_0x202824){return _0x8dd696(_0x202824);}_0x9bb08d(_0x180f29[_0x1abf('0x11')][_0x1abf('0x12')],_0x2ee3a6);return _0x1ccd5b[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':_0x180f29['__'](_0x1abf('0x13')),'user':_0x2ee3a6});});}else{return _0x1ccd5b[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x180f29['__']('REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED'));}}})(_0x180f29,_0x1ccd5b,_0x8dd696);});_0xe21bc5[_0x1abf('0xd')]('/api/users',_0x13ce1a[_0x1abf('0xe')](_0x1abf('0x15'),{'session':!![]}),function(_0x1ab90f,_0x4f3cb9){if(_0x1ab90f[_0x1abf('0x16')]['Error']){return _0x4f3cb9[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x1ab90f[_0x1abf('0x16')][_0x1abf('0x17')]);}else{}});_0xe21bc5[_0x1abf('0x9')](_0x1abf('0x18'),_0x3b79ca(),function(_0x5c3a22,_0x428874){_0x210fce[_0x1abf('0x19')]({'username':_0x5c3a22['params'][_0x1abf('0x1a')][_0x1abf('0x1b')]()[_0x1abf('0x1c')]()},function(_0x35f436,_0x9f7ea1){if(_0x35f436)_0x428874[_0x1abf('0xb')](_0x35f436);_0x428874[_0x1abf('0xc')](_0x9f7ea1);});});_0xe21bc5[_0x1abf('0x1d')]('/api/users/:User_Id',_0x3b79ca(),function(_0x15e6ab,_0x5aae2b){_0x210fce[_0x1abf('0x19')]({'username':_0x15e6ab[_0x1abf('0x1e')][_0x1abf('0x1a')][_0x1abf('0x1b')]()[_0x1abf('0x1c')]()},function(_0x2004da,_0x40c50b){if(_0x2004da)_0x5aae2b['send'](_0x2004da);if(_0x15e6ab['body'][_0x1abf('0x1f')]){_0x40c50b[_0x1abf('0x1f')]=_0x40c50b[_0x1abf('0x20')](_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x1f')]);}if(_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x21')]){_0x40c50b['firstname']=_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x21')];}if(_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x22')]){_0x40c50b['lastname']=_0x15e6ab[_0x1abf('0x11')]['lastname'];}if(_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x23')]){_0x40c50b[_0x1abf('0x23')]=_0x15e6ab['body']['language'];}if(_0x15e6ab['body'][_0x1abf('0x24')]){_0x40c50b[_0x1abf('0x24')]=_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x24')];}if(_0x15e6ab[_0x1abf('0x11')]['defaultprogramminglanguage']){_0x40c50b[_0x1abf('0x25')]=_0x15e6ab[_0x1abf('0x11')]['defaultprogramminglanguage'];}if(_0x15e6ab['body'][_0x1abf('0x26')]){_0x40c50b[_0x1abf('0x26')]=_0x15e6ab['body'][_0x1abf('0x26')];}if(_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x27')]){_0x40c50b[_0x1abf('0x27')]=_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x27')];}if(_0x15e6ab[_0x1abf('0x11')][_0x1abf('0x28')]){_0x40c50b[_0x1abf('0x28')]=_0x15e6ab[_0x1abf('0x11')]['usergroup'];}_0x40c50b[_0x1abf('0x29')](function(_0x2004da){if(_0x2004da)_0x5aae2b[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x2004da);_0x5aae2b[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':'User\x20updated!'});});});});_0xe21bc5[_0x1abf('0x2a')](_0x1abf('0x18'),_0x3b79ca(),function(_0x403740,_0xdde3d1){if(_0x403740[_0x1abf('0x1e')][_0x1abf('0x1a')][_0x1abf('0x1b')]()['trim']()==_0x403740[_0x1abf('0x16')][_0x1abf('0x2b')]){if(_0x4fb09d['SocketVariables'][_0x1abf('0x2c')])if(_0x4fb09d[_0x1abf('0x2d')][_0x1abf('0x2c')]['User']==_0x403740[_0x1abf('0x16')][_0x1abf('0x2b')])_0x3dad59['KillProgram']();_0x18e0c8(_0x403740[_0x1abf('0x16')][_0x1abf('0x2b')]);_0x403740['logout']();}_0x210fce[_0x1abf('0x2e')]({'username':_0x403740[_0x1abf('0x1e')][_0x1abf('0x1a')][_0x1abf('0x1b')]()['trim']()},function(_0x7cc252,_0x152705){if(_0x7cc252)return _0xdde3d1[_0x1abf('0xb')](_0x7cc252);_0x210fce['removeFileSystem'](_0x403740[_0x1abf('0x1e')][_0x1abf('0x1a')][_0x1abf('0x1b')]()[_0x1abf('0x1c')]());return _0xdde3d1[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':'Successfully\x20deleted'});});});_0xe21bc5['post'](_0x1abf('0x2f'),function(_0x4428f8,_0x48280d,_0x4c7d71){_0x13ce1a[_0x1abf('0xe')](_0x1abf('0x30'),async function(_0x3d3584,_0x1240df,_0x236d5f){if(_0x3d3584)return _0x48280d[_0x1abf('0xf')](0x1f4)['send'](_0x4428f8['__'](_0x3d3584[_0x1abf('0x31')]));if(!_0x1240df)return _0x48280d[_0x1abf('0xf')](0x191)[_0x1abf('0xb')](_0x4428f8['__'](_0x236d5f[_0x1abf('0x31')]));if(_0x4fb09d[_0x1abf('0x32')]){if(classroomConnection[_0x1abf('0x10')]){await _0x55fa3f(_0x1240df);}_0x4428f8[_0x1abf('0x14')](_0x1240df,function(_0x3d3584){if(_0x3d3584){return _0x4c7d71(_0x3d3584);}_0x9bb08d(_0x4428f8[_0x1abf('0x11')]['socketId'],_0x1240df);return _0x48280d[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':_0x4428f8['__'](_0x1abf('0x33')),'user':_0x1240df});});}else{if(_0x1d1701()==0x0){_0x9bb08d(_0x4428f8[_0x1abf('0x11')][_0x1abf('0x12')],_0x1240df);if(classroomConnection[_0x1abf('0x10')]){await _0x55fa3f(_0x1240df);}_0x4428f8['logIn'](_0x1240df,function(_0x3d3584){if(_0x3d3584){return _0x4c7d71(_0x3d3584);}_0x9bb08d(_0x4428f8['body'][_0x1abf('0x12')],_0x1240df);return _0x48280d[_0x1abf('0xf')](0xc8)[_0x1abf('0xc')]({'serverMessage':_0x4428f8['__'](_0x1abf('0x33')),'user':_0x1240df});});}else{return _0x48280d[_0x1abf('0xf')](0x1f4)['send'](_0x4428f8['__']('LOGIN.MULTIUSER_DENIED'));}}})(_0x4428f8,_0x48280d,_0x4c7d71);});_0xe21bc5[_0x1abf('0xd')](_0x1abf('0x34'),async function(_0x1112f4,_0x5afc07){console[_0x1abf('0x35')]('in\x20cloud\x20login');var _0x78d367={'method':'POST','uri':'https://172.16.0.1/backend/auth/ldap','body':{'username':_0x1112f4[_0x1abf('0x11')]['username'],'password':_0x1112f4['body']['password']},'json':!![],'rejectUnauthorized':![]};try{let _0x2b6f08=await rp(_0x78d367);let _0x4ec3b3=await _0x210fce[_0x1abf('0x19')]({'username':_0x1112f4[_0x1abf('0x11')]['username']})['exec']();if(_0x4ec3b3){return _0x5afc07[_0x1abf('0xf')](0xc8)[_0x1abf('0xb')](_0x1abf('0x36'));}else{return _0x5afc07[_0x1abf('0xf')](0xc8)['send'](_0x1abf('0x37'));}}catch(_0x5edee4){console[_0x1abf('0x35')]('Error\x20with\x20request\x20promise.\x20'+_0x5edee4);return _0x5afc07[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x5edee4);}});_0xe21bc5[_0x1abf('0xd')](_0x1abf('0x38'),_0x3b79ca(),function(_0x52e5f0,_0x3c2022){if(_0x4fb09d[_0x1abf('0x2d')]['fusion_program_running'])if(_0x4fb09d[_0x1abf('0x2d')][_0x1abf('0x2c')][_0x1abf('0x39')]==_0x52e5f0[_0x1abf('0x16')][_0x1abf('0x2b')])_0x3dad59[_0x1abf('0x3a')]();_0x401c9b(_0x52e5f0['body'][_0x1abf('0x12')]);_0x52e5f0['logout']();_0x3c2022[_0x1abf('0xf')](0xc8)['json']({'serverMessage':_0x1abf('0x3b')});});_0xe21bc5[_0x1abf('0x9')](_0x1abf('0x3c'),function(_0x1c62a0,_0x4360a0){_0x210fce[_0x1abf('0x19')]({'username':_0x1c62a0['params'][_0x1abf('0x1a')][_0x1abf('0x1b')]()['trim']()},function(_0x10d205,_0x192885){if(_0x10d205)return _0x4360a0[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x10d205);if(!_0x192885)return _0x4360a0[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')]('User\x20does\x20not\x20exist');else return _0x4360a0[_0x1abf('0xf')](0xc8)['json'](_0x192885[_0x1abf('0x26')]);});});_0xe21bc5['post']('/api/recovery',_0x13ce1a[_0x1abf('0xe')]('local-recovery',{'session':!![]}),function(_0x8b86b5,_0x4346ab){if(_0x4fb09d[_0x1abf('0x32')]){if(classroomConnection[_0x1abf('0x10')]){_0x55fa3f(_0x8b86b5[_0x1abf('0x16')]);}_0x9bb08d(_0x8b86b5[_0x1abf('0x11')][_0x1abf('0x12')],_0x8b86b5[_0x1abf('0x16')]);return _0x4346ab[_0x1abf('0xf')](0xc8)['json']({'serverMessage':_0x1abf('0x3d'),'user':_0x8b86b5['user']});}else{if(_0x1d1701()==0x0){_0x9bb08d(_0x8b86b5[_0x1abf('0x11')][_0x1abf('0x12')],_0x8b86b5[_0x1abf('0x16')]);if(classroomConnection[_0x1abf('0x10')]){_0x55fa3f(_0x8b86b5['user']);}return _0x4346ab[_0x1abf('0xf')](0xc8)['json']({'serverMessage':_0x1abf('0x3d'),'user':_0x8b86b5['user']});}else{_0x8b86b5[_0x1abf('0x3e')]();return _0x4346ab[_0x1abf('0xf')](0x1f4)[_0x1abf('0xb')](_0x1abf('0x3f'));}}});_0xe21bc5[_0x1abf('0x9')](_0x1abf('0x40'),function(_0x56120b,_0xdad34f){var _0x1f5f96=['User'];_0x210fce[_0x1abf('0x19')]({'usergroup':_0x1abf('0x41')},function(_0x51a961,_0x6aedcc){if(_0x51a961)return _0xdad34f['status'](0xc8)[_0x1abf('0xb')](_0x1f5f96);if(!_0x6aedcc)_0x1f5f96[_0x1abf('0x42')](_0x1abf('0x41'));return _0xdad34f[_0x1abf('0xf')](0xc8)['send'](_0x1f5f96);});});function _0x1d1701(){var _0xab4a82=0x0;for(var _0x146995=0x0;_0x146995<_0x4fb09d[_0x1abf('0x43')][_0x1abf('0x44')];_0x146995++){if(_0x4fb09d[_0x1abf('0x43')][_0x146995]['User']){_0xab4a82++;}}return _0xab4a82;}function _0x9bb08d(_0x21d4b8,_0x3cef7e){for(var _0x182703=0x0;_0x182703<_0x4fb09d[_0x1abf('0x43')][_0x1abf('0x44')];_0x182703++){if(_0x4fb09d[_0x1abf('0x43')][_0x182703]['id']==_0x21d4b8){_0x4fb09d[_0x1abf('0x43')][_0x182703]['User']=_0x3cef7e;break;}}}function _0x401c9b(_0x2d72f6){for(var _0x43dd54=0x0;_0x43dd54<_0x4fb09d[_0x1abf('0x43')]['length'];_0x43dd54++){if(_0x4fb09d[_0x1abf('0x43')][_0x43dd54]['id']==_0x2d72f6){_0x4fb09d[_0x1abf('0x43')][_0x43dd54][_0x1abf('0x39')]=undefined;break;}}}function _0x18e0c8(_0x1a43e7){for(var _0x358040=0x0;_0x358040<_0x4fb09d[_0x1abf('0x43')][_0x1abf('0x44')];_0x358040++){if(_0x4fb09d[_0x1abf('0x43')][_0x358040][_0x1abf('0x39')]['username']==_0x1a43e7){_0x4fb09d['connectedClients'][_0x358040][_0x1abf('0x39')]=undefined;break;}}}function _0x3b79ca(){return function(_0x34b517,_0x33ee95,_0x54accc){if(_0x34b517[_0x1abf('0x45')]()){return _0x54accc();}else{return _0x33ee95[_0x1abf('0xf')](0x191)['send'](_0x1abf('0x46'));}};}async function _0x55fa3f(_0x324968){try{await _0x23e2b4(_0x324968);}catch(_0x3116d7){winston[_0x1abf('0x47')](_0x3116d7);winston[_0x1abf('0x47')](_0x1abf('0x48')+_0x324968[_0x1abf('0x2b')]);}};function _0x23e2b4(_0x404895){return new Promise(function(_0x21fe7b,_0x19f8b5){var _0x3bf621=new SSH();_0x3bf621['on']('ready',function(){_0x3bf621[_0x1abf('0x49')](async function(_0x240a34,_0x3f294a){if(_0x240a34){winston[_0x1abf('0x47')](_0x1abf('0x4a')+_0x240a34);_0x3bf621[_0x1abf('0x4b')]();return _0x19f8b5(_0x240a34);}try{await _0x141e8a(_0x3f294a);await _0x32f3b0(_0x3f294a,_0x404895[_0x1abf('0x2b')]);await _0x3ae915(_0x3f294a,_0x404895[_0x1abf('0x2b')]);await _0x4c8167(_0x3f294a,_0x404895['username']);let _0x1d989a=await _0x131d47(_0x3f294a,_0x404895['username']);winston[_0x1abf('0x47')](JSON[_0x1abf('0x4c')](_0x1d989a));let _0x509125=await _0x982b1c(_0x404895[_0x1abf('0x4d')]);winston[_0x1abf('0x47')](JSON[_0x1abf('0x4c')](_0x509125));await _0x5da051(_0x3f294a,_0x404895,_0x1d989a,_0x509125);_0x3bf621[_0x1abf('0x4b')]();return _0x21fe7b();}catch(_0x4ddd43){winston[_0x1abf('0x47')](_0x4ddd43);_0x3bf621['end']();return _0x19f8b5(_0x4ddd43);}});})[_0x1abf('0x4e')]({'host':_0x1abf('0x4f'),'port':0x16,'username':'c3','password':_0x1abf('0x50')});});};function _0x141e8a(_0x113767){return new Promise(function(_0x479cb6,_0x112fb9){_0x113767[_0x1abf('0x51')](_0x1abf('0x52'),function(_0x1372d8){if(_0x1372d8){_0x113767[_0x1abf('0x53')](_0x1abf('0x52'),function(_0x581fdf){if(_0x581fdf){return _0x112fb9(_0x1abf('0x54')+_0x581fdf);}else{winston[_0x1abf('0x47')]('Classroom\x20file\x20system\x20created');return _0x479cb6();}});}else{winston[_0x1abf('0x47')]('Classroom\x20file\x20system\x20found');return _0x479cb6();}});});};function _0x32f3b0(_0x13d285,_0xd85d4e){return new Promise(function(_0x44083c,_0x5848e3){_0x13d285[_0x1abf('0x51')](_0x1abf('0x52')+_0xd85d4e,function(_0x1979cb){if(_0x1979cb){_0x13d285['mkdir']('/home/c3/FusionFilesystem/'+_0xd85d4e,function(_0x3155c3){if(_0x3155c3){return _0x5848e3(_0x1abf('0x55')+_0x3155c3);}else{winston[_0x1abf('0x47')]('User\x27s\x20classroom\x20file\x20system\x20created');return _0x44083c();}});}else{winston['info']('User\x27s\x20classroom\x20file\x20system\x20found');return _0x44083c();}});});};function _0x3ae915(_0x29204b,_0xbdad17){return new Promise(function(_0x4a26a4,_0x4c147b){_0x29204b[_0x1abf('0x51')](_0x1abf('0x52')+_0xbdad17+_0x1abf('0x56'),function(_0x43ff7d){if(_0x43ff7d){_0x29204b[_0x1abf('0x53')](_0x1abf('0x52')+_0xbdad17+_0x1abf('0x56'),function(_0x4dbbee){if(_0x4dbbee){return _0x4c147b(_0x1abf('0x57')+_0x4dbbee);}else{winston[_0x1abf('0x47')](_0x1abf('0x58'));return _0x4a26a4();}});}else{winston['info'](_0x1abf('0x59'));return _0x4a26a4();}});});};function _0x4c8167(_0x5aaa81,_0x2f50dc){return new Promise(function(_0x16727b,_0xa6eccf){_0x5aaa81['readdir'](_0x1abf('0x52')+_0x2f50dc+_0x1abf('0x5a'),function(_0x4e2cdd){if(_0x4e2cdd){_0x5aaa81['mkdir'](_0x1abf('0x52')+_0x2f50dc+'/Blockly/',function(_0x3af720){if(_0x3af720){return _0xa6eccf(_0x1abf('0x5b')+_0x3af720);}else{winston['info'](_0x1abf('0x5c'));return _0x16727b();}});}else{winston[_0x1abf('0x47')](_0x1abf('0x5d'));return _0x16727b();}});});};function _0x131d47(_0x3de178,_0xfd0d83){return new Promise(async function(_0x200c33,_0x31c857){try{let _0xdfca52={};_0xdfca52[_0x1abf('0x5e')]=await _0x3221fa(_0x3de178,_0xfd0d83);_0xdfca52['Blockly']=await _0x4e3e06(_0x3de178,_0xfd0d83);return _0x200c33(_0xdfca52);}catch(_0x279140){return _0x31c857(_0x279140);}});};function _0x3221fa(_0x495fe9,_0x297c6a){return new Promise(function(_0x21db59,_0x3f23d3){_0x495fe9['readdir'](_0x1abf('0x52')+_0x297c6a+_0x1abf('0x56'),function(_0x49ba58,_0x3253b1){if(_0x49ba58)return _0x3f23d3(_0x49ba58);let _0x157ce4=[];for(let _0x1c7bce=0x0;_0x1c7bce<_0x3253b1[_0x1abf('0x44')];_0x1c7bce++){winston[_0x1abf('0x5f')](_0x1abf('0x60')+_0x3253b1[_0x1c7bce][_0x1abf('0x61')]);_0x157ce4[_0x1abf('0x62')](_0x3253b1[_0x1c7bce]);}return _0x21db59(_0x157ce4);});});};function _0x4e3e06(_0xbfcaf5,_0x93981b){return new Promise(function(_0x22dc0f,_0x5784b0){_0xbfcaf5['readdir']('/home/c3/FusionFilesystem/'+_0x93981b+_0x1abf('0x5a'),function(_0x543046,_0x4cef5a){if(_0x543046)return _0x5784b0(_0x543046);let _0x1819bd=[];for(let _0x31ff01=0x0;_0x31ff01<_0x4cef5a[_0x1abf('0x44')];_0x31ff01++){winston['verbose'](_0x1abf('0x60')+_0x4cef5a[_0x31ff01][_0x1abf('0x61')]);_0x1819bd['push'](_0x4cef5a[_0x31ff01]);}return _0x22dc0f(_0x1819bd);});});};function _0x982b1c(_0x5d2d96){return new Promise(async function(_0x4a5a4a,_0x20611b){try{let _0x4d315a={};_0x4d315a[_0x1abf('0x5e')]=await _0x41a37f(_0x5d2d96);_0x4d315a[_0x1abf('0x63')]=await _0x29d47b(_0x5d2d96);return _0x4a5a4a(_0x4d315a);}catch(_0x509c74){return _0x20611b(_0x509c74);}});};function _0x41a37f(_0x8ac5c3){return new Promise(async function(_0x44228a,_0x244690){try{let _0x10a701=[];let _0x199689=await fs['readdir'](_0x8ac5c3+'/Editor');for(let _0xe55cc7=0x0;_0xe55cc7<_0x199689[_0x1abf('0x44')];_0xe55cc7++){winston[_0x1abf('0x5f')](_0x1abf('0x60')+_0x199689[_0xe55cc7]);let _0x2f6249=await fs['stat'](_0x8ac5c3+_0x1abf('0x56')+_0x199689[_0xe55cc7]);_0x2f6249['name']=_0x199689[_0xe55cc7];_0x10a701[_0x1abf('0x62')](_0x2f6249);}return _0x44228a(_0x10a701);}catch(_0xb762cf){return _0x244690(_0xb762cf);}});};function _0x29d47b(_0x5d7068){return new Promise(async function(_0xf6b1e8,_0x10e33c){try{let _0x2e3f2a=[];let _0x4756a2=await fs[_0x1abf('0x51')](_0x5d7068+_0x1abf('0x64'));for(let _0x104b7e=0x0;_0x104b7e<_0x4756a2[_0x1abf('0x44')];_0x104b7e++){winston[_0x1abf('0x5f')](_0x1abf('0x60')+_0x4756a2[_0x104b7e]);let _0x14c3d2=await fs[_0x1abf('0x65')](_0x5d7068+_0x1abf('0x5a')+_0x4756a2[_0x104b7e]);_0x14c3d2[_0x1abf('0x66')]=_0x4756a2[_0x104b7e];_0x2e3f2a['push'](_0x14c3d2);}return _0xf6b1e8(_0x2e3f2a);}catch(_0x45879e){return _0x10e33c(_0x45879e);}});};function _0x5da051(_0x52ca87,_0x49c0f4,_0x50bc5f,_0x28ba93){return new Promise(async function(_0x78e981,_0x346966){try{for(let _0x1773a9=0x0;_0x1773a9<_0x50bc5f['Editor'][_0x1abf('0x44')];_0x1773a9++){let _0x2c1f9b=![];for(let _0x3e8067=0x0;_0x3e8067<_0x28ba93[_0x1abf('0x5e')]['length'];_0x3e8067++){if(_0x28ba93[_0x1abf('0x5e')][_0x3e8067][_0x1abf('0x66')]==_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x61')]){winston[_0x1abf('0x67')](_0x1abf('0x68')+Math[_0x1abf('0x69')](_0x28ba93[_0x1abf('0x5e')][_0x3e8067][_0x1abf('0x6a')]/0x3e8));winston[_0x1abf('0x67')]('Remote\x20mtime:\x20'+_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x6b')][_0x1abf('0x6c')]);if(Math[_0x1abf('0x69')](_0x28ba93[_0x1abf('0x5e')][_0x3e8067][_0x1abf('0x6a')]/0x3e8)>_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x6b')][_0x1abf('0x6c')]){_0x2c1f9b=!![];winston['verbose'](_0x1abf('0x6d')+_0x28ba93[_0x1abf('0x5e')][_0x3e8067][_0x1abf('0x66')]+_0x1abf('0x6e'));try{await _0x5c7a5f(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x61')],'Editor');}catch(_0x452429){return _0x346966(_0x452429);}break;}else{_0x2c1f9b=!![];winston['verbose'](_0x1abf('0x6f')+_0x28ba93[_0x1abf('0x5e')][_0x3e8067][_0x1abf('0x66')]+_0x1abf('0x70'));try{await _0x15d719(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x61')],'Editor');}catch(_0x134a5c){winston['debug'](_0x1abf('0x71')+_0x134a5c);return _0x346966(_0x134a5c);}break;}}}if(!_0x2c1f9b){winston[_0x1abf('0x5f')](_0x50bc5f['Editor'][_0x1773a9][_0x1abf('0x61')]+_0x1abf('0x72'));try{await _0x15d719(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x5e')][_0x1773a9][_0x1abf('0x61')],_0x1abf('0x5e'));}catch(_0x596aa9){return _0x346966(_0x596aa9);}}}for(let _0x56f4ba=0x0;_0x56f4ba<_0x50bc5f[_0x1abf('0x63')][_0x1abf('0x44')];_0x56f4ba++){let _0x2c1f9b=![];for(let _0x3e8067=0x0;_0x3e8067<_0x28ba93[_0x1abf('0x63')][_0x1abf('0x44')];_0x3e8067++){if(_0x28ba93['Blockly'][_0x3e8067][_0x1abf('0x66')]==_0x50bc5f[_0x1abf('0x63')][_0x56f4ba][_0x1abf('0x61')]){winston['debug'](_0x1abf('0x68')+Math[_0x1abf('0x69')](_0x28ba93[_0x1abf('0x63')][_0x3e8067][_0x1abf('0x6a')]/0x3e8));winston['debug'](_0x1abf('0x73')+_0x50bc5f[_0x1abf('0x63')][_0x56f4ba]['attrs']['mtime']);if(Math['floor'](_0x28ba93['Blockly'][_0x3e8067]['mtimeMs']/0x3e8)>_0x50bc5f[_0x1abf('0x63')][_0x56f4ba][_0x1abf('0x6b')]['mtime']){_0x2c1f9b=!![];winston[_0x1abf('0x5f')](_0x1abf('0x6d')+_0x28ba93[_0x1abf('0x63')][_0x3e8067][_0x1abf('0x66')]+_0x1abf('0x6e'));try{await _0x5c7a5f(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x63')][_0x56f4ba]['filename'],_0x1abf('0x63'));}catch(_0x463c50){return _0x346966(_0x463c50);}break;}else{_0x2c1f9b=!![];winston['verbose'](_0x1abf('0x6f')+_0x28ba93['Blockly'][_0x3e8067]['name']+_0x1abf('0x70'));try{await _0x15d719(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x63')][_0x56f4ba][_0x1abf('0x61')],'Blockly');}catch(_0x4eb9f6){winston['debug'](_0x1abf('0x71')+_0x4eb9f6);return _0x346966(_0x4eb9f6);}break;}}}if(!_0x2c1f9b){winston['verbose'](_0x50bc5f[_0x1abf('0x63')][_0x56f4ba][_0x1abf('0x61')]+_0x1abf('0x72'));try{await _0x15d719(_0x52ca87,_0x49c0f4,_0x50bc5f[_0x1abf('0x63')][_0x56f4ba][_0x1abf('0x61')],_0x1abf('0x63'));}catch(_0x2c18d8){return _0x346966(_0x2c18d8);}}}return _0x78e981();}catch(_0x171c52){return _0x346966(_0x171c52);}});};function _0x5c7a5f(_0x17b7d5,_0x4e8047,_0x4f0404,_0x19ccba){return new Promise((_0x293077,_0x459256)=>{try{let _0x123756=_0x1abf('0x52')+_0x4e8047[_0x1abf('0x2b')]+'/'+_0x19ccba+'/'+_0x4f0404;let _0x23d4a2=_0x4e8047[_0x1abf('0x4d')]+'/'+_0x19ccba+'/'+_0x4f0404;winston['verbose'](_0x1abf('0x74')+_0x123756);winston[_0x1abf('0x5f')]('Local\x20Path:\x20'+_0x23d4a2);_0x17b7d5[_0x1abf('0x75')](_0x23d4a2,_0x123756,{},function(_0x325fbf){if(_0x325fbf){winston[_0x1abf('0x67')](_0x1abf('0x76')+_0x4f0404);return _0x459256(_0x325fbf);}winston[_0x1abf('0x47')]('Uploaded\x20'+_0x4f0404);return _0x293077();});}catch(_0x3d16fd){return _0x459256(_0x3d16fd);}});};function _0x15d719(_0x3c887a,_0x5ceb1a,_0x1bbbae,_0x38e488){return new Promise((_0x164e5f,_0x1724d0)=>{try{let _0x2f715e=_0x1abf('0x52')+_0x5ceb1a[_0x1abf('0x2b')]+'/'+_0x38e488+'/'+_0x1bbbae;let _0x3cb4e0=_0x5ceb1a[_0x1abf('0x4d')]+'/'+_0x38e488+'/'+_0x1bbbae;winston[_0x1abf('0x5f')]('Remote\x20path:\x20'+_0x2f715e);winston['verbose'](_0x1abf('0x77')+_0x3cb4e0);_0x3c887a['fastGet'](_0x2f715e,_0x3cb4e0,{},function(_0x42ed8d){if(_0x42ed8d){winston[_0x1abf('0x67')](_0x1abf('0x78')+_0x1bbbae);return _0x1724d0(_0x42ed8d);}winston['info']('Retrieved\x20'+_0x1bbbae);return _0x164e5f();});}catch(_0x4e6613){return _0x1724d0(_0x4e6613);}});};function _0x3673da(_0x29ab4f,_0x42f5c5,_0x148dd5,_0x1a45a3){_0x29ab4f[_0x1abf('0x51')](_0x1abf('0x52')+_0x42f5c5[_0x1abf('0x2b')],function(_0x5de02a){if(_0x5de02a){console[_0x1abf('0x35')](_0x1abf('0x79')+_0x5de02a);_0x29ab4f[_0x1abf('0x53')]('/home/c3/FusionFilesystem/'+_0x42f5c5[_0x1abf('0x2b')],function(_0x45a2fa){if(_0x45a2fa){console[_0x1abf('0x35')]('Error\x20creating\x20user\x20file\x20system:\x20'+_0x45a2fa);throw _0x45a2fa;}console['log']('User\x20c3\x20directory\x20created');_0x29ab4f['mkdir'](_0x1abf('0x52')+_0x42f5c5['username']+_0x1abf('0x56'),function(_0x5511aa){if(_0x5511aa){console[_0x1abf('0x35')]('Error\x20creating\x20editor\x20directory:\x20'+_0x5511aa);throw _0x5511aa;}console[_0x1abf('0x35')]('Editor\x20directory\x20created');_0x29ab4f[_0x1abf('0x53')]('/home/c3/FusionFilesystem/'+_0x42f5c5[_0x1abf('0x2b')]+_0x1abf('0x5a'),function(_0xb4eb43){if(_0xb4eb43){console[_0x1abf('0x35')]('Error\x20creating\x20blockly\x20directory:\x20'+_0xb4eb43);throw _0xb4eb43;}console[_0x1abf('0x35')](_0x1abf('0x7a'));_0x1a45a3(_0x29ab4f,_0x42f5c5,_0x148dd5);});});});}_0x1a45a3(_0x29ab4f,_0x42f5c5,_0x148dd5);});};function _0x254254(_0x128a5a,_0x1ac8b6,_0x248399){_0x128a5a[_0x1abf('0x51')](_0x1abf('0x52')+_0x1ac8b6[_0x1abf('0x2b')]+_0x1abf('0x56'),function(_0x9262aa,_0x552323){if(_0x9262aa){console[_0x1abf('0x35')](_0x1abf('0x7b')+_0x9262aa);throw _0x9262aa;}_0x2b392d(_0x1ac8b6,_0x1abf('0x5e'),_0x552323,_0x248399);});_0x128a5a[_0x1abf('0x51')](_0x1abf('0x52')+_0x1ac8b6['username']+_0x1abf('0x5a'),function(_0x1e94f7,_0x2fce65){if(_0x1e94f7){console['log'](_0x1abf('0x7c')+_0x1e94f7);throw _0x1e94f7;}_0x2b392d(_0x1ac8b6,_0x1abf('0x63'),_0x2fce65,_0x248399);});};function _0x2b392d(_0x198ab3,_0x3f99be,_0x2034ca,_0x1f4d0b){console[_0x1abf('0x35')](_0x1abf('0x7d'));if(_0x3f99be=='Blockly'&&_0x2034ca['length']==0x0){_0x1f4d0b[_0x1abf('0x4b')]();}for(var _0x3423f0=0x0;_0x3423f0<_0x2034ca[_0x1abf('0x44')];_0x3423f0++){let _0x1d671b=_0x1abf('0x52')+_0x198ab3[_0x1abf('0x2b')]+'/'+_0x3f99be+'/'+_0x2034ca[_0x3423f0]['filename'];let _0x3a778f=_0x1abf('0x7e')+_0x198ab3[_0x1abf('0x2b')]+'/'+_0x3f99be+'/';console[_0x1abf('0x35')](_0x1abf('0x7f')+_0x1d671b+_0x1abf('0x80')+_0x3a778f);SCP['scp'](_0x1abf('0x81')+_0x1d671b,_0x3a778f,function(_0x258d9c){if(_0x258d9c){console[_0x1abf('0x35')]('Error\x20downloading:\x20'+_0x1d671b+_0x1abf('0x82')+_0x258d9c);}if(_0x3f99be=='Blockly'&&(_0x3423f0=_0x2034ca[_0x1abf('0x44')]-0x1)){_0x1f4d0b[_0x1abf('0x4b')]();}});}};};