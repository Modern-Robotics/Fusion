var _0x2b92=['mtime','mtimeMs','Local\x20\x22','\x22\x20newer,\x20updating\x20classroom\x20version','Remote\x20\x22','\x22\x20newer,\x20updating\x20local\x20version','debug','Error:\x20','\x20not\x20a\x20common\x20file!','Remote\x20path:\x20','Local\x20Path:\x20','fastPut','Error\x20uploading\x20file:\x20','Uploaded\x20','fastGet','Error\x20downloading\x20file:\x20','Retrieved\x20','Error\x20reading\x20user\x20file\x20system:\x20','Error\x20creating\x20user\x20file\x20system:\x20','Error\x20creating\x20editor\x20directory:\x20','Editor\x20directory\x20created','Error\x20creating\x20blockly\x20directory:\x20','Error\x20reading\x20classroom\x20blockly\x20files:\x20','Retrieving\x20files','app/filesystem/','Moving:\x20','\x20to\x20','scp','Error\x20downloading:\x20',',\x20error:\x20','scp2','fs-extra','path','request-promise','./../../server/classroom/connection/','exports','get','/api/users','find','Guest','send','json','post','authenticate','local-signup','status','message','MultiUserAccess','body','REGISTER.CREATED','socketId','connected','logIn','REGISTER.CREATED_BUT_MAX_LOGIN_EXCEEDED','user','Error','/api/users/:User_Id','findOne','params','toLowerCase','trim','put','User_Id','password','generateHash','firstname','lastname','language','email','defaultprogramminglanguage','securityquestion','securityanswer','usergroup','save','User\x20updated!','delete','username','SocketVariables','fusion_program_running','User','remove','Successfully\x20deleted','/api/users/login','local-login','LOGIN.SUCCESS','log','https://172.16.0.1/backend/auth/ldap','exec','login','create','Error\x20with\x20request\x20promise.\x20','/api/users/logout','KillProgram','Logged\x20out\x20successfully','/api/recovery/:User_Id','User\x20does\x20not\x20exist','/api/recovery','local-recovery','Login\x20Successful','logout','/api/allowedUserGroups','Admin','unshift','connectedClients','length','isAuthenticated','User\x20Unauthenticated','info','Error\x20downloading\x20classroom\x20files\x20for\x20','ready','sftp','end','stringify','filepath','connect','10.200.200.1','root','readdir','/home/c3/FusionFilesystem/','mkdir','Error\x20creating\x20classroom\x20file\x20system:\x20','Classroom\x20file\x20system\x20created','Error\x20creating\x20user\x27s\x20classroom\x20file\x20system:\x20','User\x27s\x20classroom\x20file\x20system\x20created','User\x27s\x20classroom\x20file\x20system\x20found','/Editor/','Error\x20creating\x20user\x27s\x20editor\x20directory:\x20','User\x27s\x20editor\x20directory\x20created','User\x27s\x20editor\x20directory\x20found','/Blockly/','Error\x20creating\x20user\x27s\x20blockly\x20directory:\x20','User\x27s\x20blockly\x20directory\x20found','Blockly','Getting\x20data\x20for\x20','filename','push','verbose','Editor','/Editor','stat','/Blockly','name','Local\x20mtime:\x20','floor','Remote\x20mtime:\x20','attrs'];(function(_0x27201d,_0x5b0344){var _0x3b14fa=function(_0x5d7af2){while(--_0x5d7af2){_0x27201d['push'](_0x27201d['shift']());}};_0x3b14fa(++_0x5b0344);}(_0x2b92,0x142));var _0x2d6a=function(_0x38dd8c,_0x3b3d94){_0x38dd8c=_0x38dd8c-0x0;var _0x56f1a2=_0x2b92[_0x38dd8c];return _0x56f1a2;};var SCP=require(_0x2d6a('0x0'));var SSH=require('ssh2')['Client'];var fs=require(_0x2d6a('0x1'));var path=require(_0x2d6a('0x2'));var rp=require(_0x2d6a('0x3'));const classroomConnection=require(_0x2d6a('0x4'));const winston=require('winston');module[_0x2d6a('0x5')]=function(_0x1bb8d3,_0x115750,_0x5c3008,_0x595b17,_0x32700a,_0x399a5a){_0x1bb8d3[_0x2d6a('0x6')](_0x2d6a('0x7'),_0x19b6df(),function(_0x45ab11,_0x12c4f4){_0x115750[_0x2d6a('0x8')]({'usergroup':{'$ne':_0x2d6a('0x9')}},function(_0x4f46e3,_0x4d0cc7){if(_0x4f46e3)_0x12c4f4[_0x2d6a('0xa')](_0x4f46e3);_0x12c4f4[_0x2d6a('0xb')](_0x4d0cc7);});});_0x1bb8d3[_0x2d6a('0xc')](_0x2d6a('0x7'),function(_0x470941,_0x2906b4,_0x1f955e){_0x5c3008[_0x2d6a('0xd')](_0x2d6a('0xe'),async function(_0x31ec6e,_0x233b7a,_0x1c8958){if(_0x31ec6e)return _0x2906b4[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0x31ec6e);if(_0x1c8958&&_0x1c8958[_0x2d6a('0x10')])return _0x2906b4[_0x2d6a('0xf')](0x1f4)['send'](_0x470941['__'](_0x1c8958[_0x2d6a('0x10')]));if(_0x399a5a[_0x2d6a('0x11')]){if(classroomConnection['connected']){await _0x46564a(_0x233b7a);}_0x470941['logIn'](_0x233b7a,function(_0x31ec6e){if(_0x31ec6e){return _0x1f955e(_0x31ec6e);}_0x249108(_0x470941[_0x2d6a('0x12')]['socketId'],_0x233b7a);return _0x2906b4[_0x2d6a('0xf')](0xc8)['json']({'serverMessage':_0x470941['__'](_0x2d6a('0x13')),'user':_0x233b7a});});}else{if(_0x37dfa1()==0x0){_0x249108(_0x470941[_0x2d6a('0x12')][_0x2d6a('0x14')],_0x233b7a);if(classroomConnection[_0x2d6a('0x15')]){await _0x46564a(_0x233b7a);}_0x470941[_0x2d6a('0x16')](_0x233b7a,function(_0x31ec6e){if(_0x31ec6e){return _0x1f955e(_0x31ec6e);}_0x249108(_0x470941['body'][_0x2d6a('0x14')],_0x233b7a);return _0x2906b4[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x470941['__'](_0x2d6a('0x13')),'user':_0x233b7a});});}else{return _0x2906b4[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0x470941['__'](_0x2d6a('0x17')));}}})(_0x470941,_0x2906b4,_0x1f955e);});_0x1bb8d3[_0x2d6a('0xc')](_0x2d6a('0x7'),_0x5c3008[_0x2d6a('0xd')](_0x2d6a('0xe'),{'session':!![]}),function(_0xb1d0da,_0xa7a862){if(_0xb1d0da['user']['Error']){return _0xa7a862[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0xb1d0da[_0x2d6a('0x18')][_0x2d6a('0x19')]);}else{}});_0x1bb8d3[_0x2d6a('0x6')](_0x2d6a('0x1a'),_0x19b6df(),function(_0x52a561,_0xcdb3cb){_0x115750[_0x2d6a('0x1b')]({'username':_0x52a561[_0x2d6a('0x1c')]['User_Id'][_0x2d6a('0x1d')]()[_0x2d6a('0x1e')]()},function(_0xc14b0a,_0x41d5a0){if(_0xc14b0a)_0xcdb3cb[_0x2d6a('0xa')](_0xc14b0a);_0xcdb3cb[_0x2d6a('0xb')](_0x41d5a0);});});_0x1bb8d3[_0x2d6a('0x1f')](_0x2d6a('0x1a'),_0x19b6df(),function(_0x417b28,_0xa9d8e8){_0x115750[_0x2d6a('0x1b')]({'username':_0x417b28[_0x2d6a('0x1c')][_0x2d6a('0x20')][_0x2d6a('0x1d')]()['trim']()},function(_0x2c4f4b,_0x56ae1a){if(_0x2c4f4b)_0xa9d8e8[_0x2d6a('0xa')](_0x2c4f4b);if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x21')]){_0x56ae1a['password']=_0x56ae1a[_0x2d6a('0x22')](_0x417b28['body'][_0x2d6a('0x21')]);}if(_0x417b28['body'][_0x2d6a('0x23')]){_0x56ae1a['firstname']=_0x417b28['body'][_0x2d6a('0x23')];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x24')]){_0x56ae1a[_0x2d6a('0x24')]=_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x24')];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x25')]){_0x56ae1a[_0x2d6a('0x25')]=_0x417b28['body']['language'];}if(_0x417b28['body'][_0x2d6a('0x26')]){_0x56ae1a[_0x2d6a('0x26')]=_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x26')];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x27')]){_0x56ae1a[_0x2d6a('0x27')]=_0x417b28['body'][_0x2d6a('0x27')];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x28')]){_0x56ae1a[_0x2d6a('0x28')]=_0x417b28[_0x2d6a('0x12')]['securityquestion'];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x29')]){_0x56ae1a[_0x2d6a('0x29')]=_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x29')];}if(_0x417b28[_0x2d6a('0x12')][_0x2d6a('0x2a')]){_0x56ae1a[_0x2d6a('0x2a')]=_0x417b28[_0x2d6a('0x12')]['usergroup'];}_0x56ae1a[_0x2d6a('0x2b')](function(_0x2c4f4b){if(_0x2c4f4b)_0xa9d8e8['status'](0x1f4)[_0x2d6a('0xa')](_0x2c4f4b);_0xa9d8e8[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x2d6a('0x2c')});});});});_0x1bb8d3[_0x2d6a('0x2d')](_0x2d6a('0x1a'),_0x19b6df(),function(_0x50efd6,_0x4bdbc2){if(_0x50efd6[_0x2d6a('0x1c')][_0x2d6a('0x20')][_0x2d6a('0x1d')]()['trim']()==_0x50efd6[_0x2d6a('0x18')][_0x2d6a('0x2e')]){if(_0x399a5a[_0x2d6a('0x2f')][_0x2d6a('0x30')])if(_0x399a5a['SocketVariables'][_0x2d6a('0x30')][_0x2d6a('0x31')]==_0x50efd6['user'][_0x2d6a('0x2e')])_0x595b17['KillProgram']();_0x17bc64(_0x50efd6[_0x2d6a('0x18')][_0x2d6a('0x2e')]);_0x50efd6['logout']();}_0x115750[_0x2d6a('0x32')]({'username':_0x50efd6['params'][_0x2d6a('0x20')][_0x2d6a('0x1d')]()[_0x2d6a('0x1e')]()},function(_0x2ac974,_0x5f3319){if(_0x2ac974)return _0x4bdbc2[_0x2d6a('0xa')](_0x2ac974);_0x115750['removeFileSystem'](_0x50efd6[_0x2d6a('0x1c')][_0x2d6a('0x20')]['toLowerCase']()[_0x2d6a('0x1e')]());return _0x4bdbc2[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x2d6a('0x33')});});});_0x1bb8d3[_0x2d6a('0xc')](_0x2d6a('0x34'),function(_0x3fae41,_0x53c573,_0xd09f70){_0x5c3008['authenticate'](_0x2d6a('0x35'),async function(_0x25a8f7,_0x7a076e,_0x41ab3e){if(_0x25a8f7)return _0x53c573[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0x3fae41['__'](_0x25a8f7[_0x2d6a('0x10')]));if(!_0x7a076e)return _0x53c573[_0x2d6a('0xf')](0x191)[_0x2d6a('0xa')](_0x3fae41['__'](_0x41ab3e['message']));if(_0x399a5a[_0x2d6a('0x11')]){if(classroomConnection[_0x2d6a('0x15')]){await _0x46564a(_0x7a076e);}_0x3fae41[_0x2d6a('0x16')](_0x7a076e,function(_0x25a8f7){if(_0x25a8f7){return _0xd09f70(_0x25a8f7);}_0x249108(_0x3fae41[_0x2d6a('0x12')]['socketId'],_0x7a076e);return _0x53c573[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x3fae41['__'](_0x2d6a('0x36')),'user':_0x7a076e});});}else{if(_0x37dfa1()==0x0){_0x249108(_0x3fae41['body'][_0x2d6a('0x14')],_0x7a076e);if(classroomConnection[_0x2d6a('0x15')]){await _0x46564a(_0x7a076e);}_0x3fae41[_0x2d6a('0x16')](_0x7a076e,function(_0x25a8f7){if(_0x25a8f7){return _0xd09f70(_0x25a8f7);}_0x249108(_0x3fae41[_0x2d6a('0x12')][_0x2d6a('0x14')],_0x7a076e);return _0x53c573[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x3fae41['__']('LOGIN.SUCCESS'),'user':_0x7a076e});});}else{return _0x53c573['status'](0x1f4)[_0x2d6a('0xa')](_0x3fae41['__']('LOGIN.MULTIUSER_DENIED'));}}})(_0x3fae41,_0x53c573,_0xd09f70);});_0x1bb8d3[_0x2d6a('0xc')]('/api/users/cloudLogin',async function(_0x258bb3,_0x2cb3ea){console[_0x2d6a('0x37')]('in\x20cloud\x20login');var _0x1963d7={'method':'POST','uri':_0x2d6a('0x38'),'body':{'username':_0x258bb3[_0x2d6a('0x12')]['username'],'password':_0x258bb3[_0x2d6a('0x12')][_0x2d6a('0x21')]},'json':!![],'rejectUnauthorized':![]};try{let _0x4e1361=await rp(_0x1963d7);let _0x2def8e=await _0x115750[_0x2d6a('0x1b')]({'username':_0x258bb3[_0x2d6a('0x12')][_0x2d6a('0x2e')]})[_0x2d6a('0x39')]();if(_0x2def8e){return _0x2cb3ea['status'](0xc8)[_0x2d6a('0xa')](_0x2d6a('0x3a'));}else{return _0x2cb3ea[_0x2d6a('0xf')](0xc8)['send'](_0x2d6a('0x3b'));}}catch(_0x4c7b63){console[_0x2d6a('0x37')](_0x2d6a('0x3c')+_0x4c7b63);return _0x2cb3ea[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0x4c7b63);}});_0x1bb8d3[_0x2d6a('0xc')](_0x2d6a('0x3d'),_0x19b6df(),function(_0x26e390,_0x49bba1){if(_0x399a5a[_0x2d6a('0x2f')][_0x2d6a('0x30')])if(_0x399a5a[_0x2d6a('0x2f')][_0x2d6a('0x30')][_0x2d6a('0x31')]==_0x26e390['user'][_0x2d6a('0x2e')])_0x595b17[_0x2d6a('0x3e')]();_0x5d9901(_0x26e390['body'][_0x2d6a('0x14')]);_0x26e390['logout']();_0x49bba1['status'](0xc8)['json']({'serverMessage':_0x2d6a('0x3f')});});_0x1bb8d3[_0x2d6a('0x6')](_0x2d6a('0x40'),function(_0x4ed0a7,_0x5d7331){_0x115750[_0x2d6a('0x1b')]({'username':_0x4ed0a7[_0x2d6a('0x1c')][_0x2d6a('0x20')][_0x2d6a('0x1d')]()[_0x2d6a('0x1e')]()},function(_0x1fbed9,_0x23c3b5){if(_0x1fbed9)return _0x5d7331[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')](_0x1fbed9);if(!_0x23c3b5)return _0x5d7331[_0x2d6a('0xf')](0x1f4)['send'](_0x2d6a('0x41'));else return _0x5d7331[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')](_0x23c3b5[_0x2d6a('0x28')]);});});_0x1bb8d3[_0x2d6a('0xc')](_0x2d6a('0x42'),_0x5c3008[_0x2d6a('0xd')](_0x2d6a('0x43'),{'session':!![]}),function(_0xab8421,_0x2ff036){if(_0x399a5a['MultiUserAccess']){if(classroomConnection[_0x2d6a('0x15')]){_0x46564a(_0xab8421[_0x2d6a('0x18')]);}_0x249108(_0xab8421[_0x2d6a('0x12')][_0x2d6a('0x14')],_0xab8421['user']);return _0x2ff036[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':_0x2d6a('0x44'),'user':_0xab8421['user']});}else{if(_0x37dfa1()==0x0){_0x249108(_0xab8421[_0x2d6a('0x12')][_0x2d6a('0x14')],_0xab8421['user']);if(classroomConnection[_0x2d6a('0x15')]){_0x46564a(_0xab8421[_0x2d6a('0x18')]);}return _0x2ff036[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xb')]({'serverMessage':'Login\x20Successful','user':_0xab8421[_0x2d6a('0x18')]});}else{_0xab8421[_0x2d6a('0x45')]();return _0x2ff036[_0x2d6a('0xf')](0x1f4)[_0x2d6a('0xa')]('Another\x20user\x20is\x20already\x20logged\x20in.');}}});_0x1bb8d3[_0x2d6a('0x6')](_0x2d6a('0x46'),function(_0x2dcc10,_0x513c38){var _0x135b36=[_0x2d6a('0x31')];_0x115750[_0x2d6a('0x1b')]({'usergroup':_0x2d6a('0x47')},function(_0x214893,_0x31a895){if(_0x214893)return _0x513c38[_0x2d6a('0xf')](0xc8)[_0x2d6a('0xa')](_0x135b36);if(!_0x31a895)_0x135b36[_0x2d6a('0x48')](_0x2d6a('0x47'));return _0x513c38[_0x2d6a('0xf')](0xc8)['send'](_0x135b36);});});function _0x37dfa1(){var _0x403f00=0x0;for(var _0x2c4478=0x0;_0x2c4478<_0x399a5a[_0x2d6a('0x49')]['length'];_0x2c4478++){if(_0x399a5a['connectedClients'][_0x2c4478][_0x2d6a('0x31')]){_0x403f00++;}}return _0x403f00;}function _0x249108(_0x5551e4,_0x437cfb){for(var _0xf8a6f2=0x0;_0xf8a6f2<_0x399a5a['connectedClients']['length'];_0xf8a6f2++){if(_0x399a5a[_0x2d6a('0x49')][_0xf8a6f2]['id']==_0x5551e4){_0x399a5a['connectedClients'][_0xf8a6f2][_0x2d6a('0x31')]=_0x437cfb;break;}}}function _0x5d9901(_0x3e8cb3){for(var _0x2c0e3f=0x0;_0x2c0e3f<_0x399a5a['connectedClients'][_0x2d6a('0x4a')];_0x2c0e3f++){if(_0x399a5a[_0x2d6a('0x49')][_0x2c0e3f]['id']==_0x3e8cb3){_0x399a5a['connectedClients'][_0x2c0e3f][_0x2d6a('0x31')]=undefined;break;}}}function _0x17bc64(_0x4122fe){for(var _0x4220ae=0x0;_0x4220ae<_0x399a5a[_0x2d6a('0x49')][_0x2d6a('0x4a')];_0x4220ae++){if(_0x399a5a[_0x2d6a('0x49')][_0x4220ae][_0x2d6a('0x31')][_0x2d6a('0x2e')]==_0x4122fe){_0x399a5a[_0x2d6a('0x49')][_0x4220ae]['User']=undefined;break;}}}function _0x19b6df(){return function(_0x2fdb37,_0x5cc702,_0x2c0a4b){if(_0x2fdb37[_0x2d6a('0x4b')]()){return _0x2c0a4b();}else{return _0x5cc702[_0x2d6a('0xf')](0x191)[_0x2d6a('0xa')](_0x2d6a('0x4c'));}};}async function _0x46564a(_0x40d700){try{await _0x17373f(_0x40d700);}catch(_0xd7553f){winston[_0x2d6a('0x4d')](_0xd7553f);winston[_0x2d6a('0x4d')](_0x2d6a('0x4e')+_0x40d700[_0x2d6a('0x2e')]);}};function _0x17373f(_0x581b49){return new Promise(function(_0x44a711,_0x39675f){var _0x585ca2=new SSH();_0x585ca2['on'](_0x2d6a('0x4f'),function(){_0x585ca2[_0x2d6a('0x50')](async function(_0xad7731,_0x5328f4){if(_0xad7731){winston[_0x2d6a('0x4d')]('Error\x20communicating\x20with\x20c3:\x20'+_0xad7731);_0x585ca2[_0x2d6a('0x51')]();return _0x39675f(_0xad7731);}try{await _0x22d48a(_0x5328f4);await _0x48e755(_0x5328f4,_0x581b49[_0x2d6a('0x2e')]);await _0x1e7384(_0x5328f4,_0x581b49[_0x2d6a('0x2e')]);await _0x3449ea(_0x5328f4,_0x581b49[_0x2d6a('0x2e')]);let _0x3ffe46=await _0x5ce18f(_0x5328f4,_0x581b49['username']);winston[_0x2d6a('0x4d')](JSON[_0x2d6a('0x52')](_0x3ffe46));let _0x2f75e3=await _0x2fc6ab(_0x581b49[_0x2d6a('0x53')]);winston[_0x2d6a('0x4d')](JSON[_0x2d6a('0x52')](_0x2f75e3));await _0x4bc51c(_0x5328f4,_0x581b49,_0x3ffe46,_0x2f75e3);_0x585ca2['end']();return _0x44a711();}catch(_0x182a48){winston[_0x2d6a('0x4d')](_0x182a48);_0x585ca2[_0x2d6a('0x51')]();return _0x39675f(_0x182a48);}});})[_0x2d6a('0x54')]({'host':_0x2d6a('0x55'),'port':0x16,'username':'c3','password':_0x2d6a('0x56')});});};function _0x22d48a(_0x2c3533){return new Promise(function(_0x39d96e,_0x18a894){_0x2c3533[_0x2d6a('0x57')](_0x2d6a('0x58'),function(_0x10d069){if(_0x10d069){_0x2c3533[_0x2d6a('0x59')](_0x2d6a('0x58'),function(_0xe03a6c){if(_0xe03a6c){return _0x18a894(_0x2d6a('0x5a')+_0xe03a6c);}else{winston[_0x2d6a('0x4d')](_0x2d6a('0x5b'));return _0x39d96e();}});}else{winston[_0x2d6a('0x4d')]('Classroom\x20file\x20system\x20found');return _0x39d96e();}});});};function _0x48e755(_0x2ae146,_0x228911){return new Promise(function(_0x22a85d,_0x19460f){_0x2ae146[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x228911,function(_0x3f20e0){if(_0x3f20e0){_0x2ae146['mkdir'](_0x2d6a('0x58')+_0x228911,function(_0x414684){if(_0x414684){return _0x19460f(_0x2d6a('0x5c')+_0x414684);}else{winston[_0x2d6a('0x4d')](_0x2d6a('0x5d'));return _0x22a85d();}});}else{winston[_0x2d6a('0x4d')](_0x2d6a('0x5e'));return _0x22a85d();}});});};function _0x1e7384(_0x39daad,_0x1ed77b){return new Promise(function(_0x7d4b2f,_0x1abee5){_0x39daad[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x1ed77b+_0x2d6a('0x5f'),function(_0x5c615d){if(_0x5c615d){_0x39daad[_0x2d6a('0x59')]('/home/c3/FusionFilesystem/'+_0x1ed77b+_0x2d6a('0x5f'),function(_0x53505c){if(_0x53505c){return _0x1abee5(_0x2d6a('0x60')+_0x53505c);}else{winston[_0x2d6a('0x4d')](_0x2d6a('0x61'));return _0x7d4b2f();}});}else{winston['info'](_0x2d6a('0x62'));return _0x7d4b2f();}});});};function _0x3449ea(_0x8a12e7,_0x4f0de2){return new Promise(function(_0x1e289d,_0x238740){_0x8a12e7[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x4f0de2+_0x2d6a('0x63'),function(_0x588898){if(_0x588898){_0x8a12e7[_0x2d6a('0x59')](_0x2d6a('0x58')+_0x4f0de2+_0x2d6a('0x63'),function(_0x1bc72d){if(_0x1bc72d){return _0x238740(_0x2d6a('0x64')+_0x1bc72d);}else{winston[_0x2d6a('0x4d')]('User\x27s\x20blockly\x20directory\x20created');return _0x1e289d();}});}else{winston[_0x2d6a('0x4d')](_0x2d6a('0x65'));return _0x1e289d();}});});};function _0x5ce18f(_0x23405f,_0x129bb6){return new Promise(async function(_0x1dc7b6,_0x5d3cec){try{let _0x2f0306={};_0x2f0306['Editor']=await _0x55713b(_0x23405f,_0x129bb6);_0x2f0306[_0x2d6a('0x66')]=await _0x14708f(_0x23405f,_0x129bb6);return _0x1dc7b6(_0x2f0306);}catch(_0x3eda53){return _0x5d3cec(_0x3eda53);}});};function _0x55713b(_0x4fdc40,_0x3b882c){return new Promise(function(_0x25ac84,_0x3c08d7){_0x4fdc40[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x3b882c+'/Editor/',function(_0x40a067,_0x3abc7a){if(_0x40a067)return _0x3c08d7(_0x40a067);let _0x3cf07a=[];for(let _0x4078f0=0x0;_0x4078f0<_0x3abc7a[_0x2d6a('0x4a')];_0x4078f0++){winston['verbose'](_0x2d6a('0x67')+_0x3abc7a[_0x4078f0][_0x2d6a('0x68')]);_0x3cf07a[_0x2d6a('0x69')](_0x3abc7a[_0x4078f0]);}return _0x25ac84(_0x3cf07a);});});};function _0x14708f(_0x47267c,_0x332121){return new Promise(function(_0x3653e4,_0x42fd21){_0x47267c[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x332121+_0x2d6a('0x63'),function(_0x18ecad,_0x5dd6b8){if(_0x18ecad)return _0x42fd21(_0x18ecad);let _0x5c24b5=[];for(let _0x219c55=0x0;_0x219c55<_0x5dd6b8[_0x2d6a('0x4a')];_0x219c55++){winston[_0x2d6a('0x6a')](_0x2d6a('0x67')+_0x5dd6b8[_0x219c55][_0x2d6a('0x68')]);_0x5c24b5[_0x2d6a('0x69')](_0x5dd6b8[_0x219c55]);}return _0x3653e4(_0x5c24b5);});});};function _0x2fc6ab(_0x3de5ce){return new Promise(async function(_0x3c251c,_0x32d770){try{let _0x294d56={};_0x294d56[_0x2d6a('0x6b')]=await _0x1f899d(_0x3de5ce);_0x294d56[_0x2d6a('0x66')]=await _0x113a98(_0x3de5ce);return _0x3c251c(_0x294d56);}catch(_0x4a2530){return _0x32d770(_0x4a2530);}});};function _0x1f899d(_0x8d2c86){return new Promise(async function(_0x5230e5,_0x235b6d){try{let _0x89d3f4=[];let _0x204ea6=await fs['readdir'](_0x8d2c86+_0x2d6a('0x6c'));for(let _0x577009=0x0;_0x577009<_0x204ea6['length'];_0x577009++){winston[_0x2d6a('0x6a')]('Getting\x20data\x20for\x20'+_0x204ea6[_0x577009]);let _0x24a1be=await fs[_0x2d6a('0x6d')](_0x8d2c86+_0x2d6a('0x5f')+_0x204ea6[_0x577009]);_0x24a1be['name']=_0x204ea6[_0x577009];_0x89d3f4[_0x2d6a('0x69')](_0x24a1be);}return _0x5230e5(_0x89d3f4);}catch(_0x540e8f){return _0x235b6d(_0x540e8f);}});};function _0x113a98(_0x44840d){return new Promise(async function(_0x35a2b6,_0x1bc1ac){try{let _0x52dcec=[];let _0x1cf7f0=await fs[_0x2d6a('0x57')](_0x44840d+_0x2d6a('0x6e'));for(let _0xfbec17=0x0;_0xfbec17<_0x1cf7f0['length'];_0xfbec17++){winston[_0x2d6a('0x6a')](_0x2d6a('0x67')+_0x1cf7f0[_0xfbec17]);let _0x4ccc59=await fs['stat'](_0x44840d+_0x2d6a('0x63')+_0x1cf7f0[_0xfbec17]);_0x4ccc59[_0x2d6a('0x6f')]=_0x1cf7f0[_0xfbec17];_0x52dcec[_0x2d6a('0x69')](_0x4ccc59);}return _0x35a2b6(_0x52dcec);}catch(_0x3ac3de){return _0x1bc1ac(_0x3ac3de);}});};function _0x4bc51c(_0x1846a3,_0x349656,_0x367490,_0x34b00c){return new Promise(async function(_0x22b3a5,_0xc9b24d){try{for(let _0x42d797=0x0;_0x42d797<_0x367490[_0x2d6a('0x6b')][_0x2d6a('0x4a')];_0x42d797++){let _0x9e2cc2=![];for(let _0x35c298=0x0;_0x35c298<_0x34b00c[_0x2d6a('0x6b')]['length'];_0x35c298++){if(_0x34b00c[_0x2d6a('0x6b')][_0x35c298]['name']==_0x367490[_0x2d6a('0x6b')][_0x42d797][_0x2d6a('0x68')]){winston['debug'](_0x2d6a('0x70')+Math[_0x2d6a('0x71')](_0x34b00c[_0x2d6a('0x6b')][_0x35c298]['mtimeMs']/0x3e8));winston['debug'](_0x2d6a('0x72')+_0x367490[_0x2d6a('0x6b')][_0x42d797][_0x2d6a('0x73')][_0x2d6a('0x74')]);if(Math['floor'](_0x34b00c[_0x2d6a('0x6b')][_0x35c298][_0x2d6a('0x75')]/0x3e8)>_0x367490['Editor'][_0x42d797][_0x2d6a('0x73')]['mtime']){_0x9e2cc2=!![];winston[_0x2d6a('0x6a')](_0x2d6a('0x76')+_0x34b00c[_0x2d6a('0x6b')][_0x35c298][_0x2d6a('0x6f')]+_0x2d6a('0x77'));try{await _0x204a74(_0x1846a3,_0x349656,_0x367490[_0x2d6a('0x6b')][_0x42d797][_0x2d6a('0x68')],_0x2d6a('0x6b'));}catch(_0x3848f2){return _0xc9b24d(_0x3848f2);}break;}else{_0x9e2cc2=!![];winston[_0x2d6a('0x6a')](_0x2d6a('0x78')+_0x34b00c[_0x2d6a('0x6b')][_0x35c298][_0x2d6a('0x6f')]+_0x2d6a('0x79'));try{await _0x37cbaf(_0x1846a3,_0x349656,_0x367490['Editor'][_0x42d797]['filename'],'Editor');}catch(_0x4aa6f7){winston['debug']('Error:\x20'+_0x4aa6f7);return _0xc9b24d(_0x4aa6f7);}break;}}}if(!_0x9e2cc2){winston[_0x2d6a('0x6a')](_0x367490[_0x2d6a('0x6b')][_0x42d797][_0x2d6a('0x68')]+'\x20not\x20a\x20common\x20file!');try{await _0x37cbaf(_0x1846a3,_0x349656,_0x367490['Editor'][_0x42d797][_0x2d6a('0x68')],_0x2d6a('0x6b'));}catch(_0x595f55){return _0xc9b24d(_0x595f55);}}}for(let _0x4beed0=0x0;_0x4beed0<_0x367490[_0x2d6a('0x66')][_0x2d6a('0x4a')];_0x4beed0++){let _0x9e2cc2=![];for(let _0x35c298=0x0;_0x35c298<_0x34b00c[_0x2d6a('0x66')][_0x2d6a('0x4a')];_0x35c298++){if(_0x34b00c[_0x2d6a('0x66')][_0x35c298][_0x2d6a('0x6f')]==_0x367490['Blockly'][_0x4beed0][_0x2d6a('0x68')]){winston['debug']('Local\x20mtime:\x20'+Math[_0x2d6a('0x71')](_0x34b00c['Blockly'][_0x35c298][_0x2d6a('0x75')]/0x3e8));winston[_0x2d6a('0x7a')]('Remote\x20mtime:\x20'+_0x367490[_0x2d6a('0x66')][_0x4beed0][_0x2d6a('0x73')][_0x2d6a('0x74')]);if(Math[_0x2d6a('0x71')](_0x34b00c['Blockly'][_0x35c298][_0x2d6a('0x75')]/0x3e8)>_0x367490['Blockly'][_0x4beed0][_0x2d6a('0x73')][_0x2d6a('0x74')]){_0x9e2cc2=!![];winston[_0x2d6a('0x6a')](_0x2d6a('0x76')+_0x34b00c[_0x2d6a('0x66')][_0x35c298][_0x2d6a('0x6f')]+_0x2d6a('0x77'));try{await _0x204a74(_0x1846a3,_0x349656,_0x367490[_0x2d6a('0x66')][_0x4beed0][_0x2d6a('0x68')],'Blockly');}catch(_0xf62ed4){return _0xc9b24d(_0xf62ed4);}break;}else{_0x9e2cc2=!![];winston['verbose'](_0x2d6a('0x78')+_0x34b00c[_0x2d6a('0x66')][_0x35c298][_0x2d6a('0x6f')]+_0x2d6a('0x79'));try{await _0x37cbaf(_0x1846a3,_0x349656,_0x367490['Blockly'][_0x4beed0][_0x2d6a('0x68')],'Blockly');}catch(_0x3b27f1){winston[_0x2d6a('0x7a')](_0x2d6a('0x7b')+_0x3b27f1);return _0xc9b24d(_0x3b27f1);}break;}}}if(!_0x9e2cc2){winston[_0x2d6a('0x6a')](_0x367490[_0x2d6a('0x66')][_0x4beed0][_0x2d6a('0x68')]+_0x2d6a('0x7c'));try{await _0x37cbaf(_0x1846a3,_0x349656,_0x367490[_0x2d6a('0x66')][_0x4beed0]['filename'],_0x2d6a('0x66'));}catch(_0x529ee5){return _0xc9b24d(_0x529ee5);}}}return _0x22b3a5();}catch(_0x29e47f){return _0xc9b24d(_0x29e47f);}});};function _0x204a74(_0x48e741,_0x35db3d,_0x4aa61f,_0x165554){return new Promise((_0x49e96f,_0x47747d)=>{try{let _0x5054fe=_0x2d6a('0x58')+_0x35db3d[_0x2d6a('0x2e')]+'/'+_0x165554+'/'+_0x4aa61f;let _0x4522b5=_0x35db3d[_0x2d6a('0x53')]+'/'+_0x165554+'/'+_0x4aa61f;winston[_0x2d6a('0x6a')](_0x2d6a('0x7d')+_0x5054fe);winston[_0x2d6a('0x6a')](_0x2d6a('0x7e')+_0x4522b5);_0x48e741[_0x2d6a('0x7f')](_0x4522b5,_0x5054fe,{},function(_0x32db55){if(_0x32db55){winston[_0x2d6a('0x7a')](_0x2d6a('0x80')+_0x4aa61f);return _0x47747d(_0x32db55);}winston['info'](_0x2d6a('0x81')+_0x4aa61f);return _0x49e96f();});}catch(_0x7d4558){return _0x47747d(_0x7d4558);}});};function _0x37cbaf(_0x228aa8,_0x409539,_0x368264,_0x2b42de){return new Promise((_0x220732,_0x41ff85)=>{try{let _0x2a479c=_0x2d6a('0x58')+_0x409539['username']+'/'+_0x2b42de+'/'+_0x368264;let _0x52696c=_0x409539['filepath']+'/'+_0x2b42de+'/'+_0x368264;winston[_0x2d6a('0x6a')]('Remote\x20path:\x20'+_0x2a479c);winston[_0x2d6a('0x6a')]('Local\x20Path:\x20'+_0x52696c);_0x228aa8[_0x2d6a('0x82')](_0x2a479c,_0x52696c,{},function(_0x131494){if(_0x131494){winston[_0x2d6a('0x7a')](_0x2d6a('0x83')+_0x368264);return _0x41ff85(_0x131494);}winston[_0x2d6a('0x4d')](_0x2d6a('0x84')+_0x368264);return _0x220732();});}catch(_0x30e5e7){return _0x41ff85(_0x30e5e7);}});};function _0x5df39e(_0x16d415,_0x22c333,_0x41d969,_0xd7ad5e){_0x16d415[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x22c333[_0x2d6a('0x2e')],function(_0x59ae3a){if(_0x59ae3a){console[_0x2d6a('0x37')](_0x2d6a('0x85')+_0x59ae3a);_0x16d415[_0x2d6a('0x59')](_0x2d6a('0x58')+_0x22c333['username'],function(_0x486974){if(_0x486974){console[_0x2d6a('0x37')](_0x2d6a('0x86')+_0x486974);throw _0x486974;}console[_0x2d6a('0x37')]('User\x20c3\x20directory\x20created');_0x16d415[_0x2d6a('0x59')](_0x2d6a('0x58')+_0x22c333['username']+_0x2d6a('0x5f'),function(_0x5f0255){if(_0x5f0255){console[_0x2d6a('0x37')](_0x2d6a('0x87')+_0x5f0255);throw _0x5f0255;}console[_0x2d6a('0x37')](_0x2d6a('0x88'));_0x16d415['mkdir']('/home/c3/FusionFilesystem/'+_0x22c333[_0x2d6a('0x2e')]+_0x2d6a('0x63'),function(_0xbb18ae){if(_0xbb18ae){console[_0x2d6a('0x37')](_0x2d6a('0x89')+_0xbb18ae);throw _0xbb18ae;}console['log']('Blockly\x20directory\x20created');_0xd7ad5e(_0x16d415,_0x22c333,_0x41d969);});});});}_0xd7ad5e(_0x16d415,_0x22c333,_0x41d969);});};function _0x3d35c9(_0x24c447,_0x155a88,_0x315b34){_0x24c447[_0x2d6a('0x57')]('/home/c3/FusionFilesystem/'+_0x155a88[_0x2d6a('0x2e')]+_0x2d6a('0x5f'),function(_0x1fd743,_0x45a62d){if(_0x1fd743){console[_0x2d6a('0x37')]('Error\x20reading\x20classroom\x20editor\x20files:\x20'+_0x1fd743);throw _0x1fd743;}_0x14f3f8(_0x155a88,_0x2d6a('0x6b'),_0x45a62d,_0x315b34);});_0x24c447[_0x2d6a('0x57')](_0x2d6a('0x58')+_0x155a88[_0x2d6a('0x2e')]+_0x2d6a('0x63'),function(_0x57aaaf,_0xa2dfc3){if(_0x57aaaf){console['log'](_0x2d6a('0x8a')+_0x57aaaf);throw _0x57aaaf;}_0x14f3f8(_0x155a88,_0x2d6a('0x66'),_0xa2dfc3,_0x315b34);});};function _0x14f3f8(_0x4dc2ce,_0x5ef0da,_0x395888,_0x3bf028){console[_0x2d6a('0x37')](_0x2d6a('0x8b'));if(_0x5ef0da=='Blockly'&&_0x395888[_0x2d6a('0x4a')]==0x0){_0x3bf028[_0x2d6a('0x51')]();}for(var _0x2bd5c0=0x0;_0x2bd5c0<_0x395888['length'];_0x2bd5c0++){let _0x400ddd=_0x2d6a('0x58')+_0x4dc2ce['username']+'/'+_0x5ef0da+'/'+_0x395888[_0x2bd5c0][_0x2d6a('0x68')];let _0x3eeae4=_0x2d6a('0x8c')+_0x4dc2ce[_0x2d6a('0x2e')]+'/'+_0x5ef0da+'/';console[_0x2d6a('0x37')](_0x2d6a('0x8d')+_0x400ddd+_0x2d6a('0x8e')+_0x3eeae4);SCP[_0x2d6a('0x8f')]('c3:root@172.16.0.1:'+_0x400ddd,_0x3eeae4,function(_0x6d16e3){if(_0x6d16e3){console[_0x2d6a('0x37')](_0x2d6a('0x90')+_0x400ddd+_0x2d6a('0x91')+_0x6d16e3);}if(_0x5ef0da=='Blockly'&&(_0x2bd5c0=_0x395888[_0x2d6a('0x4a')]-0x1)){_0x3bf028[_0x2d6a('0x51')]();}});}};};