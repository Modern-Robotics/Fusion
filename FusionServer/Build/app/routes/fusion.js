var _0x2cf5=['stdout','close','send','Update\x20starting','/api/fusion/restore','scripts/restoreFusion.sh','Restore\x20Finished!','status','/api/fusion/releaseNotes','git','--date=short','--no-merges','split','length','replace','join','json','Error\x20Reading\x20changelog','/api/cookie','user','isAuthenticated','exports','get','/api/fusion/update','child_process','spawn','scripts/updateFusion.sh','bash','pipe','data','log','stderr','emit','update-output'];(function(_0x429787,_0x34529a){var _0x2b41bd=function(_0x38c84f){while(--_0x38c84f){_0x429787['push'](_0x429787['shift']());}};_0x2b41bd(++_0x34529a);}(_0x2cf5,0xe1));var _0x4c7d=function(_0x40e735,_0x3196ae){_0x40e735=_0x40e735-0x0;var _0x32ba97=_0x2cf5[_0x40e735];return _0x32ba97;};module[_0x4c7d('0x0')]=function(_0x303db7,_0x313097){_0x303db7[_0x4c7d('0x1')](_0x4c7d('0x2'),_0x27514e(),function(_0x148e83,_0x29f39e){try{var _0x285c69=require(_0x4c7d('0x3'))[_0x4c7d('0x4')];var _0x48a3f9=_0x4c7d('0x5');var _0x42a764=_0x285c69('sudo',[_0x4c7d('0x6'),_0x48a3f9],{'stdio':_0x4c7d('0x7')});_0x42a764['stdout']['on'](_0x4c7d('0x8'),function(_0x9883fe){console[_0x4c7d('0x9')](String(_0x9883fe));_0x313097['emit']('update-output',{'output':String(_0x9883fe)});});_0x42a764[_0x4c7d('0xa')]['on'](_0x4c7d('0x8'),function(_0x461084){console['log'](String(_0x461084));_0x313097[_0x4c7d('0xb')](_0x4c7d('0xc'),{'output':String(_0x461084)});});_0x42a764[_0x4c7d('0xd')]['on'](_0x4c7d('0xe'),function(_0x200c45){console[_0x4c7d('0x9')](String('Update\x20Finished!'));});}catch(_0x21a62f){console[_0x4c7d('0x9')](_0x21a62f);}_0x29f39e['status'](0xc8)[_0x4c7d('0xf')](_0x4c7d('0x10'));});_0x303db7[_0x4c7d('0x1')](_0x4c7d('0x11'),_0x27514e(),function(_0x215373,_0x59f745){try{var _0x3a17dc=require('child_process')[_0x4c7d('0x4')];var _0x270bb7=_0x4c7d('0x12');var _0x4fe4b8=_0x3a17dc('sudo',[_0x4c7d('0x6'),_0x270bb7],{'stdio':_0x4c7d('0x7')});_0x4fe4b8[_0x4c7d('0xd')]['on'](_0x4c7d('0x8'),function(_0x1be2cf){console[_0x4c7d('0x9')](String(_0x1be2cf));_0x313097['emit'](_0x4c7d('0xc'),{'output':String(_0x1be2cf)});});_0x4fe4b8[_0x4c7d('0xa')]['on']('data',function(_0xf75c9e){console['log'](String(_0xf75c9e));_0x313097['emit'](_0x4c7d('0xc'),{'output':String(_0xf75c9e)});});_0x4fe4b8['stdout']['on'](_0x4c7d('0xe'),function(_0x13bee){console[_0x4c7d('0x9')](String(_0x4c7d('0x13')));});}catch(_0x1df1eb){console[_0x4c7d('0x9')](_0x1df1eb);}_0x59f745[_0x4c7d('0x14')](0xc8)[_0x4c7d('0xf')]('Restore\x20starting');});_0x303db7[_0x4c7d('0x1')](_0x4c7d('0x15'),function(_0x382f52,_0x38a321){var _0xdbd49e=require(_0x4c7d('0x3'))[_0x4c7d('0x4')];var _0x30760c='';var _0x6b3fe4=!![];var _0xa7e4ae=_0xdbd49e(_0x4c7d('0x16'),['log','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22',_0x4c7d('0x17'),_0x4c7d('0x18')],{'stdio':_0x4c7d('0x7')});_0xa7e4ae[_0x4c7d('0xd')]['on'](_0x4c7d('0x8'),function(_0x392e97){_0x30760c+=_0x392e97+'\x0a';});_0xa7e4ae[_0x4c7d('0xa')]['on'](_0x4c7d('0x8'),function(_0x31fadb){console['log'](String(_0x31fadb));_0x6b3fe4=![];});_0xa7e4ae[_0x4c7d('0xd')]['on'](_0x4c7d('0xe'),function(_0x20b626){var _0x222342=_0x30760c[_0x4c7d('0x19')]('\x0a\x0a');for(var _0x4c75d4=0x0;_0x4c75d4<_0x222342[_0x4c7d('0x1a')];_0x4c75d4++){_0x222342[_0x4c75d4]=_0x222342[_0x4c75d4][_0x4c7d('0x1b')](/"/g,'');}_0x30760c=_0x222342[_0x4c7d('0x1c')]('\x0a');if(_0x6b3fe4)_0x38a321[_0x4c7d('0x14')](0xc8)[_0x4c7d('0x1d')]({'data':_0x30760c});else _0x38a321[_0x4c7d('0x14')](0x1f4)[_0x4c7d('0xf')](_0x4c7d('0x1e'));});});_0x303db7[_0x4c7d('0x1')](_0x4c7d('0x1f'),_0x27514e(),function(_0x34dfde,_0x130b00){_0x130b00['status'](0xc8)[_0x4c7d('0xf')](_0x34dfde[_0x4c7d('0x20')]);});function _0x27514e(){return function(_0x119d75,_0x1da7e5,_0x8c61){if(_0x119d75[_0x4c7d('0x21')]()){return _0x8c61();}else{_0x1da7e5[_0x4c7d('0x14')](0x191)[_0x4c7d('0xf')]('User\x20Unauthenticated');}};}};