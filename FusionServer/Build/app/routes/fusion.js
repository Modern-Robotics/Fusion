var _0x5728=['exports','get','/api/fusion/update','child_process','spawn','scripts/updateFusion.sh','sudo','pipe','data','log','update-output','stderr','stdout','close','Update\x20Finished!','status','send','Update\x20starting','bash','emit','Restore\x20Finished!','Restore\x20starting','git','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','--date=short','--no-merges','split','length','replace','join','json','/api/cookie','user','isAuthenticated','User\x20Unauthenticated'];(function(_0x3a88f7,_0x967d1e){var _0x2daa5b=function(_0x21f12e){while(--_0x21f12e){_0x3a88f7['push'](_0x3a88f7['shift']());}};_0x2daa5b(++_0x967d1e);}(_0x5728,0x1c7));var _0x161e=function(_0x3a88f7,_0x967d1e){_0x3a88f7=_0x3a88f7-0x0;var _0x2daa5b=_0x5728[_0x3a88f7];return _0x2daa5b;};module[_0x161e('0x0')]=function(_0x46a76f,_0x55b49d){_0x46a76f[_0x161e('0x1')](_0x161e('0x2'),_0x186e4c(),function(_0x1e59ea,_0x3736aa){try{var _0x18c0ea=require(_0x161e('0x3'))[_0x161e('0x4')];var _0x9097db=_0x161e('0x5');var _0x165e0a=_0x18c0ea(_0x161e('0x6'),['bash',_0x9097db],{'stdio':_0x161e('0x7')});_0x165e0a['stdout']['on'](_0x161e('0x8'),function(_0x16f14d){console[_0x161e('0x9')](String(_0x16f14d));_0x55b49d['emit'](_0x161e('0xa'),{'output':String(_0x16f14d)});});_0x165e0a[_0x161e('0xb')]['on'](_0x161e('0x8'),function(_0x4123f6){console['log'](String(_0x4123f6));_0x55b49d['emit']('update-output',{'output':String(_0x4123f6)});});_0x165e0a[_0x161e('0xc')]['on'](_0x161e('0xd'),function(_0x48622f){console[_0x161e('0x9')](String(_0x161e('0xe')));});}catch(_0x2f8d73){console[_0x161e('0x9')](_0x2f8d73);}_0x3736aa[_0x161e('0xf')](0xc8)[_0x161e('0x10')](_0x161e('0x11'));});_0x46a76f[_0x161e('0x1')]('/api/fusion/restore',_0x186e4c(),function(_0x6bffa3,_0x402e01){try{var _0x339fb5=require('child_process')[_0x161e('0x4')];var _0x295337='scripts/restoreFusion.sh';var _0x2bdb25=_0x339fb5('sudo',[_0x161e('0x12'),_0x295337],{'stdio':_0x161e('0x7')});_0x2bdb25['stdout']['on'](_0x161e('0x8'),function(_0x5bdfc0){console[_0x161e('0x9')](String(_0x5bdfc0));_0x55b49d['emit'](_0x161e('0xa'),{'output':String(_0x5bdfc0)});});_0x2bdb25[_0x161e('0xb')]['on'](_0x161e('0x8'),function(_0x812407){console[_0x161e('0x9')](String(_0x812407));_0x55b49d[_0x161e('0x13')](_0x161e('0xa'),{'output':String(_0x812407)});});_0x2bdb25[_0x161e('0xc')]['on'](_0x161e('0xd'),function(_0x4f82fc){console[_0x161e('0x9')](String(_0x161e('0x14')));});}catch(_0x1da7ff){console[_0x161e('0x9')](_0x1da7ff);}_0x402e01[_0x161e('0xf')](0xc8)['send'](_0x161e('0x15'));});_0x46a76f[_0x161e('0x1')]('/api/fusion/releaseNotes',function(_0x17cc03,_0x22b458){var _0xf987c2=require(_0x161e('0x3'))['spawn'];var _0x33db7c='';var _0x242801=!![];var _0x25dd37=_0xf987c2(_0x161e('0x16'),['log',_0x161e('0x17'),_0x161e('0x18'),_0x161e('0x19')],{'stdio':_0x161e('0x7')});_0x25dd37['stdout']['on'](_0x161e('0x8'),function(_0x89db45){_0x33db7c+=_0x89db45+'\x0a';});_0x25dd37[_0x161e('0xb')]['on']('data',function(_0x2ab3ba){console[_0x161e('0x9')](String(_0x2ab3ba));_0x242801=![];});_0x25dd37[_0x161e('0xc')]['on'](_0x161e('0xd'),function(_0x206138){var _0x441735=_0x33db7c[_0x161e('0x1a')]('\x0a\x0a');for(var _0xe98a47=0x0;_0xe98a47<_0x441735[_0x161e('0x1b')];_0xe98a47++){_0x441735[_0xe98a47]=_0x441735[_0xe98a47][_0x161e('0x1c')](/"/g,'');}_0x33db7c=_0x441735[_0x161e('0x1d')]('\x0a');if(_0x242801)_0x22b458['status'](0xc8)[_0x161e('0x1e')]({'data':_0x33db7c});else _0x22b458[_0x161e('0xf')](0x1f4)[_0x161e('0x10')]('Error\x20Reading\x20changelog');});});_0x46a76f[_0x161e('0x1')](_0x161e('0x1f'),_0x186e4c(),function(_0x313957,_0x3a374b){_0x3a374b[_0x161e('0xf')](0xc8)['send'](_0x313957[_0x161e('0x20')]);});function _0x186e4c(){return function(_0x1e917c,_0x329ce4,_0x9dc781){if(_0x1e917c[_0x161e('0x21')]()){return _0x9dc781();}else{_0x329ce4[_0x161e('0xf')](0x191)[_0x161e('0x10')](_0x161e('0x22'));}};}};