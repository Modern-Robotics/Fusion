var _0x1fca=['replace','join','json','/api/cookie','user','exports','get','/api/fusion/update','spawn','scripts/updateFusion.sh','pipe','log','emit','update-output','data','Update\x20Finished!','status','send','Update\x20starting','child_process','sudo','bash','stdout','stderr','close','Restore\x20starting','/api/fusion/releaseNotes','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','--date=short','--no-merges'];(function(_0x5d38c8,_0x8e85a4){var _0x388771=function(_0x13d4e7){while(--_0x13d4e7){_0x5d38c8['push'](_0x5d38c8['shift']());}};_0x388771(++_0x8e85a4);}(_0x1fca,0x9b));var _0x3421=function(_0x5eea6f,_0x472600){_0x5eea6f=_0x5eea6f-0x0;var _0x22ffc9=_0x1fca[_0x5eea6f];return _0x22ffc9;};module[_0x3421('0x0')]=function(_0x485057,_0x211b56){_0x485057[_0x3421('0x1')](_0x3421('0x2'),_0x458710(),function(_0x4913aa,_0x2ace4c){try{var _0x30e76e=require('child_process')[_0x3421('0x3')];var _0x1d68ec=_0x3421('0x4');var _0x28c680=_0x30e76e('sudo',['bash',_0x1d68ec],{'stdio':_0x3421('0x5')});_0x28c680['stdout']['on']('data',function(_0x3acfc3){console[_0x3421('0x6')](String(_0x3acfc3));_0x211b56[_0x3421('0x7')](_0x3421('0x8'),{'output':String(_0x3acfc3)});});_0x28c680['stderr']['on'](_0x3421('0x9'),function(_0x5ae0ea){console['log'](String(_0x5ae0ea));_0x211b56[_0x3421('0x7')](_0x3421('0x8'),{'output':String(_0x5ae0ea)});});_0x28c680['stdout']['on']('close',function(_0x1ecfea){console['log'](String(_0x3421('0xa')));});}catch(_0x2bdaa7){console[_0x3421('0x6')](_0x2bdaa7);}_0x2ace4c[_0x3421('0xb')](0xc8)[_0x3421('0xc')](_0x3421('0xd'));});_0x485057[_0x3421('0x1')]('/api/fusion/restore',_0x458710(),function(_0x18f19d,_0x2685bc){try{var _0x472978=require(_0x3421('0xe'))[_0x3421('0x3')];var _0x2d5d24='scripts/restoreFusion.sh';var _0x446201=_0x472978(_0x3421('0xf'),[_0x3421('0x10'),_0x2d5d24],{'stdio':'pipe'});_0x446201[_0x3421('0x11')]['on']('data',function(_0x1aa763){console[_0x3421('0x6')](String(_0x1aa763));_0x211b56[_0x3421('0x7')]('update-output',{'output':String(_0x1aa763)});});_0x446201[_0x3421('0x12')]['on']('data',function(_0x47a0ac){console[_0x3421('0x6')](String(_0x47a0ac));_0x211b56[_0x3421('0x7')]('update-output',{'output':String(_0x47a0ac)});});_0x446201[_0x3421('0x11')]['on'](_0x3421('0x13'),function(_0x31ef0d){console['log'](String('Restore\x20Finished!'));});}catch(_0x504de6){console[_0x3421('0x6')](_0x504de6);}_0x2685bc[_0x3421('0xb')](0xc8)[_0x3421('0xc')](_0x3421('0x14'));});_0x485057[_0x3421('0x1')](_0x3421('0x15'),function(_0x12575f,_0x1f6b07){var _0x2b2929=require(_0x3421('0xe'))[_0x3421('0x3')];var _0x177373='';var _0x7b8627=!![];var _0x3aca14=_0x2b2929('git',['log',_0x3421('0x16'),_0x3421('0x17'),_0x3421('0x18')],{'stdio':'pipe'});_0x3aca14[_0x3421('0x11')]['on'](_0x3421('0x9'),function(_0x38589b){_0x177373+=_0x38589b+'\x0a';});_0x3aca14[_0x3421('0x12')]['on'](_0x3421('0x9'),function(_0x439ab1){console[_0x3421('0x6')](String(_0x439ab1));_0x7b8627=![];});_0x3aca14[_0x3421('0x11')]['on'](_0x3421('0x13'),function(_0x55ccad){var _0x237431=_0x177373['split']('\x0a\x0a');for(var _0x425ef2=0x0;_0x425ef2<_0x237431['length'];_0x425ef2++){_0x237431[_0x425ef2]=_0x237431[_0x425ef2][_0x3421('0x19')](/"/g,'');}_0x177373=_0x237431[_0x3421('0x1a')]('\x0a');if(_0x7b8627)_0x1f6b07[_0x3421('0xb')](0xc8)[_0x3421('0x1b')]({'data':_0x177373});else _0x1f6b07[_0x3421('0xb')](0x1f4)[_0x3421('0xc')]('Error\x20Reading\x20changelog');});});_0x485057[_0x3421('0x1')](_0x3421('0x1c'),_0x458710(),function(_0x358ff1,_0xa2b319){_0xa2b319[_0x3421('0xb')](0xc8)['send'](_0x358ff1[_0x3421('0x1d')]);});function _0x458710(){return function(_0x5eb36a,_0x2b6959,_0x480d68){if(_0x5eb36a['isAuthenticated']()){return _0x480d68();}else{_0x2b6959[_0x3421('0xb')](0x191)[_0x3421('0xc')]('User\x20Unauthenticated');}};}};