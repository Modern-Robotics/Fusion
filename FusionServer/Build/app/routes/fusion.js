var _0x15b5=['Error\x20Reading\x20changelog','/api/cookie','isAuthenticated','exports','/api/fusion/update','child_process','spawn','scripts/updateFusion.sh','sudo','stdout','data','log','update-output','stderr','emit','close','status','send','Update\x20starting','get','/api/fusion/restore','scripts/restoreFusion.sh','Restore\x20starting','/api/fusion/releaseNotes','git','--date=short','--no-merges','pipe','split','length','replace','json'];(function(_0x324458,_0x53d693){var _0x1f2774=function(_0x37bda3){while(--_0x37bda3){_0x324458['push'](_0x324458['shift']());}};_0x1f2774(++_0x53d693);}(_0x15b5,0x83));var _0x457a=function(_0xb67384,_0x27295a){_0xb67384=_0xb67384-0x0;var _0x156d7c=_0x15b5[_0xb67384];return _0x156d7c;};module[_0x457a('0x0')]=function(_0x467aa4,_0x273028){_0x467aa4['get'](_0x457a('0x1'),_0x133877(),function(_0x7e2b0c,_0x365942){try{var _0x5a6859=require(_0x457a('0x2'))[_0x457a('0x3')];var _0x4467fc=_0x457a('0x4');var _0x324eca=_0x5a6859(_0x457a('0x5'),['bash',_0x4467fc],{'stdio':'pipe'});_0x324eca[_0x457a('0x6')]['on'](_0x457a('0x7'),function(_0x2286be){console[_0x457a('0x8')](String(_0x2286be));_0x273028['emit'](_0x457a('0x9'),{'output':String(_0x2286be)});});_0x324eca[_0x457a('0xa')]['on'](_0x457a('0x7'),function(_0x10204e){console[_0x457a('0x8')](String(_0x10204e));_0x273028[_0x457a('0xb')](_0x457a('0x9'),{'output':String(_0x10204e)});});_0x324eca[_0x457a('0x6')]['on'](_0x457a('0xc'),function(_0x5d6ca7){console[_0x457a('0x8')](String('Update\x20Finished!'));});}catch(_0x365526){console[_0x457a('0x8')](_0x365526);}_0x365942[_0x457a('0xd')](0xc8)[_0x457a('0xe')](_0x457a('0xf'));});_0x467aa4[_0x457a('0x10')](_0x457a('0x11'),_0x133877(),function(_0x22f190,_0x4be931){try{var _0x4176b8=require(_0x457a('0x2'))[_0x457a('0x3')];var _0x119acb=_0x457a('0x12');var _0x2ca032=_0x4176b8(_0x457a('0x5'),['bash',_0x119acb],{'stdio':'pipe'});_0x2ca032[_0x457a('0x6')]['on'](_0x457a('0x7'),function(_0x270d49){console['log'](String(_0x270d49));_0x273028[_0x457a('0xb')](_0x457a('0x9'),{'output':String(_0x270d49)});});_0x2ca032[_0x457a('0xa')]['on']('data',function(_0x565dd3){console[_0x457a('0x8')](String(_0x565dd3));_0x273028['emit'](_0x457a('0x9'),{'output':String(_0x565dd3)});});_0x2ca032[_0x457a('0x6')]['on']('close',function(_0x183d22){console[_0x457a('0x8')](String('Restore\x20Finished!'));});}catch(_0x56564c){console[_0x457a('0x8')](_0x56564c);}_0x4be931[_0x457a('0xd')](0xc8)[_0x457a('0xe')](_0x457a('0x13'));});_0x467aa4[_0x457a('0x10')](_0x457a('0x14'),function(_0x3bea42,_0x4e1df6){var _0x1787d1=require(_0x457a('0x2'))[_0x457a('0x3')];var _0xf1f892='';var _0x287c44=!![];var _0xc5089f=_0x1787d1(_0x457a('0x15'),[_0x457a('0x8'),'--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22',_0x457a('0x16'),_0x457a('0x17')],{'stdio':_0x457a('0x18')});_0xc5089f['stdout']['on'](_0x457a('0x7'),function(_0x5b76ff){_0xf1f892+=_0x5b76ff+'\x0a';});_0xc5089f[_0x457a('0xa')]['on'](_0x457a('0x7'),function(_0xe87065){console[_0x457a('0x8')](String(_0xe87065));_0x287c44=![];});_0xc5089f[_0x457a('0x6')]['on'](_0x457a('0xc'),function(_0x2b575c){var _0x273149=_0xf1f892[_0x457a('0x19')]('\x0a\x0a');for(var _0x39e532=0x0;_0x39e532<_0x273149[_0x457a('0x1a')];_0x39e532++){_0x273149[_0x39e532]=_0x273149[_0x39e532][_0x457a('0x1b')](/"/g,'');}_0xf1f892=_0x273149['join']('\x0a');if(_0x287c44)_0x4e1df6[_0x457a('0xd')](0xc8)[_0x457a('0x1c')]({'data':_0xf1f892});else _0x4e1df6[_0x457a('0xd')](0x1f4)[_0x457a('0xe')](_0x457a('0x1d'));});});_0x467aa4[_0x457a('0x10')](_0x457a('0x1e'),_0x133877(),function(_0x2fb0f5,_0x352f1d){_0x352f1d[_0x457a('0xd')](0xc8)[_0x457a('0xe')](_0x2fb0f5['user']);});function _0x133877(){return function(_0x2fd3f2,_0x262c16,_0x407fa0){if(_0x2fd3f2[_0x457a('0x1f')]()){return _0x407fa0();}else{_0x262c16[_0x457a('0xd')](0x191)['send']('User\x20Unauthenticated');}};}};