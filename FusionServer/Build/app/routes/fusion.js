var _0x199c=['Update\x20Finished!','status','send','scripts/restoreFusion.sh','Restore\x20Finished!','Restore\x20starting','/api/fusion/releaseNotes','--date=short','--no-merges','split','length','replace','join','json','Error\x20Reading\x20changelog','/api/cookie','user','isAuthenticated','User\x20Unauthenticated','exports','get','/api/fusion/update','child_process','spawn','scripts/updateFusion.sh','sudo','bash','stdout','data','emit','update-output','stderr','close','log'];(function(_0x335e09,_0x3e3fc0){var _0x2c56d5=function(_0x8eddce){while(--_0x8eddce){_0x335e09['push'](_0x335e09['shift']());}};_0x2c56d5(++_0x3e3fc0);}(_0x199c,0x123));var _0x2ad7=function(_0xfb21ab,_0x5aad3e){_0xfb21ab=_0xfb21ab-0x0;var _0x5dc3ea=_0x199c[_0xfb21ab];return _0x5dc3ea;};module[_0x2ad7('0x0')]=function(_0x5a1fbe,_0x4cd41a){_0x5a1fbe[_0x2ad7('0x1')](_0x2ad7('0x2'),_0x4c730f(),function(_0x4a359b,_0x1cc516){try{var _0x4a7443=require(_0x2ad7('0x3'))[_0x2ad7('0x4')];var _0x484264=_0x2ad7('0x5');var _0x4ef4f9=_0x4a7443(_0x2ad7('0x6'),[_0x2ad7('0x7'),_0x484264],{'stdio':'pipe'});_0x4ef4f9[_0x2ad7('0x8')]['on'](_0x2ad7('0x9'),function(_0x39e3cf){console['log'](String(_0x39e3cf));_0x4cd41a[_0x2ad7('0xa')](_0x2ad7('0xb'),{'output':String(_0x39e3cf)});});_0x4ef4f9[_0x2ad7('0xc')]['on'](_0x2ad7('0x9'),function(_0x151c39){console['log'](String(_0x151c39));_0x4cd41a['emit'](_0x2ad7('0xb'),{'output':String(_0x151c39)});});_0x4ef4f9['stdout']['on'](_0x2ad7('0xd'),function(_0x210594){console[_0x2ad7('0xe')](String(_0x2ad7('0xf')));});}catch(_0x2e440e){console['log'](_0x2e440e);}_0x1cc516[_0x2ad7('0x10')](0xc8)[_0x2ad7('0x11')]('Update\x20starting');});_0x5a1fbe[_0x2ad7('0x1')]('/api/fusion/restore',_0x4c730f(),function(_0x12695,_0x5671d4){try{var _0x44284a=require(_0x2ad7('0x3'))[_0x2ad7('0x4')];var _0x3858a0=_0x2ad7('0x12');var _0x3256d9=_0x44284a(_0x2ad7('0x6'),['bash',_0x3858a0],{'stdio':'pipe'});_0x3256d9[_0x2ad7('0x8')]['on'](_0x2ad7('0x9'),function(_0x4aea9c){console[_0x2ad7('0xe')](String(_0x4aea9c));_0x4cd41a['emit'](_0x2ad7('0xb'),{'output':String(_0x4aea9c)});});_0x3256d9[_0x2ad7('0xc')]['on'](_0x2ad7('0x9'),function(_0x14b0eb){console[_0x2ad7('0xe')](String(_0x14b0eb));_0x4cd41a[_0x2ad7('0xa')]('update-output',{'output':String(_0x14b0eb)});});_0x3256d9[_0x2ad7('0x8')]['on'](_0x2ad7('0xd'),function(_0x25c4b7){console[_0x2ad7('0xe')](String(_0x2ad7('0x13')));});}catch(_0x285766){console[_0x2ad7('0xe')](_0x285766);}_0x5671d4[_0x2ad7('0x10')](0xc8)['send'](_0x2ad7('0x14'));});_0x5a1fbe[_0x2ad7('0x1')](_0x2ad7('0x15'),function(_0x4a8058,_0x204a8){var _0x30a6de=require(_0x2ad7('0x3'))[_0x2ad7('0x4')];var _0x4c7e7a='';var _0x2f5129=!![];var _0x5f0fee=_0x30a6de('git',['log','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22',_0x2ad7('0x16'),_0x2ad7('0x17')],{'stdio':'pipe'});_0x5f0fee[_0x2ad7('0x8')]['on'](_0x2ad7('0x9'),function(_0x5c9531){_0x4c7e7a+=_0x5c9531+'\x0a';});_0x5f0fee['stderr']['on'](_0x2ad7('0x9'),function(_0x5973ec){console[_0x2ad7('0xe')](String(_0x5973ec));_0x2f5129=![];});_0x5f0fee[_0x2ad7('0x8')]['on']('close',function(_0x56a9e5){var _0x341571=_0x4c7e7a[_0x2ad7('0x18')]('\x0a\x0a');for(var _0x14cdee=0x0;_0x14cdee<_0x341571[_0x2ad7('0x19')];_0x14cdee++){_0x341571[_0x14cdee]=_0x341571[_0x14cdee][_0x2ad7('0x1a')](/"/g,'');}_0x4c7e7a=_0x341571[_0x2ad7('0x1b')]('\x0a');if(_0x2f5129)_0x204a8['status'](0xc8)[_0x2ad7('0x1c')]({'data':_0x4c7e7a});else _0x204a8['status'](0x1f4)[_0x2ad7('0x11')](_0x2ad7('0x1d'));});});_0x5a1fbe['get'](_0x2ad7('0x1e'),_0x4c730f(),function(_0x321ddd,_0x2f3dea){_0x2f3dea[_0x2ad7('0x10')](0xc8)[_0x2ad7('0x11')](_0x321ddd[_0x2ad7('0x1f')]);});function _0x4c730f(){return function(_0x231fe5,_0x3873e3,_0x2145eb){if(_0x231fe5[_0x2ad7('0x20')]()){return _0x2145eb();}else{_0x3873e3[_0x2ad7('0x10')](0x191)[_0x2ad7('0x11')](_0x2ad7('0x21'));}};}};