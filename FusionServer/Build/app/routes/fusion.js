var _0xd397=['child_process','spawn','scripts/updateFusion.sh','sudo','bash','pipe','stdout','data','emit','stderr','update-output','close','log','Update\x20Finished!','status','send','Update\x20starting','/api/fusion/restore','Restore\x20Finished!','Restore\x20starting','/api/fusion/releaseNotes','--date=short','split','replace','json','Error\x20Reading\x20changelog','user','exports','get','/api/fusion/update'];(function(_0x4cb22a,_0x445d87){var _0x15ec07=function(_0x22379d){while(--_0x22379d){_0x4cb22a['push'](_0x4cb22a['shift']());}};_0x15ec07(++_0x445d87);}(_0xd397,0x1bf));var _0x2e48=function(_0x236755,_0xb46a4a){_0x236755=_0x236755-0x0;var _0xe3efa2=_0xd397[_0x236755];return _0xe3efa2;};module[_0x2e48('0x0')]=function(_0x20a01b,_0x10543f){_0x20a01b[_0x2e48('0x1')](_0x2e48('0x2'),_0x132f44(),function(_0x20386f,_0x1e0794){try{var _0x501cf4=require(_0x2e48('0x3'))[_0x2e48('0x4')];var _0x128b1c=_0x2e48('0x5');var _0x352e15=_0x501cf4(_0x2e48('0x6'),[_0x2e48('0x7'),_0x128b1c],{'stdio':_0x2e48('0x8')});_0x352e15[_0x2e48('0x9')]['on'](_0x2e48('0xa'),function(_0x500379){console['log'](String(_0x500379));_0x10543f[_0x2e48('0xb')]('update-output',{'output':String(_0x500379)});});_0x352e15[_0x2e48('0xc')]['on'](_0x2e48('0xa'),function(_0x2df115){console['log'](String(_0x2df115));_0x10543f['emit'](_0x2e48('0xd'),{'output':String(_0x2df115)});});_0x352e15[_0x2e48('0x9')]['on'](_0x2e48('0xe'),function(_0x177575){console[_0x2e48('0xf')](String(_0x2e48('0x10')));});}catch(_0x538f4f){console['log'](_0x538f4f);}_0x1e0794[_0x2e48('0x11')](0xc8)[_0x2e48('0x12')](_0x2e48('0x13'));});_0x20a01b[_0x2e48('0x1')](_0x2e48('0x14'),_0x132f44(),function(_0x21542e,_0x23b5b9){try{var _0x4523b6=require('child_process')[_0x2e48('0x4')];var _0x5362ed='scripts/restoreFusion.sh';var _0x3f9851=_0x4523b6('sudo',[_0x2e48('0x7'),_0x5362ed],{'stdio':_0x2e48('0x8')});_0x3f9851[_0x2e48('0x9')]['on']('data',function(_0x8ddc0d){console[_0x2e48('0xf')](String(_0x8ddc0d));_0x10543f[_0x2e48('0xb')](_0x2e48('0xd'),{'output':String(_0x8ddc0d)});});_0x3f9851['stderr']['on']('data',function(_0x42fe60){console['log'](String(_0x42fe60));_0x10543f[_0x2e48('0xb')](_0x2e48('0xd'),{'output':String(_0x42fe60)});});_0x3f9851[_0x2e48('0x9')]['on']('close',function(_0x2b63fe){console[_0x2e48('0xf')](String(_0x2e48('0x15')));});}catch(_0x277a58){console[_0x2e48('0xf')](_0x277a58);}_0x23b5b9[_0x2e48('0x11')](0xc8)[_0x2e48('0x12')](_0x2e48('0x16'));});_0x20a01b[_0x2e48('0x1')](_0x2e48('0x17'),function(_0x54cfc0,_0x1a5ba6){var _0x53a0db=require(_0x2e48('0x3'))[_0x2e48('0x4')];var _0x506cee='';var _0x25e997=!![];var _0xde9d9a=_0x53a0db('git',[_0x2e48('0xf'),'--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22',_0x2e48('0x18'),'--no-merges'],{'stdio':_0x2e48('0x8')});_0xde9d9a['stdout']['on'](_0x2e48('0xa'),function(_0x42c481){_0x506cee+=_0x42c481+'\x0a';});_0xde9d9a['stderr']['on'](_0x2e48('0xa'),function(_0x4dd770){console['log'](String(_0x4dd770));_0x25e997=![];});_0xde9d9a['stdout']['on'](_0x2e48('0xe'),function(_0x493f75){var _0x20a43b=_0x506cee[_0x2e48('0x19')]('\x0a\x0a');for(var _0x46739a=0x0;_0x46739a<_0x20a43b['length'];_0x46739a++){_0x20a43b[_0x46739a]=_0x20a43b[_0x46739a][_0x2e48('0x1a')](/"/g,'');}_0x506cee=_0x20a43b['join']('\x0a');if(_0x25e997)_0x1a5ba6[_0x2e48('0x11')](0xc8)[_0x2e48('0x1b')]({'data':_0x506cee});else _0x1a5ba6[_0x2e48('0x11')](0x1f4)[_0x2e48('0x12')](_0x2e48('0x1c'));});});_0x20a01b[_0x2e48('0x1')]('/api/cookie',_0x132f44(),function(_0x1d98a2,_0x3f86a9){_0x3f86a9['status'](0xc8)['send'](_0x1d98a2[_0x2e48('0x1d')]);});function _0x132f44(){return function(_0x43b608,_0xac28c,_0x4f2ffa){if(_0x43b608['isAuthenticated']()){return _0x4f2ffa();}else{_0xac28c[_0x2e48('0x11')](0x191)[_0x2e48('0x12')]('User\x20Unauthenticated');}};}};