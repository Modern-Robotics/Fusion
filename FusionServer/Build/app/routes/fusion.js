var _0x1d34=['data','/api/fusion/restore','/api/fusion/update','Error\x20Reading\x20changelog','scripts/updateFusion.sh','stdout','/api/fusion/releaseNotes','update-output','emit','length','Update\x20Finished!','Restore\x20Finished!','send','bash','isAuthenticated','--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','replace','/api/cookie','child_process','close','pipe','spawn','Restore\x20starting','sudo','split','--date=short','json','user','log','status','stderr','get','Update\x20starting','join','exports'];(function(_0x1d451a,_0x519a7a){var _0x5dfffc=function(_0x2de506){while(--_0x2de506){_0x1d451a['push'](_0x1d451a['shift']());}};_0x5dfffc(++_0x519a7a);}(_0x1d34,0xe9));var _0x24f5=function(_0x1d451a,_0x519a7a){_0x1d451a=_0x1d451a-0x0;var _0x5dfffc=_0x1d34[_0x1d451a];return _0x5dfffc;};module[_0x24f5('0xb')]=function(_0x4eb09,_0x1eda5c){_0x4eb09['get'](_0x24f5('0xe'),_0x4094ea(),function(_0x1536c1,_0x24168c){try{var _0x439003=require(_0x24f5('0x1e'))[_0x24f5('0x21')];var _0xd1bfc0=_0x24f5('0x10');var _0x700e40=_0x439003(_0x24f5('0x0'),['bash',_0xd1bfc0],{'stdio':_0x24f5('0x20')});_0x700e40[_0x24f5('0x11')]['on']('data',function(_0x41c724){console['log'](String(_0x41c724));_0x1eda5c['emit']('update-output',{'output':String(_0x41c724)});});_0x700e40[_0x24f5('0x7')]['on']('data',function(_0x1f90ca){console['log'](String(_0x1f90ca));_0x1eda5c[_0x24f5('0x14')](_0x24f5('0x13'),{'output':String(_0x1f90ca)});});_0x700e40[_0x24f5('0x11')]['on'](_0x24f5('0x1f'),function(_0x2f5d54){console[_0x24f5('0x5')](String(_0x24f5('0x16')));});}catch(_0x598a56){console[_0x24f5('0x5')](_0x598a56);}_0x24168c['status'](0xc8)['send'](_0x24f5('0x9'));});_0x4eb09[_0x24f5('0x8')](_0x24f5('0xd'),_0x4094ea(),function(_0xadf144,_0x1c139e){try{var _0x2dcd91=require(_0x24f5('0x1e'))['spawn'];var _0x1b0380='scripts/restoreFusion.sh';var _0x5e42bb=_0x2dcd91('sudo',[_0x24f5('0x19'),_0x1b0380],{'stdio':_0x24f5('0x20')});_0x5e42bb[_0x24f5('0x11')]['on'](_0x24f5('0xc'),function(_0x3a07e4){console[_0x24f5('0x5')](String(_0x3a07e4));_0x1eda5c[_0x24f5('0x14')]('update-output',{'output':String(_0x3a07e4)});});_0x5e42bb[_0x24f5('0x7')]['on'](_0x24f5('0xc'),function(_0x1554bf){console[_0x24f5('0x5')](String(_0x1554bf));_0x1eda5c['emit'](_0x24f5('0x13'),{'output':String(_0x1554bf)});});_0x5e42bb['stdout']['on'](_0x24f5('0x1f'),function(_0x52aa86){console[_0x24f5('0x5')](String(_0x24f5('0x17')));});}catch(_0x202e34){console['log'](_0x202e34);}_0x1c139e[_0x24f5('0x6')](0xc8)[_0x24f5('0x18')](_0x24f5('0x22'));});_0x4eb09[_0x24f5('0x8')](_0x24f5('0x12'),function(_0x2c7f9f,_0x3d0f2e){var _0x4779eb=require('child_process')[_0x24f5('0x21')];var _0x2ba189='';var _0x4cb7f6=!![];var _0x5cfe1b=_0x4779eb('git',[_0x24f5('0x5'),_0x24f5('0x1b'),_0x24f5('0x2'),'--no-merges'],{'stdio':'pipe'});_0x5cfe1b[_0x24f5('0x11')]['on'](_0x24f5('0xc'),function(_0x36cd8c){_0x2ba189+=_0x36cd8c+'\x0a';});_0x5cfe1b['stderr']['on'](_0x24f5('0xc'),function(_0x26a386){console[_0x24f5('0x5')](String(_0x26a386));_0x4cb7f6=![];});_0x5cfe1b[_0x24f5('0x11')]['on']('close',function(_0x31e19d){var _0x27df68=_0x2ba189[_0x24f5('0x1')]('\x0a\x0a');for(var _0x59b168=0x0;_0x59b168<_0x27df68[_0x24f5('0x15')];_0x59b168++){_0x27df68[_0x59b168]=_0x27df68[_0x59b168][_0x24f5('0x1c')](/"/g,'');}_0x2ba189=_0x27df68[_0x24f5('0xa')]('\x0a');if(_0x4cb7f6)_0x3d0f2e['status'](0xc8)[_0x24f5('0x3')]({'data':_0x2ba189});else _0x3d0f2e[_0x24f5('0x6')](0x1f4)[_0x24f5('0x18')](_0x24f5('0xf'));});});_0x4eb09[_0x24f5('0x8')](_0x24f5('0x1d'),_0x4094ea(),function(_0x2bdc38,_0x5de0bb){_0x5de0bb[_0x24f5('0x6')](0xc8)[_0x24f5('0x18')](_0x2bdc38[_0x24f5('0x4')]);});function _0x4094ea(){return function(_0x59eaf4,_0x48f4b3,_0x1c1732){if(_0x59eaf4[_0x24f5('0x1a')]()){return _0x1c1732();}else{_0x48f4b3[_0x24f5('0x6')](0x191)[_0x24f5('0x18')]('User\x20Unauthenticated');}};}};