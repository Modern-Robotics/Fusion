var _0x2698=['/api/fusion/releaseNotes','git','stderr','length','replace','json','Error\x20Reading\x20changelog','user','isAuthenticated','exports','get','spawn','scripts/updateFusion.sh','sudo','bash','pipe','data','log','emit','update-output','stdout','close','Update\x20Finished!','status','send','Update\x20starting','/api/fusion/restore','child_process','Restore\x20starting'];(function(_0x1f8b07,_0x51bc83){var _0x5e73fd=function(_0x1986ff){while(--_0x1986ff){_0x1f8b07['push'](_0x1f8b07['shift']());}};_0x5e73fd(++_0x51bc83);}(_0x2698,0x1d9));var _0x3aae=function(_0x571588,_0x3cdf19){_0x571588=_0x571588-0x0;var _0x59e977=_0x2698[_0x571588];return _0x59e977;};module[_0x3aae('0x0')]=function(_0x4b4dae,_0x3bad8d){_0x4b4dae[_0x3aae('0x1')]('/api/fusion/update',_0x47238a(),function(_0x4306a6,_0x4de9eb){try{var _0xf827c6=require('child_process')[_0x3aae('0x2')];var _0x5a91d4=_0x3aae('0x3');var _0x1d0747=_0xf827c6(_0x3aae('0x4'),[_0x3aae('0x5'),_0x5a91d4],{'stdio':_0x3aae('0x6')});_0x1d0747['stdout']['on'](_0x3aae('0x7'),function(_0x2d4601){console[_0x3aae('0x8')](String(_0x2d4601));_0x3bad8d[_0x3aae('0x9')]('update-output',{'output':String(_0x2d4601)});});_0x1d0747['stderr']['on']('data',function(_0x3fe5f7){console[_0x3aae('0x8')](String(_0x3fe5f7));_0x3bad8d[_0x3aae('0x9')](_0x3aae('0xa'),{'output':String(_0x3fe5f7)});});_0x1d0747[_0x3aae('0xb')]['on'](_0x3aae('0xc'),function(_0xc9a04){console[_0x3aae('0x8')](String(_0x3aae('0xd')));});}catch(_0x222e32){console[_0x3aae('0x8')](_0x222e32);}_0x4de9eb[_0x3aae('0xe')](0xc8)[_0x3aae('0xf')](_0x3aae('0x10'));});_0x4b4dae[_0x3aae('0x1')](_0x3aae('0x11'),_0x47238a(),function(_0x3ddc9f,_0x26e3b6){try{var _0x4f6f4e=require(_0x3aae('0x12'))[_0x3aae('0x2')];var _0x406b19='scripts/restoreFusion.sh';var _0x3093e3=_0x4f6f4e('sudo',[_0x3aae('0x5'),_0x406b19],{'stdio':'pipe'});_0x3093e3[_0x3aae('0xb')]['on'](_0x3aae('0x7'),function(_0x1703a6){console[_0x3aae('0x8')](String(_0x1703a6));_0x3bad8d[_0x3aae('0x9')]('update-output',{'output':String(_0x1703a6)});});_0x3093e3['stderr']['on'](_0x3aae('0x7'),function(_0x27cd01){console[_0x3aae('0x8')](String(_0x27cd01));_0x3bad8d[_0x3aae('0x9')]('update-output',{'output':String(_0x27cd01)});});_0x3093e3[_0x3aae('0xb')]['on'](_0x3aae('0xc'),function(_0x5e64f8){console['log'](String('Restore\x20Finished!'));});}catch(_0x2748de){console['log'](_0x2748de);}_0x26e3b6[_0x3aae('0xe')](0xc8)[_0x3aae('0xf')](_0x3aae('0x13'));});_0x4b4dae[_0x3aae('0x1')](_0x3aae('0x14'),function(_0x913e33,_0x59b50f){var _0x5a0100=require(_0x3aae('0x12'))[_0x3aae('0x2')];var _0x22a3b4='';var _0x2f2870=!![];var _0x2c253f=_0x5a0100(_0x3aae('0x15'),[_0x3aae('0x8'),'--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','--date=short','--no-merges'],{'stdio':_0x3aae('0x6')});_0x2c253f[_0x3aae('0xb')]['on']('data',function(_0x1f51fb){_0x22a3b4+=_0x1f51fb+'\x0a';});_0x2c253f[_0x3aae('0x16')]['on']('data',function(_0x296dc2){console[_0x3aae('0x8')](String(_0x296dc2));_0x2f2870=![];});_0x2c253f[_0x3aae('0xb')]['on']('close',function(_0x52406f){var _0x510185=_0x22a3b4['split']('\x0a\x0a');for(var _0xc91bce=0x0;_0xc91bce<_0x510185[_0x3aae('0x17')];_0xc91bce++){_0x510185[_0xc91bce]=_0x510185[_0xc91bce][_0x3aae('0x18')](/"/g,'');}_0x22a3b4=_0x510185['join']('\x0a');if(_0x2f2870)_0x59b50f[_0x3aae('0xe')](0xc8)[_0x3aae('0x19')]({'data':_0x22a3b4});else _0x59b50f[_0x3aae('0xe')](0x1f4)[_0x3aae('0xf')](_0x3aae('0x1a'));});});_0x4b4dae[_0x3aae('0x1')]('/api/cookie',_0x47238a(),function(_0x35119a,_0x2b849c){_0x2b849c[_0x3aae('0xe')](0xc8)[_0x3aae('0xf')](_0x35119a[_0x3aae('0x1b')]);});function _0x47238a(){return function(_0x44dc02,_0x102464,_0x58c4a7){if(_0x44dc02[_0x3aae('0x1c')]()){return _0x58c4a7();}else{_0x102464[_0x3aae('0xe')](0x191)[_0x3aae('0xf')]('User\x20Unauthenticated');}};}};