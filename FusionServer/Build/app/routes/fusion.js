var _0x5d76=['--pretty=format:\x22[%cd]\x20(%h)\x20:\x20%s\x22','--date=short','split','length','replace','join','json','Error\x20Reading\x20changelog','/api/cookie','user','isAuthenticated','User\x20Unauthenticated','/api/fusion/update','bash','pipe','stdout','data','log','emit','update-output','close','status','send','Update\x20starting','get','/api/fusion/restore','child_process','spawn','scripts/restoreFusion.sh','sudo','stderr','Restore\x20starting','/api/fusion/releaseNotes'];(function(_0x762660,_0x2beaee){var _0x222d7d=function(_0x2c8a26){while(--_0x2c8a26){_0x762660['push'](_0x762660['shift']());}};_0x222d7d(++_0x2beaee);}(_0x5d76,0x177));var _0x2c7d=function(_0x103b04,_0x93c51e){_0x103b04=_0x103b04-0x0;var _0x2f46eb=_0x5d76[_0x103b04];return _0x2f46eb;};module['exports']=function(_0x5261d0,_0x32824b){_0x5261d0['get'](_0x2c7d('0x0'),_0x3db2fd(),function(_0x25a606,_0x5d8f03){try{var _0x2627a9=require('child_process')['spawn'];var _0x5b9b2f='scripts/updateFusion.sh';var _0x3f094b=_0x2627a9('sudo',[_0x2c7d('0x1'),_0x5b9b2f],{'stdio':_0x2c7d('0x2')});_0x3f094b[_0x2c7d('0x3')]['on'](_0x2c7d('0x4'),function(_0x7f123){console[_0x2c7d('0x5')](String(_0x7f123));_0x32824b[_0x2c7d('0x6')](_0x2c7d('0x7'),{'output':String(_0x7f123)});});_0x3f094b['stderr']['on'](_0x2c7d('0x4'),function(_0x16098c){console[_0x2c7d('0x5')](String(_0x16098c));_0x32824b[_0x2c7d('0x6')](_0x2c7d('0x7'),{'output':String(_0x16098c)});});_0x3f094b[_0x2c7d('0x3')]['on'](_0x2c7d('0x8'),function(_0x1e57d8){console[_0x2c7d('0x5')](String('Update\x20Finished!'));});}catch(_0x467f35){console[_0x2c7d('0x5')](_0x467f35);}_0x5d8f03[_0x2c7d('0x9')](0xc8)[_0x2c7d('0xa')](_0x2c7d('0xb'));});_0x5261d0[_0x2c7d('0xc')](_0x2c7d('0xd'),_0x3db2fd(),function(_0x2f22dd,_0x761e9){try{var _0x25a5cb=require(_0x2c7d('0xe'))[_0x2c7d('0xf')];var _0x21e208=_0x2c7d('0x10');var _0x2a9072=_0x25a5cb(_0x2c7d('0x11'),[_0x2c7d('0x1'),_0x21e208],{'stdio':_0x2c7d('0x2')});_0x2a9072[_0x2c7d('0x3')]['on'](_0x2c7d('0x4'),function(_0x192a6d){console[_0x2c7d('0x5')](String(_0x192a6d));_0x32824b[_0x2c7d('0x6')](_0x2c7d('0x7'),{'output':String(_0x192a6d)});});_0x2a9072[_0x2c7d('0x12')]['on'](_0x2c7d('0x4'),function(_0x59724b){console['log'](String(_0x59724b));_0x32824b[_0x2c7d('0x6')]('update-output',{'output':String(_0x59724b)});});_0x2a9072[_0x2c7d('0x3')]['on'](_0x2c7d('0x8'),function(_0x33f78e){console[_0x2c7d('0x5')](String('Restore\x20Finished!'));});}catch(_0xa35bc7){console['log'](_0xa35bc7);}_0x761e9[_0x2c7d('0x9')](0xc8)['send'](_0x2c7d('0x13'));});_0x5261d0[_0x2c7d('0xc')](_0x2c7d('0x14'),function(_0x492d90,_0x2a641e){var _0x3777cc=require(_0x2c7d('0xe'))['spawn'];var _0x27c2d3='';var _0x3066c8=!![];var _0x5b46c2=_0x3777cc('git',[_0x2c7d('0x5'),_0x2c7d('0x15'),_0x2c7d('0x16'),'--no-merges'],{'stdio':_0x2c7d('0x2')});_0x5b46c2[_0x2c7d('0x3')]['on']('data',function(_0x17a03c){_0x27c2d3+=_0x17a03c+'\x0a';});_0x5b46c2[_0x2c7d('0x12')]['on'](_0x2c7d('0x4'),function(_0x3bfd8a){console['log'](String(_0x3bfd8a));_0x3066c8=![];});_0x5b46c2[_0x2c7d('0x3')]['on'](_0x2c7d('0x8'),function(_0x7314ff){var _0x3807d8=_0x27c2d3[_0x2c7d('0x17')]('\x0a\x0a');for(var _0x3217c6=0x0;_0x3217c6<_0x3807d8[_0x2c7d('0x18')];_0x3217c6++){_0x3807d8[_0x3217c6]=_0x3807d8[_0x3217c6][_0x2c7d('0x19')](/"/g,'');}_0x27c2d3=_0x3807d8[_0x2c7d('0x1a')]('\x0a');if(_0x3066c8)_0x2a641e['status'](0xc8)[_0x2c7d('0x1b')]({'data':_0x27c2d3});else _0x2a641e[_0x2c7d('0x9')](0x1f4)[_0x2c7d('0xa')](_0x2c7d('0x1c'));});});_0x5261d0[_0x2c7d('0xc')](_0x2c7d('0x1d'),_0x3db2fd(),function(_0x805fb1,_0x408b01){_0x408b01['status'](0xc8)['send'](_0x805fb1[_0x2c7d('0x1e')]);});function _0x3db2fd(){return function(_0x2a504a,_0x5e3058,_0x23adc9){if(_0x2a504a[_0x2c7d('0x1f')]()){return _0x23adc9();}else{_0x5e3058[_0x2c7d('0x9')](0x191)[_0x2c7d('0xa')](_0x2c7d('0x20'));}};}};