<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Zac Zegarelli">
        <link rel="canonical" href="http://modernroboticsinc.com/Py_Integrating_Gyro/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Integrating Gyro (45-2005) - Fusion Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Fusion Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../Py_Rate_Gyro/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Py_Optical_Distance_Sensor/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#integrating-gyro-45-2005">Integrating Gyro (45-2005)</a></li>
            <li><a href="#fusionintgyrodriver-addr">Fusion.intGyro(driver, addr)</a></li>
            <li><a href="#setnull">setNull()</a></li>
            <li><a href="#setzero">setZero()</a></li>
            <li><a href="#getdegrees">getDegrees()</a></li>
            <li><a href="#getabsolute">getAbsolute()</a></li>
            <li><a href="#getaxisaxis">getAxis(axis)</a></li>
            <li><a href="#setscalescale">setScale(scale)</a></li>
            <li><a href="#if-any-problems-arise">If any problems arise</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="integrating-gyro-45-2005"><strong>Integrating Gyro (45-2005)</strong></h1>
<hr />
<p>The Integrating Gyro uses a 3-axis chip to obtain <strong>X</strong>, <strong>Y</strong> and <strong>Z</strong> coordinates as well as an integration of the z-axis to provide heading data. The integrated Z value is an integration of the z-axis over time and this value is used internally in heading calculations. The LED will blink at 1Hz during normal operation and will remain on during null operation (calibration). Once the null location is set, the sensor will maintain that reference until the sensor is recalibrated or zeroed.</p>
<blockquote>
<p><strong>Sensor Type</strong> : Four Wire I2C<br />
<strong>Default I2C Address</strong> : 0x20<br />
<strong>Sensor ID Code</strong> : 0x47<br />
<strong>Dimensions</strong> : 32mm x 32mm x 12mm<br />
<strong>Mounting Holes</strong> : 24mm x 24mm<br />
<strong>Power</strong> : 5V DC, 22mA Max<br />
<strong>Signal Logic Levels</strong> : Logic 0 - 0V, Logic 1 - 5V<br />
<strong>I2C Bus Speed</strong> : 100kHz max<br />
<strong>I2C Address Change Option</strong> : Yes (Even Number 0x10 - 0xEE)<br />
<a href="../Blk_Integrating_Gyro/">Integrating Gyro Visual Programming Blocks</a></p>
</blockquote>
<p><strong>List of available functions:</strong>  </p>
<ul>
<li><a href="./#fusionintgyrodriver-addr"><strong>Fusion.intGyro(<em>driver</em>, <em>addr</em>)</strong></a></li>
<li><a href="./#setnull"><strong>setNull()</strong></a></li>
<li><a href="./#setZero"><strong>setZero()</strong></a></li>
<li><a href="./#getDegrees"><strong>getDegrees()</strong></a></li>
<li><a href="./#getAbsolute"><strong>getAbsolute()</strong></a></li>
<li><a href="./#getaxisaxis"><strong>getAxis(<em>axis</em>)</strong></a></li>
<li><a href="./#setscalescale"><strong>setScale(<em>scale</em>)</strong></a></li>
</ul>
<p><img alt="" src="../img/Sensor_Diagrams/IntGyro.png" /></p>
<h2 id="fusionintgyrodriver-addr"><strong>Fusion.intGyro(<em>driver</em>, <em>addr</em>)</strong></h2>
<blockquote>
<h3 id="definition">Definition</h3>
<blockquote>
<p>This class contains the necessary drivers for the Modern Robotics Integrating Gyro and must be called at the beginning of the program before using any other class functions. </p>
</blockquote>
<h3 id="parameters">Parameters</h3>
<blockquote>
<p><strong><em>driver</em></strong> : Main driver object so the class can call driver functions (<strong>f</strong>)<br />
<strong><em>addr</em></strong> : Enter an I2C address in hexidecimal if different from default </p>
</blockquote>
<h3 id="returns">Returns</h3>
<blockquote>
<p>Integrating Gyro Object</p>
</blockquote>
<h3 id="example">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro1 = Fusion.intGyro(f)
int_gyro2 = Fusion.intGyro(f, 0x40)
</code></pre>
</blockquote>
</blockquote>
<h2 id="setnull"><strong>setNull()</strong></h2>
<blockquote>
<h3 id="definition_1">Definition</h3>
<blockquote>
<p>Setting the gyro to null will enable the user to calibrate their gyro. The gyro must be kept perfectly still and flat during the null operation. During the null operation, the LED will be on and remain on until calibration is complete. It is recommended that this function be called before starting the main program loop. This function writes to the EEPROM every time it is called. To set the gyro to 0 without writing to the EEPROM, use the <a href="#setzero">setZero()</a> function. </p>
</blockquote>
<h3 id="parameters_1">Parameters</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="returns_1">Returns</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="example_1">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
int_gyro.setNull()
</code></pre>
</blockquote>
</blockquote>
<h2 id="setzero"><strong>setZero()</strong></h2>
<blockquote>
<h3 id="definition_2">Definition</h3>
<blockquote>
<p>Sets the current heading to 0. Does not calibrate the gyro.  This is very useful for resetting the returned heading reading without needing to remain still for calibration.</p>
</blockquote>
<h3 id="parameters_2">Parameters</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="returns_2">Returns</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="example_2">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
int_gyro.setZero()
</code></pre>
</blockquote>
</blockquote>
<h2 id="getdegrees"><strong>getDegrees()</strong></h2>
<blockquote>
<h3 id="definition_3">Definition</h3>
<blockquote>
<p>Returns the value of the distance rotated from the null location in degrees. The readings are based on the Cartesian coordinate system of 0° - 359°.</p>
</blockquote>
<h3 id="parameters_3">Parameters</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="returns_3">Returns</h3>
<blockquote>
<p><strong><em>Degrees</em></strong> : int (0 - 359)</p>
</blockquote>
<h3 id="example_3">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
print int_gyro.getDegrees()
</code></pre>
</blockquote>
</blockquote>
<h2 id="getabsolute"><strong>getAbsolute()</strong></h2>
<blockquote>
<h3 id="definition_4">Definition</h3>
<blockquote>
<p>Returns the value of the total distance rotated from the null location in degrees. Rotating in a Clockwise fashion will produce increasing negative numbers and rotating in a Counter Clockwise direction will produce increasing positive numbers.</p>
</blockquote>
<h3 id="parameters_4">Parameters</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="returns_4">Returns</h3>
<blockquote>
<p><strong><em>Absolute</em></strong> : int (-32,767 - 32,768)</p>
</blockquote>
<h3 id="example_4">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
print int_gyro.getAbsolute()
</code></pre>
</blockquote>
</blockquote>
<h2 id="getaxisaxis"><strong>getAxis(<em>axis</em>)</strong></h2>
<blockquote>
<h3 id="definition_5">Definition</h3>
<blockquote>
<p>This function returns the rate of rotation for a particular axis in degrees.</p>
</blockquote>
<h3 id="parameters_5">Parameters</h3>
<blockquote>
<p><strong><em>axis</em></strong> : char ( '<strong>X</strong>' , '<strong>Y</strong>' , '<strong>Z</strong>')</p>
</blockquote>
<h3 id="returns_5">Returns</h3>
<blockquote>
<p><strong><em>Axis Rotation</em></strong></p>
</blockquote>
<h3 id="example_5">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
print int_gyro.getAxis('X')
</code></pre>
</blockquote>
</blockquote>
<h2 id="setscalescale"><strong>setScale(<em>scale</em>)</strong></h2>
<blockquote>
<h3 id="definition_6">Definition</h3>
<blockquote>
<p>This function allows for scaling on the z-axis. The z-axis scaling coefficient is a 16-bit value meant to scale the heading reading so that more precise measurements can be made.<br />
The formula for calculating the z-axis scaling coefficient (<em>scale</em>):</p>
<p><img alt="" src="../img/Sensor_Diagrams/scale.png" /></p>
<p>Therefore if an Integrating Gyro rotates 360° but the returned heading values read 380°, (20° if reading in degree mode) which is 20° over what was expected, then the formula above can be used to scale the reading.  </p>
<p><strong><em>scale</em></strong> = Angle Rotated / Heading Value<br />
<strong><em>scale</em></strong> = 360 / 380<br />
<strong><em>scale</em></strong> = .947</p>
<p>Then the setScale(<em>scale</em>) function can be called with the <em>scale</em> that was found during calculations.</p>
<p><code>int_gyro.setScale(.947)</code></p>
<p>Once the value is set using this function, it will be saved in EEPROM. Therefore it only needs to be called once to be set and the only way to change the value it to call the function again.</p>
</blockquote>
<h3 id="parameters_6">Parameters</h3>
<blockquote>
<p><strong><em>scale</em></strong> : float</p>
</blockquote>
<h3 id="returns_6">Returns</h3>
<blockquote>
<p><strong>None</strong></p>
</blockquote>
<h3 id="example_6">Example</h3>
<blockquote>
<pre><code>import Fusion
f = Fusion.driver()
int_gyro = Fusion.intGyro(f)
int_gyro.setScale(.947)
</code></pre>
</blockquote>
</blockquote>
<h2 id="if-any-problems-arise"><strong>If any problems arise</strong></h2>
<blockquote>
<p>Contact Modern Robotics, Inc. at <a href="mailto:support@modernroboticsinc.com">support@modernroboticsinc.com</a> with a detailed description of the steps you have taken and observations you have made.</p>
<p><strong>Email Subject</strong>: Fusion Python Integrating Gyro</p>
</blockquote></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
